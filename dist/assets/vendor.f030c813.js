var t=Object.defineProperty,e=Object.defineProperties,n=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,s=(e,n,i)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,a=(t,e)=>{for(var n in e||(e={}))o.call(e,n)&&s(t,n,e[n]);if(i)for(var n of i(e))r.call(e,n)&&s(t,n,e[n]);return t},l=(t,i)=>e(t,n(i));function u(t,e){const n=Object.create(null),i=t.split(",");for(let o=0;o<i.length;o++)n[i[o]]=!0;return e?t=>!!n[t.toLowerCase()]:t=>!!n[t]}const c=u("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt"),h=u("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function p(t){return!!t||""===t}function f(t){if(R(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],o=B(i)?_(i):f(i);if(o)for(const t in o)e[t]=o[t]}return e}return B(t)||V(t)?t:void 0}const d=/;(?![^(]*\))/g,g=/:(.+)/;function _(t){const e={};return t.split(d).forEach((t=>{if(t){const n=t.split(g);n.length>1&&(e[n[0].trim()]=n[1].trim())}})),e}function m(t){let e="";if(B(t))e=t;else if(R(t))for(let n=0;n<t.length;n++){const i=m(t[n]);i&&(e+=i+" ")}else if(V(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function y(t,e){if(t===e)return!0;let n=F(t),i=F(e);if(n||i)return!(!n||!i)&&t.getTime()===e.getTime();if(n=R(t),i=R(e),n||i)return!(!n||!i)&&function(t,e){if(t.length!==e.length)return!1;let n=!0;for(let i=0;n&&i<t.length;i++)n=y(t[i],e[i]);return n}(t,e);if(n=V(t),i=V(e),n||i){if(!n||!i)return!1;if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t){const i=t.hasOwnProperty(n),o=e.hasOwnProperty(n);if(i&&!o||!i&&o||!y(t[n],e[n]))return!1}}return String(t)===String(e)}function v(t,e){return t.findIndex((t=>y(t,e)))}const x=t=>null==t?"":R(t)||V(t)&&(t.toString===U||!z(t.toString))?JSON.stringify(t,b,2):String(t),b=(t,e)=>e&&e.__v_isRef?b(t,e.value):D(e)?{[`Map(${e.size})`]:[...e.entries()].reduce(((t,[e,n])=>(t[`${e} =>`]=n,t)),{})}:k(e)?{[`Set(${e.size})`]:[...e.values()]}:!V(e)||R(e)||H(e)?e:String(e),w={},E=[],C=()=>{},S=()=>!1,I=/^on[^a-z]/,P=t=>I.test(t),M=t=>t.startsWith("onUpdate:"),N=Object.assign,T=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},O=Object.prototype.hasOwnProperty,A=(t,e)=>O.call(t,e),R=Array.isArray,D=t=>"[object Map]"===q(t),k=t=>"[object Set]"===q(t),F=t=>t instanceof Date,z=t=>"function"==typeof t,B=t=>"string"==typeof t,j=t=>"symbol"==typeof t,V=t=>null!==t&&"object"==typeof t,G=t=>V(t)&&z(t.then)&&z(t.catch),U=Object.prototype.toString,q=t=>U.call(t),H=t=>"[object Object]"===q(t),W=t=>B(t)&&"NaN"!==t&&"-"!==t[0]&&""+parseInt(t,10)===t,Z=u(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Y=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},X=/-(\w)/g,$=Y((t=>t.replace(X,((t,e)=>e?e.toUpperCase():"")))),K=/\B([A-Z])/g,J=Y((t=>t.replace(K,"-$1").toLowerCase())),Q=Y((t=>t.charAt(0).toUpperCase()+t.slice(1))),tt=Y((t=>t?`on${Q(t)}`:"")),et=(t,e)=>!Object.is(t,e),nt=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},it=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},ot=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let rt;const st=[];class at{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&rt&&(this.parent=rt,this.index=(rt.scopes||(rt.scopes=[])).push(this)-1)}run(t){if(this.active)try{return this.on(),t()}finally{this.off()}}on(){this.active&&(st.push(this),rt=this)}off(){this.active&&(st.pop(),rt=st[st.length-1])}stop(t){if(this.active){if(this.effects.forEach((t=>t.stop())),this.cleanups.forEach((t=>t())),this.scopes&&this.scopes.forEach((t=>t.stop(!0))),this.parent&&!t){const t=this.parent.scopes.pop();t&&t!==this&&(this.parent.scopes[this.index]=t,t.index=this.index)}this.active=!1}}}function lt(t,e){(e=e||rt)&&e.active&&e.effects.push(t)}const ut=t=>{const e=new Set(t);return e.w=0,e.n=0,e},ct=t=>(t.w&dt)>0,ht=t=>(t.n&dt)>0,pt=new WeakMap;let ft=0,dt=1;const gt=[];let _t;const mt=Symbol(""),yt=Symbol("");class vt{constructor(t,e=null,n){this.fn=t,this.scheduler=e,this.active=!0,this.deps=[],lt(this,n)}run(){if(!this.active)return this.fn();if(!gt.includes(this))try{return gt.push(_t=this),wt.push(bt),bt=!0,dt=1<<++ft,ft<=30?(({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=dt})(this):xt(this),this.fn()}finally{ft<=30&&(t=>{const{deps:e}=t;if(e.length){let n=0;for(let i=0;i<e.length;i++){const o=e[i];ct(o)&&!ht(o)?o.delete(t):e[n++]=o,o.w&=~dt,o.n&=~dt}e.length=n}})(this),dt=1<<--ft,Ct(),gt.pop();const t=gt.length;_t=t>0?gt[t-1]:void 0}}stop(){this.active&&(xt(this),this.onStop&&this.onStop(),this.active=!1)}}function xt(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let bt=!0;const wt=[];function Et(){wt.push(bt),bt=!1}function Ct(){const t=wt.pop();bt=void 0===t||t}function St(t,e,n){if(!It())return;let i=pt.get(t);i||pt.set(t,i=new Map);let o=i.get(n);o||i.set(n,o=ut()),Lt(o)}function It(){return bt&&void 0!==_t}function Lt(t,e){let n=!1;ft<=30?ht(t)||(t.n|=dt,n=!ct(t)):n=!t.has(_t),n&&(t.add(_t),_t.deps.push(t))}function Pt(t,e,n,i,o,r){const s=pt.get(t);if(!s)return;let a=[];if("clear"===e)a=[...s.values()];else if("length"===n&&R(t))s.forEach(((t,e)=>{("length"===e||e>=i)&&a.push(t)}));else switch(void 0!==n&&a.push(s.get(n)),e){case"add":R(t)?W(n)&&a.push(s.get("length")):(a.push(s.get(mt)),D(t)&&a.push(s.get(yt)));break;case"delete":R(t)||(a.push(s.get(mt)),D(t)&&a.push(s.get(yt)));break;case"set":D(t)&&a.push(s.get(mt))}if(1===a.length)a[0]&&Mt(a[0]);else{const t=[];for(const e of a)e&&t.push(...e);Mt(ut(t))}}function Mt(t,e){for(const n of R(t)?t:[...t])(n!==_t||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const Nt=u("__proto__,__v_isRef,__isVue"),Tt=new Set(Object.getOwnPropertyNames(Symbol).map((t=>Symbol[t])).filter(j)),Ot=zt(),At=zt(!1,!0),Rt=zt(!0),Dt=zt(!0,!0),kt=Ft();function Ft(){const t={};return["includes","indexOf","lastIndexOf"].forEach((e=>{t[e]=function(...t){const n=Ie(this);for(let e=0,o=this.length;e<o;e++)St(n,0,e+"");const i=n[e](...t);return-1===i||!1===i?n[e](...t.map(Ie)):i}})),["push","pop","shift","unshift","splice"].forEach((e=>{t[e]=function(...t){Et();const n=Ie(this)[e].apply(this,t);return Ct(),n}})),t}function zt(t=!1,e=!1){return function(n,i,o){if("__v_isReactive"===i)return!t;if("__v_isReadonly"===i)return t;if("__v_raw"===i&&o===(t?e?me:_e:e?ge:de).get(n))return n;const r=R(n);if(!t&&r&&A(kt,i))return Reflect.get(kt,i,o);const s=Reflect.get(n,i,o);if(j(i)?Tt.has(i):Nt(i))return s;if(t||St(n,0,i),e)return s;if(Te(s)){return!r||!W(i)?s.value:s}return V(s)?t?be(s):ve(s):s}}function Bt(t=!1){return function(e,n,i,o){let r=e[n];if(!t&&(i=Ie(i),r=Ie(r),!R(e)&&Te(r)&&!Te(i)))return r.value=i,!0;const s=R(e)&&W(n)?Number(n)<e.length:A(e,n),a=Reflect.set(e,n,i,o);return e===Ie(o)&&(s?et(i,r)&&Pt(e,"set",n,i):Pt(e,"add",n,i)),a}}const jt={get:Ot,set:Bt(),deleteProperty:function(t,e){const n=A(t,e);t[e];const i=Reflect.deleteProperty(t,e);return i&&n&&Pt(t,"delete",e,void 0),i},has:function(t,e){const n=Reflect.has(t,e);return j(e)&&Tt.has(e)||St(t,0,e),n},ownKeys:function(t){return St(t,0,R(t)?"length":mt),Reflect.ownKeys(t)}},Vt={get:Rt,set:(t,e)=>!0,deleteProperty:(t,e)=>!0},Gt=N({},jt,{get:At,set:Bt(!0)}),Ut=N({},Vt,{get:Dt}),qt=t=>V(t)?ve(t):t,Ht=t=>V(t)?be(t):t,Wt=t=>t,Zt=t=>Reflect.getPrototypeOf(t);function Yt(t,e,n=!1,i=!1){const o=Ie(t=t.__v_raw),r=Ie(e);e!==r&&!n&&St(o,0,e),!n&&St(o,0,r);const{has:s}=Zt(o),a=i?Wt:n?Ht:qt;return s.call(o,e)?a(t.get(e)):s.call(o,r)?a(t.get(r)):void(t!==o&&t.get(e))}function Xt(t,e=!1){const n=this.__v_raw,i=Ie(n),o=Ie(t);return t!==o&&!e&&St(i,0,t),!e&&St(i,0,o),t===o?n.has(t):n.has(t)||n.has(o)}function $t(t,e=!1){return t=t.__v_raw,!e&&St(Ie(t),0,mt),Reflect.get(t,"size",t)}function Kt(t){t=Ie(t);const e=Ie(this);return Zt(e).has.call(e,t)||(e.add(t),Pt(e,"add",t,t)),this}function Jt(t,e){e=Ie(e);const n=Ie(this),{has:i,get:o}=Zt(n);let r=i.call(n,t);r||(t=Ie(t),r=i.call(n,t));const s=o.call(n,t);return n.set(t,e),r?et(e,s)&&Pt(n,"set",t,e):Pt(n,"add",t,e),this}function Qt(t){const e=Ie(this),{has:n,get:i}=Zt(e);let o=n.call(e,t);o||(t=Ie(t),o=n.call(e,t)),i&&i.call(e,t);const r=e.delete(t);return o&&Pt(e,"delete",t,void 0),r}function te(){const t=Ie(this),e=0!==t.size,n=t.clear();return e&&Pt(t,"clear",void 0,void 0),n}function ee(t,e){return function(n,i){const o=this,r=o.__v_raw,s=Ie(r),a=e?Wt:t?Ht:qt;return!t&&St(s,0,mt),r.forEach(((t,e)=>n.call(i,a(t),a(e),o)))}}function ne(t,e,n){return function(...i){const o=this.__v_raw,r=Ie(o),s=D(r),a="entries"===t||t===Symbol.iterator&&s,l="keys"===t&&s,u=o[t](...i),c=n?Wt:e?Ht:qt;return!e&&St(r,0,l?yt:mt),{next(){const{value:t,done:e}=u.next();return e?{value:t,done:e}:{value:a?[c(t[0]),c(t[1])]:c(t),done:e}},[Symbol.iterator](){return this}}}}function ie(t){return function(...e){return"delete"!==t&&this}}function oe(){const t={get(t){return Yt(this,t)},get size(){return $t(this)},has:Xt,add:Kt,set:Jt,delete:Qt,clear:te,forEach:ee(!1,!1)},e={get(t){return Yt(this,t,!1,!0)},get size(){return $t(this)},has:Xt,add:Kt,set:Jt,delete:Qt,clear:te,forEach:ee(!1,!0)},n={get(t){return Yt(this,t,!0)},get size(){return $t(this,!0)},has(t){return Xt.call(this,t,!0)},add:ie("add"),set:ie("set"),delete:ie("delete"),clear:ie("clear"),forEach:ee(!0,!1)},i={get(t){return Yt(this,t,!0,!0)},get size(){return $t(this,!0)},has(t){return Xt.call(this,t,!0)},add:ie("add"),set:ie("set"),delete:ie("delete"),clear:ie("clear"),forEach:ee(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach((o=>{t[o]=ne(o,!1,!1),n[o]=ne(o,!0,!1),e[o]=ne(o,!1,!0),i[o]=ne(o,!0,!0)})),[t,n,e,i]}const[re,se,ae,le]=oe();function ue(t,e){const n=e?t?le:ae:t?se:re;return(e,i,o)=>"__v_isReactive"===i?!t:"__v_isReadonly"===i?t:"__v_raw"===i?e:Reflect.get(A(n,i)&&i in e?n:e,i,o)}const ce={get:ue(!1,!1)},he={get:ue(!1,!0)},pe={get:ue(!0,!1)},fe={get:ue(!0,!0)},de=new WeakMap,ge=new WeakMap,_e=new WeakMap,me=new WeakMap;function ye(t){return t.__v_skip||!Object.isExtensible(t)?0:function(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((t=>q(t).slice(8,-1))(t))}function ve(t){return t&&t.__v_isReadonly?t:we(t,!1,jt,ce,de)}function xe(t){return we(t,!1,Gt,he,ge)}function be(t){return we(t,!0,Vt,pe,_e)}function we(t,e,n,i,o){if(!V(t))return t;if(t.__v_raw&&(!e||!t.__v_isReactive))return t;const r=o.get(t);if(r)return r;const s=ye(t);if(0===s)return t;const a=new Proxy(t,2===s?i:n);return o.set(t,a),a}function Ee(t){return Ce(t)?Ee(t.__v_raw):!(!t||!t.__v_isReactive)}function Ce(t){return!(!t||!t.__v_isReadonly)}function Se(t){return Ee(t)||Ce(t)}function Ie(t){const e=t&&t.__v_raw;return e?Ie(e):t}function Le(t){return it(t,"__v_skip",!0),t}function Pe(t){It()&&((t=Ie(t)).dep||(t.dep=ut()),Lt(t.dep))}function Me(t,e){(t=Ie(t)).dep&&Mt(t.dep)}const Ne=t=>V(t)?ve(t):t;function Te(t){return Boolean(t&&!0===t.__v_isRef)}function Oe(t){return De(t,!1)}function Ae(t){return De(t,!0)}class Re{constructor(t,e){this._shallow=e,this.dep=void 0,this.__v_isRef=!0,this._rawValue=e?t:Ie(t),this._value=e?t:Ne(t)}get value(){return Pe(this),this._value}set value(t){t=this._shallow?t:Ie(t),et(t,this._rawValue)&&(this._rawValue=t,this._value=this._shallow?t:Ne(t),Me(this))}}function De(t,e){return Te(t)?t:new Re(t,e)}function ke(t){return Te(t)?t.value:t}const Fe={get:(t,e,n)=>ke(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const o=t[e];return Te(o)&&!Te(n)?(o.value=n,!0):Reflect.set(t,e,n,i)}};function ze(t){return Ee(t)?t:new Proxy(t,Fe)}class Be{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:e,set:n}=t((()=>Pe(this)),(()=>Me(this)));this._get=e,this._set=n}get value(){return this._get()}set value(t){this._set(t)}}class je{constructor(t,e){this._object=t,this._key=e,this.__v_isRef=!0}get value(){return this._object[this._key]}set value(t){this._object[this._key]=t}}function Ve(t,e){const n=t[e];return Te(n)?n:new je(t,e)}class Ge{constructor(t,e,n){this._setter=e,this.dep=void 0,this._dirty=!0,this.__v_isRef=!0,this.effect=new vt(t,(()=>{this._dirty||(this._dirty=!0,Me(this))})),this.__v_isReadonly=n}get value(){const t=Ie(this);return Pe(t),t._dirty&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function Ue(t,e){let n,i;z(t)?(n=t,i=C):(n=t.get,i=t.set);return new Ge(n,i,z(t)||!t.set)}let qe;Promise.resolve();function He(t,e,...n){const i=t.vnode.props||w;let o=n;const r=e.startsWith("update:"),s=r&&e.slice(7);if(s&&s in i){const t=`${"modelValue"===s?"model":s}Modifiers`,{number:e,trim:r}=i[t]||w;r?o=n.map((t=>t.trim())):e&&(o=n.map(ot))}let a,l=i[a=tt(e)]||i[a=tt($(e))];!l&&r&&(l=i[a=tt(J(e))]),l&&Zo(l,t,6,o);const u=i[a+"Once"];if(u){if(t.emitted){if(t.emitted[a])return}else t.emitted={};t.emitted[a]=!0,Zo(u,t,6,o)}}function We(t,e,n=!1){const i=e.emitsCache,o=i.get(t);if(void 0!==o)return o;const r=t.emits;let s={},a=!1;if(!z(t)){const i=t=>{const n=We(t,e,!0);n&&(a=!0,N(s,n))};!n&&e.mixins.length&&e.mixins.forEach(i),t.extends&&i(t.extends),t.mixins&&t.mixins.forEach(i)}return r||a?(R(r)?r.forEach((t=>s[t]=null)):N(s,r),i.set(t,s),s):(i.set(t,null),null)}function Ze(t,e){return!(!t||!P(e))&&(e=e.slice(2).replace(/Once$/,""),A(t,e[0].toLowerCase()+e.slice(1))||A(t,J(e))||A(t,e))}let Ye=null,Xe=null;function $e(t){const e=Ye;return Ye=t,Xe=t&&t.type.__scopeId||null,e}function Ke(t){Xe=t}function Je(){Xe=null}function Qe(t,e=Ye,n){if(!e)return t;if(t._n)return t;const i=(...n)=>{i._d&&$i(-1);const o=$e(e),r=t(...n);return $e(o),i._d&&$i(1),r};return i._n=!0,i._c=!0,i._d=!0,i}function tn(t){const{type:e,vnode:n,proxy:i,withProxy:o,props:r,propsOptions:[s],slots:a,attrs:l,emit:u,render:c,renderCache:h,data:p,setupState:f,ctx:d,inheritAttrs:g}=t;let _;const m=$e(t);try{let t;if(4&n.shapeFlag){const e=o||i;_=po(c.call(e,e,h,r,f,p,d)),t=l}else{const n=e;0,_=po(n.length>1?n(r,{attrs:l,slots:a,emit:u}):n(r,null)),t=e.props?l:nn(l)}let m=_;if(t&&!1!==g){const e=Object.keys(t),{shapeFlag:n}=m;e.length&&7&n&&(s&&e.some(M)&&(t=on(t,s)),m=lo(m,t))}0,n.dirs&&(m.dirs=m.dirs?m.dirs.concat(n.dirs):n.dirs),n.transition&&(m.transition=n.transition),_=m}catch(y){Hi.length=0,Yo(y,t,1),_=so(Ui)}return $e(m),_}function en(t){let e;for(let n=0;n<t.length;n++){const i=t[n];if(!to(i))return;if(i.type!==Ui||"v-if"===i.children){if(e)return;e=i}}return e}const nn=t=>{let e;for(const n in t)("class"===n||"style"===n||P(n))&&((e||(e={}))[n]=t[n]);return e},on=(t,e)=>{const n={};for(const i in t)M(i)&&i.slice(9)in e||(n[i]=t[i]);return n};function rn(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let o=0;o<i.length;o++){const r=i[o];if(e[r]!==t[r]&&!Ze(n,r))return!0}return!1}function sn({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const an={name:"Suspense",__isSuspense:!0,process(t,e,n,i,o,r,s,a,l,u){null==t?function(t,e,n,i,o,r,s,a,l){const{p:u,o:{createElement:c}}=l,h=c("div"),p=t.suspense=un(t,o,i,e,h,n,r,s,a,l);u(null,p.pendingBranch=t.ssContent,h,null,i,p,r,s),p.deps>0?(ln(t,"onPending"),ln(t,"onFallback"),u(null,t.ssFallback,e,n,i,null,r,s),pn(p,t.ssFallback)):p.resolve()}(e,n,i,o,r,s,a,l,u):function(t,e,n,i,o,r,s,a,{p:l,um:u,o:{createElement:c}}){const h=e.suspense=t.suspense;h.vnode=e,e.el=t.el;const p=e.ssContent,f=e.ssFallback,{activeBranch:d,pendingBranch:g,isInFallback:_,isHydrating:m}=h;if(g)h.pendingBranch=p,eo(p,g)?(l(g,p,h.hiddenContainer,null,o,h,r,s,a),h.deps<=0?h.resolve():_&&(l(d,f,n,i,o,null,r,s,a),pn(h,f))):(h.pendingId++,m?(h.isHydrating=!1,h.activeBranch=g):u(g,o,h),h.deps=0,h.effects.length=0,h.hiddenContainer=c("div"),_?(l(null,p,h.hiddenContainer,null,o,h,r,s,a),h.deps<=0?h.resolve():(l(d,f,n,i,o,null,r,s,a),pn(h,f))):d&&eo(p,d)?(l(d,p,n,i,o,h,r,s,a),h.resolve(!0)):(l(null,p,h.hiddenContainer,null,o,h,r,s,a),h.deps<=0&&h.resolve()));else if(d&&eo(p,d))l(d,p,n,i,o,h,r,s,a),pn(h,p);else if(ln(e,"onPending"),h.pendingBranch=p,h.pendingId++,l(null,p,h.hiddenContainer,null,o,h,r,s,a),h.deps<=0)h.resolve();else{const{timeout:t,pendingId:e}=h;t>0?setTimeout((()=>{h.pendingId===e&&h.fallback(f)}),t):0===t&&h.fallback(f)}}(t,e,n,i,o,s,a,l,u)},hydrate:function(t,e,n,i,o,r,s,a,l){const u=e.suspense=un(e,i,n,t.parentNode,document.createElement("div"),null,o,r,s,a,!0),c=l(t,u.pendingBranch=e.ssContent,n,u,r,s);0===u.deps&&u.resolve();return c},create:un,normalize:function(t){const{shapeFlag:e,children:n}=t,i=32&e;t.ssContent=cn(i?n.default:n),t.ssFallback=i?cn(n.fallback):so(Ui)}};function ln(t,e){const n=t.props&&t.props[e];z(n)&&n()}function un(t,e,n,i,o,r,s,a,l,u,c=!1){const{p:h,m:p,um:f,n:d,o:{parentNode:g,remove:_}}=u,m=ot(t.props&&t.props.timeout),y={vnode:t,parent:e,parentComponent:n,isSVG:s,container:i,hiddenContainer:o,anchor:r,deps:0,pendingId:0,timeout:"number"==typeof m?m:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:c,isUnmounted:!1,effects:[],resolve(t=!1){const{vnode:e,activeBranch:n,pendingBranch:i,pendingId:o,effects:r,parentComponent:s,container:a}=y;if(y.isHydrating)y.isHydrating=!1;else if(!t){const t=n&&i.transition&&"out-in"===i.transition.mode;t&&(n.transition.afterLeave=()=>{o===y.pendingId&&p(i,a,e,0)});let{anchor:e}=y;n&&(e=d(n),f(n,s,y,!0)),t||p(i,a,e,0)}pn(y,i),y.pendingBranch=null,y.isInFallback=!1;let l=y.parent,u=!1;for(;l;){if(l.pendingBranch){l.effects.push(...r),u=!0;break}l=l.parent}u||pr(r),y.effects=[],ln(e,"onResolve")},fallback(t){if(!y.pendingBranch)return;const{vnode:e,activeBranch:n,parentComponent:i,container:o,isSVG:r}=y;ln(e,"onFallback");const s=d(n),u=()=>{y.isInFallback&&(h(null,t,o,s,i,null,r,a,l),pn(y,t))},c=t.transition&&"out-in"===t.transition.mode;c&&(n.transition.afterLeave=u),y.isInFallback=!0,f(n,i,null,!0),c||u()},move(t,e,n){y.activeBranch&&p(y.activeBranch,t,e,n),y.container=t},next:()=>y.activeBranch&&d(y.activeBranch),registerDep(t,e){const n=!!y.pendingBranch;n&&y.deps++;const i=t.vnode.el;t.asyncDep.catch((e=>{Yo(e,t,0)})).then((o=>{if(t.isUnmounted||y.isUnmounted||y.pendingId!==t.suspenseId)return;t.asyncResolved=!0;const{vnode:r}=t;Do(t,o),i&&(r.el=i);const a=!i&&t.subTree.el;e(t,r,g(i||t.subTree.el),i?null:d(t.subTree),y,s,l),a&&_(a),sn(t,r.el),n&&0==--y.deps&&y.resolve()}))},unmount(t,e){y.isUnmounted=!0,y.activeBranch&&f(y.activeBranch,n,t,e),y.pendingBranch&&f(y.pendingBranch,n,t,e)}};return y}function cn(t){let e;if(z(t)){const n=t._c;n&&(t._d=!1,Zi()),t=t(),n&&(t._d=!0,e=Wi,Yi())}if(R(t)){const e=en(t);t=e}return t=po(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter((e=>e!==t))),t}function hn(t,e){e&&e.pendingBranch?R(t)?e.effects.push(...t):e.effects.push(t):pr(t)}function pn(t,e){t.activeBranch=e;const{vnode:n,parentComponent:i}=t,o=n.el=e.el;i&&i.subTree===n&&(i.vnode.el=o,sn(i,o))}function fn(t,e){if(Io){let n=Io.provides;const i=Io.parent&&Io.parent.provides;i===n&&(n=Io.provides=Object.create(i)),n[t]=e}else;}function dn(t,e,n=!1){const i=Io||Ye;if(i){const o=null==i.parent?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(o&&t in o)return o[t];if(arguments.length>1)return n&&z(e)?e.call(i.proxy):e}}function gn(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Bn((()=>{t.isMounted=!0})),Gn((()=>{t.isUnmounting=!0})),t}const _n=[Function,Array],mn={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:_n,onEnter:_n,onAfterEnter:_n,onEnterCancelled:_n,onBeforeLeave:_n,onLeave:_n,onAfterLeave:_n,onLeaveCancelled:_n,onBeforeAppear:_n,onAppear:_n,onAfterAppear:_n,onAppearCancelled:_n},setup(t,{slots:e}){const n=Lo(),i=gn();let o;return()=>{const r=e.default&&En(e.default(),!0);if(!r||!r.length)return;const s=Ie(t),{mode:a}=s,l=r[0];if(i.isLeaving)return xn(l);const u=bn(l);if(!u)return xn(l);const c=vn(u,s,i,n);wn(u,c);const h=n.subTree,p=h&&bn(h);let f=!1;const{getTransitionKey:d}=u.type;if(d){const t=d();void 0===o?o=t:t!==o&&(o=t,f=!0)}if(p&&p.type!==Ui&&(!eo(u,p)||f)){const t=vn(p,s,i,n);if(wn(p,t),"out-in"===a)return i.isLeaving=!0,t.afterLeave=()=>{i.isLeaving=!1,n.update()},xn(l);"in-out"===a&&u.type!==Ui&&(t.delayLeave=(t,e,n)=>{yn(i,p)[String(p.key)]=p,t._leaveCb=()=>{e(),t._leaveCb=void 0,delete c.delayedLeave},c.delayedLeave=n})}return l}}};function yn(t,e){const{leavingVNodes:n}=t;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function vn(t,e,n,i){const{appear:o,mode:r,persisted:s=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:u,onEnterCancelled:c,onBeforeLeave:h,onLeave:p,onAfterLeave:f,onLeaveCancelled:d,onBeforeAppear:g,onAppear:_,onAfterAppear:m,onAppearCancelled:y}=e,v=String(t.key),x=yn(n,t),b=(t,e)=>{t&&Zo(t,i,9,e)},w={mode:r,persisted:s,beforeEnter(e){let i=a;if(!n.isMounted){if(!o)return;i=g||a}e._leaveCb&&e._leaveCb(!0);const r=x[v];r&&eo(t,r)&&r.el._leaveCb&&r.el._leaveCb(),b(i,[e])},enter(t){let e=l,i=u,r=c;if(!n.isMounted){if(!o)return;e=_||l,i=m||u,r=y||c}let s=!1;const a=t._enterCb=e=>{s||(s=!0,b(e?r:i,[t]),w.delayedLeave&&w.delayedLeave(),t._enterCb=void 0)};e?(e(t,a),e.length<=1&&a()):a()},leave(e,i){const o=String(t.key);if(e._enterCb&&e._enterCb(!0),n.isUnmounting)return i();b(h,[e]);let r=!1;const s=e._leaveCb=n=>{r||(r=!0,i(),b(n?d:f,[e]),e._leaveCb=void 0,x[o]===t&&delete x[o])};x[o]=t,p?(p(e,s),p.length<=1&&s()):s()},clone:t=>vn(t,e,n,i)};return w}function xn(t){if(Ln(t))return(t=lo(t)).children=null,t}function bn(t){return Ln(t)?t.children?t.children[0]:void 0:t}function wn(t,e){6&t.shapeFlag&&t.component?wn(t.component.subTree,e):128&t.shapeFlag?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function En(t,e=!1){let n=[],i=0;for(let o=0;o<t.length;o++){const r=t[o];r.type===Vi?(128&r.patchFlag&&i++,n=n.concat(En(r.children,e))):(e||r.type!==Ui)&&n.push(r)}if(i>1)for(let o=0;o<n.length;o++)n[o].patchFlag=-2;return n}function Cn(t){return z(t)?{setup:t,name:t.name}:t}const Sn=t=>!!t.type.__asyncLoader;function In(t,{vnode:{ref:e,props:n,children:i}}){const o=so(t,n,i);return o.ref=e,o}const Ln=t=>t.type.__isKeepAlive,Pn={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=Lo(),i=n.ctx;if(!i.renderer)return e.default;const o=new Map,r=new Set;let s=null;const a=n.suspense,{renderer:{p:l,m:u,um:c,o:{createElement:h}}}=i,p=h("div");function f(t){Rn(t),c(t,n,a)}function d(t){o.forEach(((e,n)=>{const i=jo(e.type);!i||t&&t(i)||g(n)}))}function g(t){const e=o.get(t);s&&e.type===s.type?s&&Rn(s):f(e),o.delete(t),r.delete(t)}i.activate=(t,e,n,i,o)=>{const r=t.component;u(t,e,n,0,a),l(r.vnode,t,e,n,r,a,i,t.slotScopeIds,o),Si((()=>{r.isDeactivated=!1,r.a&&nt(r.a);const e=t.props&&t.props.onVnodeMounted;e&&Ni(e,r.parent,t)}),a)},i.deactivate=t=>{const e=t.component;u(t,p,null,1,a),Si((()=>{e.da&&nt(e.da);const n=t.props&&t.props.onVnodeUnmounted;n&&Ni(n,e.parent,t),e.isDeactivated=!0}),a)},vr((()=>[t.include,t.exclude]),(([t,e])=>{t&&d((e=>Mn(t,e))),e&&d((t=>!Mn(e,t)))}),{flush:"post",deep:!0});let _=null;const m=()=>{null!=_&&o.set(_,Dn(n.subTree))};return Bn(m),Vn(m),Gn((()=>{o.forEach((t=>{const{subTree:e,suspense:i}=n,o=Dn(e);if(t.type!==o.type)f(t);else{Rn(o);const t=o.component.da;t&&Si(t,i)}}))})),()=>{if(_=null,!e.default)return null;const n=e.default(),i=n[0];if(n.length>1)return s=null,n;if(!(to(i)&&(4&i.shapeFlag||128&i.shapeFlag)))return s=null,i;let a=Dn(i);const l=a.type,u=jo(Sn(a)?a.type.__asyncResolved||{}:l),{include:c,exclude:h,max:p}=t;if(c&&(!u||!Mn(c,u))||h&&u&&Mn(h,u))return s=a,i;const f=null==a.key?l:a.key,d=o.get(f);return a.el&&(a=lo(a),128&i.shapeFlag&&(i.ssContent=a)),_=f,d?(a.el=d.el,a.component=d.component,a.transition&&wn(a,a.transition),a.shapeFlag|=512,r.delete(f),r.add(f)):(r.add(f),p&&r.size>parseInt(p,10)&&g(r.values().next().value)),a.shapeFlag|=256,s=a,i}}};function Mn(t,e){return R(t)?t.some((t=>Mn(t,e))):B(t)?t.split(",").indexOf(e)>-1:!!t.test&&t.test(e)}function Nn(t,e){On(t,"a",e)}function Tn(t,e){On(t,"da",e)}function On(t,e,n=Io){const i=t.__wdc||(t.__wdc=()=>{let e=n;for(;e;){if(e.isDeactivated)return;e=e.parent}t()});if(kn(e,i,n),n){let t=n.parent;for(;t&&t.parent;)Ln(t.parent.vnode)&&An(i,e,n,t),t=t.parent}}function An(t,e,n,i){const o=kn(e,t,i,!0);Un((()=>{T(i[e],o)}),n)}function Rn(t){let e=t.shapeFlag;256&e&&(e-=256),512&e&&(e-=512),t.shapeFlag=e}function Dn(t){return 128&t.shapeFlag?t.ssContent:t}function kn(t,e,n=Io,i=!1){if(n){const o=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...i)=>{if(n.isUnmounted)return;Et(),Po(n);const o=Zo(e,n,t,i);return Mo(),Ct(),o});return i?o.unshift(r):o.push(r),r}}const Fn=t=>(e,n=Io)=>(!Ao||"sp"===t)&&kn(t,e,n),zn=Fn("bm"),Bn=Fn("m"),jn=Fn("bu"),Vn=Fn("u"),Gn=Fn("bum"),Un=Fn("um"),qn=Fn("sp"),Hn=Fn("rtg"),Wn=Fn("rtc");function Zn(t,e=Io){kn("ec",t,e)}let Yn=!0;function Xn(t){const e=Jn(t),n=t.proxy,i=t.ctx;Yn=!1,e.beforeCreate&&$n(e.beforeCreate,t,"bc");const{data:o,computed:r,methods:s,watch:a,provide:l,inject:u,created:c,beforeMount:h,mounted:p,beforeUpdate:f,updated:d,activated:g,deactivated:_,beforeDestroy:m,beforeUnmount:y,destroyed:v,unmounted:x,render:b,renderTracked:w,renderTriggered:E,errorCaptured:S,serverPrefetch:I,expose:L,inheritAttrs:P,components:M,directives:N,filters:T}=e;if(u&&function(t,e,n=C,i=!1){R(t)&&(t=ni(t));for(const o in t){const n=t[o];let r;r=V(n)?"default"in n?dn(n.from||o,n.default,!0):dn(n.from||o):dn(n),Te(r)&&i?Object.defineProperty(e,o,{enumerable:!0,configurable:!0,get:()=>r.value,set:t=>r.value=t}):e[o]=r}}(u,i,null,t.appContext.config.unwrapInjectedRef),s)for(const C in s){const t=s[C];z(t)&&(i[C]=t.bind(n))}if(o){const e=o.call(n,n);V(e)&&(t.data=ve(e))}if(Yn=!0,r)for(const A in r){const t=r[A],e=Ue({get:z(t)?t.bind(n,n):z(t.get)?t.get.bind(n,n):C,set:!z(t)&&z(t.set)?t.set.bind(n):C});Object.defineProperty(i,A,{enumerable:!0,configurable:!0,get:()=>e.value,set:t=>e.value=t})}if(a)for(const C in a)Kn(a[C],i,n,C);if(l){const t=z(l)?l.call(n):l;Reflect.ownKeys(t).forEach((e=>{fn(e,t[e])}))}function O(t,e){R(e)?e.forEach((e=>t(e.bind(n)))):e&&t(e.bind(n))}if(c&&$n(c,t,"c"),O(zn,h),O(Bn,p),O(jn,f),O(Vn,d),O(Nn,g),O(Tn,_),O(Zn,S),O(Wn,w),O(Hn,E),O(Gn,y),O(Un,x),O(qn,I),R(L))if(L.length){const e=t.exposed||(t.exposed={});L.forEach((t=>{Object.defineProperty(e,t,{get:()=>n[t],set:e=>n[t]=e})}))}else t.exposed||(t.exposed={});b&&t.render===C&&(t.render=b),null!=P&&(t.inheritAttrs=P),M&&(t.components=M),N&&(t.directives=N)}function $n(t,e,n){Zo(R(t)?t.map((t=>t.bind(e.proxy))):t.bind(e.proxy),e,n)}function Kn(t,e,n,i){const o=i.includes(".")?wr(n,i):()=>n[i];if(B(t)){const n=e[t];z(n)&&vr(o,n)}else if(z(t))vr(o,t.bind(n));else if(V(t))if(R(t))t.forEach((t=>Kn(t,e,n,i)));else{const i=z(t.handler)?t.handler.bind(n):e[t.handler];z(i)&&vr(o,i,t)}}function Jn(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:o,optionsCache:r,config:{optionMergeStrategies:s}}=t.appContext,a=r.get(e);let l;return a?l=a:o.length||n||i?(l={},o.length&&o.forEach((t=>Qn(l,t,s,!0))),Qn(l,e,s)):l=e,r.set(e,l),l}function Qn(t,e,n,i=!1){const{mixins:o,extends:r}=e;r&&Qn(t,r,n,!0),o&&o.forEach((e=>Qn(t,e,n,!0)));for(const s in e)if(i&&"expose"===s);else{const i=ti[s]||n&&n[s];t[s]=i?i(t[s],e[s]):e[s]}return t}const ti={data:ei,props:oi,emits:oi,methods:oi,computed:oi,beforeCreate:ii,created:ii,beforeMount:ii,mounted:ii,beforeUpdate:ii,updated:ii,beforeDestroy:ii,beforeUnmount:ii,destroyed:ii,unmounted:ii,activated:ii,deactivated:ii,errorCaptured:ii,serverPrefetch:ii,components:oi,directives:oi,watch:function(t,e){if(!t)return e;if(!e)return t;const n=N(Object.create(null),t);for(const i in e)n[i]=ii(t[i],e[i]);return n},provide:ei,inject:function(t,e){return oi(ni(t),ni(e))}};function ei(t,e){return e?t?function(){return N(z(t)?t.call(this,this):t,z(e)?e.call(this,this):e)}:e:t}function ni(t){if(R(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function ii(t,e){return t?[...new Set([].concat(t,e))]:e}function oi(t,e){return t?N(N(Object.create(null),t),e):e}function ri(t,e,n,i){const[o,r]=t.propsOptions;let s,a=!1;if(e)for(let l in e){if(Z(l))continue;const u=e[l];let c;o&&A(o,c=$(l))?r&&r.includes(c)?(s||(s={}))[c]=u:n[c]=u:Ze(t.emitsOptions,l)||u!==i[l]&&(i[l]=u,a=!0)}if(r){const e=Ie(n),i=s||w;for(let s=0;s<r.length;s++){const a=r[s];n[a]=si(o,e,a,i[a],t,!A(i,a))}}return a}function si(t,e,n,i,o,r){const s=t[n];if(null!=s){const t=A(s,"default");if(t&&void 0===i){const t=s.default;if(s.type!==Function&&z(t)){const{propsDefaults:r}=o;n in r?i=r[n]:(Po(o),i=r[n]=t.call(null,e),Mo())}else i=t}s[0]&&(r&&!t?i=!1:!s[1]||""!==i&&i!==J(n)||(i=!0))}return i}function ai(t,e,n=!1){const i=e.propsCache,o=i.get(t);if(o)return o;const r=t.props,s={},a=[];let l=!1;if(!z(t)){const i=t=>{l=!0;const[n,i]=ai(t,e,!0);N(s,n),i&&a.push(...i)};!n&&e.mixins.length&&e.mixins.forEach(i),t.extends&&i(t.extends),t.mixins&&t.mixins.forEach(i)}if(!r&&!l)return i.set(t,E),E;if(R(r))for(let c=0;c<r.length;c++){const t=$(r[c]);li(t)&&(s[t]=w)}else if(r)for(const c in r){const t=$(c);if(li(t)){const e=r[c],n=s[t]=R(e)||z(e)?{type:e}:e;if(n){const e=hi(Boolean,n.type),i=hi(String,n.type);n[0]=e>-1,n[1]=i<0||e<i,(e>-1||A(n,"default"))&&a.push(t)}}}const u=[s,a];return i.set(t,u),u}function li(t){return"$"!==t[0]}function ui(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:null===t?"null":""}function ci(t,e){return ui(t)===ui(e)}function hi(t,e){return R(e)?e.findIndex((e=>ci(e,t))):z(e)&&ci(e,t)?0:-1}const pi=t=>"_"===t[0]||"$stable"===t,fi=t=>R(t)?t.map(po):[po(t)],di=(t,e,n)=>{const i=Qe(((...t)=>fi(e(...t))),n);return i._c=!1,i},gi=(t,e,n)=>{const i=t._ctx;for(const o in t){if(pi(o))continue;const n=t[o];if(z(n))e[o]=di(0,n,i);else if(null!=n){const t=fi(n);e[o]=()=>t}}},_i=(t,e)=>{const n=fi(e);t.slots.default=()=>n};function mi(t,e,n,i){const o=t.dirs,r=e&&e.dirs;for(let s=0;s<o.length;s++){const a=o[s];r&&(a.oldValue=r[s].value);let l=a.dir[i];l&&(Et(),Zo(l,n,8,[t.el,a,t,e]),Ct())}}function yi(){return{app:null,config:{isNativeTag:S,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let vi=0;function xi(t,e){return function(n,i=null){null==i||V(i)||(i=null);const o=yi(),r=new Set;let s=!1;const a=o.app={_uid:vi++,_component:n,_props:i,_container:null,_context:o,_instance:null,version:Mr,get config(){return o.config},set config(t){},use:(t,...e)=>(r.has(t)||(t&&z(t.install)?(r.add(t),t.install(a,...e)):z(t)&&(r.add(t),t(a,...e))),a),mixin:t=>(o.mixins.includes(t)||o.mixins.push(t),a),component:(t,e)=>e?(o.components[t]=e,a):o.components[t],directive:(t,e)=>e?(o.directives[t]=e,a):o.directives[t],mount(r,l,u){if(!s){const c=so(n,i);return c.appContext=o,l&&e?e(c,r):t(c,r,u),s=!0,a._container=r,r.__vue_app__=a,c.component.proxy}},unmount(){s&&(t(null,a._container),delete a._container.__vue_app__)},provide:(t,e)=>(o.provides[t]=e,a)};return a}}let bi=!1;const wi=t=>/svg/.test(t.namespaceURI)&&"foreignObject"!==t.tagName,Ei=t=>8===t.nodeType;function Ci(t){const{mt:e,p:n,o:{patchProp:i,nextSibling:o,parentNode:r,remove:s,insert:a,createComment:l}}=t,u=(n,i,s,a,l,g=!1)=>{const _=Ei(n)&&"["===n.data,m=()=>f(n,i,s,a,l,_),{type:y,ref:v,shapeFlag:x}=i,b=n.nodeType;i.el=n;let w=null;switch(y){case Gi:3!==b?w=m():(n.data!==i.children&&(bi=!0,n.data=i.children),w=o(n));break;case Ui:w=8!==b||_?m():o(n);break;case qi:if(1===b){w=n;const t=!i.children.length;for(let e=0;e<i.staticCount;e++)t&&(i.children+=w.outerHTML),e===i.staticCount-1&&(i.anchor=w),w=o(w);return w}w=m();break;case Vi:w=_?p(n,i,s,a,l,g):m();break;default:if(1&x)w=1!==b||i.type.toLowerCase()!==n.tagName.toLowerCase()?m():c(n,i,s,a,l,g);else if(6&x){i.slotScopeIds=l;const t=r(n);if(e(i,t,null,s,a,wi(t),g),w=_?d(n):o(n),Sn(i)){let e;_?(e=so(Vi),e.anchor=w?w.previousSibling:t.lastChild):e=3===n.nodeType?uo(""):so("div"),e.el=n,i.component.subTree=e}}else 64&x?w=8!==b?m():i.type.hydrate(n,i,s,a,l,g,t,h):128&x&&(w=i.type.hydrate(n,i,s,a,wi(r(n)),l,g,t,u))}return null!=v&&Mi(v,null,a,i),w},c=(t,e,n,o,r,a)=>{a=a||!!e.dynamicChildren;const{type:l,props:u,patchFlag:c,shapeFlag:p,dirs:f}=e,d="input"===l&&f||"option"===l;if(d||-1!==c){if(f&&mi(e,null,n,"created"),u)if(d||!a||48&c)for(const e in u)(d&&e.endsWith("value")||P(e)&&!Z(e))&&i(t,e,null,u[e]);else u.onClick&&i(t,"onClick",null,u.onClick);let l;if((l=u&&u.onVnodeBeforeMount)&&Ni(l,n,e),f&&mi(e,null,n,"beforeMount"),((l=u&&u.onVnodeMounted)||f)&&hn((()=>{l&&Ni(l,n,e),f&&mi(e,null,n,"mounted")}),o),16&p&&(!u||!u.innerHTML&&!u.textContent)){let i=h(t.firstChild,e,t,n,o,r,a);for(;i;){bi=!0;const t=i;i=i.nextSibling,s(t)}}else 8&p&&t.textContent!==e.children&&(bi=!0,t.textContent=e.children)}return t.nextSibling},h=(t,e,i,o,r,s,a)=>{a=a||!!e.dynamicChildren;const l=e.children,c=l.length;for(let h=0;h<c;h++){const e=a?l[h]:l[h]=po(l[h]);if(t)t=u(t,e,o,r,s,a);else{if(e.type===Gi&&!e.children)continue;bi=!0,n(null,e,i,null,o,r,wi(i),s)}}return t},p=(t,e,n,i,s,u)=>{const{slotScopeIds:c}=e;c&&(s=s?s.concat(c):c);const p=r(t),f=h(o(t),e,p,n,i,s,u);return f&&Ei(f)&&"]"===f.data?o(e.anchor=f):(bi=!0,a(e.anchor=l("]"),p,f),f)},f=(t,e,i,a,l,u)=>{if(bi=!0,e.el=null,u){const e=d(t);for(;;){const n=o(t);if(!n||n===e)break;s(n)}}const c=o(t),h=r(t);return s(t),n(null,e,h,c,i,a,wi(h),l),c},d=t=>{let e=0;for(;t;)if((t=o(t))&&Ei(t)&&("["===t.data&&e++,"]"===t.data)){if(0===e)return o(t);e--}return t};return[(t,e)=>{if(!e.hasChildNodes())return n(null,t,e),void dr();bi=!1,u(e.firstChild,t,null,null,null),dr(),bi&&console.error("Hydration completed but contains mismatches.")},u]}const Si=hn;function Ii(t){return Pi(t)}function Li(t){return Pi(t,Ci)}function Pi(t,e){const{insert:n,remove:i,patchProp:o,createElement:r,createText:s,createComment:a,setText:l,setElementText:u,parentNode:c,nextSibling:h,setScopeId:p=C,cloneNode:f,insertStaticContent:d}=t,g=(t,e,n,i=null,o=null,r=null,s=!1,a=null,l=!!e.dynamicChildren)=>{if(t===e)return;t&&!eo(t,e)&&(i=W(t),V(t,o,r,!0),t=null),-2===e.patchFlag&&(l=!1,e.dynamicChildren=null);const{type:u,ref:c,shapeFlag:h}=e;switch(u){case Gi:_(t,e,n,i);break;case Ui:m(t,e,n,i);break;case qi:null==t&&y(e,n,i,s);break;case Vi:M(t,e,n,i,o,r,s,a,l);break;default:1&h?v(t,e,n,i,o,r,s,a,l):6&h?T(t,e,n,i,o,r,s,a,l):(64&h||128&h)&&u.process(t,e,n,i,o,r,s,a,l,X)}null!=c&&o&&Mi(c,t&&t.ref,r,e||t,!e)},_=(t,e,i,o)=>{if(null==t)n(e.el=s(e.children),i,o);else{const n=e.el=t.el;e.children!==t.children&&l(n,e.children)}},m=(t,e,i,o)=>{null==t?n(e.el=a(e.children||""),i,o):e.el=t.el},y=(t,e,n,i)=>{[t.el,t.anchor]=d(t.children,e,n,i)},v=(t,e,n,i,o,r,s,a,l)=>{s=s||"svg"===e.type,null==t?x(e,n,i,o,r,s,a,l):I(t,e,o,r,s,a,l)},x=(t,e,i,s,a,l,c,h)=>{let p,d;const{type:g,props:_,shapeFlag:m,transition:y,patchFlag:v,dirs:x}=t;if(t.el&&void 0!==f&&-1===v)p=t.el=f(t.el);else{if(p=t.el=r(t.type,l,_&&_.is,_),8&m?u(p,t.children):16&m&&S(t.children,p,null,s,a,l&&"foreignObject"!==g,c,h),x&&mi(t,null,s,"created"),_){for(const e in _)"value"===e||Z(e)||o(p,e,null,_[e],l,t.children,s,a,H);"value"in _&&o(p,"value",null,_.value),(d=_.onVnodeBeforeMount)&&Ni(d,s,t)}b(p,t,t.scopeId,c,s)}x&&mi(t,null,s,"beforeMount");const w=(!a||a&&!a.pendingBranch)&&y&&!y.persisted;w&&y.beforeEnter(p),n(p,e,i),((d=_&&_.onVnodeMounted)||w||x)&&Si((()=>{d&&Ni(d,s,t),w&&y.enter(p),x&&mi(t,null,s,"mounted")}),a)},b=(t,e,n,i,o)=>{if(n&&p(t,n),i)for(let r=0;r<i.length;r++)p(t,i[r]);if(o){if(e===o.subTree){const e=o.vnode;b(t,e,e.scopeId,e.slotScopeIds,o.parent)}}},S=(t,e,n,i,o,r,s,a,l=0)=>{for(let u=l;u<t.length;u++){const l=t[u]=a?fo(t[u]):po(t[u]);g(null,l,e,n,i,o,r,s,a)}},I=(t,e,n,i,r,s,a)=>{const l=e.el=t.el;let{patchFlag:c,dynamicChildren:h,dirs:p}=e;c|=16&t.patchFlag;const f=t.props||w,d=e.props||w;let g;(g=d.onVnodeBeforeUpdate)&&Ni(g,n,e,t),p&&mi(e,t,n,"beforeUpdate");const _=r&&"foreignObject"!==e.type;if(h?L(t.dynamicChildren,h,l,n,i,_,s):a||F(t,e,l,null,n,i,_,s,!1),c>0){if(16&c)P(l,e,f,d,n,i,r);else if(2&c&&f.class!==d.class&&o(l,"class",null,d.class,r),4&c&&o(l,"style",f.style,d.style,r),8&c){const s=e.dynamicProps;for(let e=0;e<s.length;e++){const a=s[e],u=f[a],c=d[a];c===u&&"value"!==a||o(l,a,u,c,r,t.children,n,i,H)}}1&c&&t.children!==e.children&&u(l,e.children)}else a||null!=h||P(l,e,f,d,n,i,r);((g=d.onVnodeUpdated)||p)&&Si((()=>{g&&Ni(g,n,e,t),p&&mi(e,t,n,"updated")}),i)},L=(t,e,n,i,o,r,s)=>{for(let a=0;a<e.length;a++){const l=t[a],u=e[a],h=l.el&&(l.type===Vi||!eo(l,u)||70&l.shapeFlag)?c(l.el):n;g(l,u,h,null,i,o,r,s,!0)}},P=(t,e,n,i,r,s,a)=>{if(n!==i){for(const l in i){if(Z(l))continue;const u=i[l],c=n[l];u!==c&&"value"!==l&&o(t,l,c,u,a,e.children,r,s,H)}if(n!==w)for(const l in n)Z(l)||l in i||o(t,l,n[l],null,a,e.children,r,s,H);"value"in i&&o(t,"value",n.value,i.value)}},M=(t,e,i,o,r,a,l,u,c)=>{const h=e.el=t?t.el:s(""),p=e.anchor=t?t.anchor:s("");let{patchFlag:f,dynamicChildren:d,slotScopeIds:g}=e;g&&(u=u?u.concat(g):g),null==t?(n(h,i,o),n(p,i,o),S(e.children,i,p,r,a,l,u,c)):f>0&&64&f&&d&&t.dynamicChildren?(L(t.dynamicChildren,d,i,r,a,l,u),(null!=e.key||r&&e===r.subTree)&&Ti(t,e,!0)):F(t,e,i,p,r,a,l,u,c)},T=(t,e,n,i,o,r,s,a,l)=>{e.slotScopeIds=a,null==t?512&e.shapeFlag?o.ctx.activate(e,n,i,s,l):O(e,n,i,o,r,s,l):R(t,e,l)},O=(t,e,n,i,o,r,s)=>{const a=t.component=So(t,i,o);if(Ln(t)&&(a.ctx.renderer=X),Ro(a),a.asyncDep){if(o&&o.registerDep(a,D),!t.el){const t=a.subTree=so(Ui);m(null,t,e,n)}}else D(a,t,e,n,o,r,s)},R=(t,e,n)=>{const i=e.component=t.component;if(function(t,e,n){const{props:i,children:o,component:r}=t,{props:s,children:a,patchFlag:l}=e,u=r.emitsOptions;if(e.dirs||e.transition)return!0;if(!(n&&l>=0))return!(!o&&!a||a&&a.$stable)||i!==s&&(i?!s||rn(i,s,u):!!s);if(1024&l)return!0;if(16&l)return i?rn(i,s,u):!!s;if(8&l){const t=e.dynamicProps;for(let e=0;e<t.length;e++){const n=t[e];if(s[n]!==i[n]&&!Ze(u,n))return!0}}return!1}(t,e,n)){if(i.asyncDep&&!i.asyncResolved)return void k(i,e,n);i.next=e,function(t){const e=Ko.indexOf(t);e>Jo&&Ko.splice(e,1)}(i.update),i.update()}else e.component=t.component,e.el=t.el,i.vnode=e},D=(t,e,n,i,o,r,s)=>{const a=new vt((()=>{if(t.isMounted){let e,{next:n,bu:i,u:l,parent:u,vnode:h}=t,p=n;a.allowRecurse=!1,n?(n.el=h.el,k(t,n,s)):n=h,i&&nt(i),(e=n.props&&n.props.onVnodeBeforeUpdate)&&Ni(e,u,n,h),a.allowRecurse=!0;const f=tn(t),d=t.subTree;t.subTree=f,g(d,f,c(d.el),W(d),t,o,r),n.el=f.el,null===p&&sn(t,f.el),l&&Si(l,o),(e=n.props&&n.props.onVnodeUpdated)&&Si((()=>Ni(e,u,n,h)),o)}else{let s;const{el:l,props:u}=e,{bm:c,m:h,parent:p}=t,f=Sn(e);if(a.allowRecurse=!1,c&&nt(c),!f&&(s=u&&u.onVnodeBeforeMount)&&Ni(s,p,e),a.allowRecurse=!0,l&&Q){const n=()=>{t.subTree=tn(t),Q(l,t.subTree,t,o,null)};f?e.type.__asyncLoader().then((()=>!t.isUnmounted&&n())):n()}else{const s=t.subTree=tn(t);g(null,s,n,i,t,o,r),e.el=s.el}if(h&&Si(h,o),!f&&(s=u&&u.onVnodeMounted)){const t=e;Si((()=>Ni(s,p,t)),o)}256&e.shapeFlag&&t.a&&Si(t.a,o),t.isMounted=!0,e=n=i=null}}),(()=>ur(t.update)),t.scope),l=t.update=a.run.bind(a);l.id=t.uid,a.allowRecurse=l.allowRecurse=!0,l()},k=(t,e,n)=>{e.component=t;const i=t.vnode.props;t.vnode=e,t.next=null,function(t,e,n,i){const{props:o,attrs:r,vnode:{patchFlag:s}}=t,a=Ie(o),[l]=t.propsOptions;let u=!1;if(!(i||s>0)||16&s){let i;ri(t,e,o,r)&&(u=!0);for(const r in a)e&&(A(e,r)||(i=J(r))!==r&&A(e,i))||(l?!n||void 0===n[r]&&void 0===n[i]||(o[r]=si(l,a,r,void 0,t,!0)):delete o[r]);if(r!==a)for(const t in r)e&&A(e,t)||(delete r[t],u=!0)}else if(8&s){const n=t.vnode.dynamicProps;for(let i=0;i<n.length;i++){let s=n[i];const c=e[s];if(l)if(A(r,s))c!==r[s]&&(r[s]=c,u=!0);else{const e=$(s);o[e]=si(l,a,e,c,t,!1)}else c!==r[s]&&(r[s]=c,u=!0)}}u&&Pt(t,"set","$attrs")}(t,e.props,i,n),((t,e,n)=>{const{vnode:i,slots:o}=t;let r=!0,s=w;if(32&i.shapeFlag){const t=e._;t?n&&1===t?r=!1:(N(o,e),n||1!==t||delete o._):(r=!e.$stable,gi(e,o)),s=e}else e&&(_i(t,e),s={default:1});if(r)for(const a in o)pi(a)||a in s||delete o[a]})(t,e.children,n),Et(),fr(void 0,t.update),Ct()},F=(t,e,n,i,o,r,s,a,l=!1)=>{const c=t&&t.children,h=t?t.shapeFlag:0,p=e.children,{patchFlag:f,shapeFlag:d}=e;if(f>0){if(128&f)return void B(c,p,n,i,o,r,s,a,l);if(256&f)return void z(c,p,n,i,o,r,s,a,l)}8&d?(16&h&&H(c,o,r),p!==c&&u(n,p)):16&h?16&d?B(c,p,n,i,o,r,s,a,l):H(c,o,r,!0):(8&h&&u(n,""),16&d&&S(p,n,i,o,r,s,a,l))},z=(t,e,n,i,o,r,s,a,l)=>{e=e||E;const u=(t=t||E).length,c=e.length,h=Math.min(u,c);let p;for(p=0;p<h;p++){const i=e[p]=l?fo(e[p]):po(e[p]);g(t[p],i,n,null,o,r,s,a,l)}u>c?H(t,o,r,!0,!1,h):S(e,n,i,o,r,s,a,l,h)},B=(t,e,n,i,o,r,s,a,l)=>{let u=0;const c=e.length;let h=t.length-1,p=c-1;for(;u<=h&&u<=p;){const i=t[u],c=e[u]=l?fo(e[u]):po(e[u]);if(!eo(i,c))break;g(i,c,n,null,o,r,s,a,l),u++}for(;u<=h&&u<=p;){const i=t[h],u=e[p]=l?fo(e[p]):po(e[p]);if(!eo(i,u))break;g(i,u,n,null,o,r,s,a,l),h--,p--}if(u>h){if(u<=p){const t=p+1,h=t<c?e[t].el:i;for(;u<=p;)g(null,e[u]=l?fo(e[u]):po(e[u]),n,h,o,r,s,a,l),u++}}else if(u>p)for(;u<=h;)V(t[u],o,r,!0),u++;else{const f=u,d=u,_=new Map;for(u=d;u<=p;u++){const t=e[u]=l?fo(e[u]):po(e[u]);null!=t.key&&_.set(t.key,u)}let m,y=0;const v=p-d+1;let x=!1,b=0;const w=new Array(v);for(u=0;u<v;u++)w[u]=0;for(u=f;u<=h;u++){const i=t[u];if(y>=v){V(i,o,r,!0);continue}let c;if(null!=i.key)c=_.get(i.key);else for(m=d;m<=p;m++)if(0===w[m-d]&&eo(i,e[m])){c=m;break}void 0===c?V(i,o,r,!0):(w[c-d]=u+1,c>=b?b=c:x=!0,g(i,e[c],n,null,o,r,s,a,l),y++)}const C=x?function(t){const e=t.slice(),n=[0];let i,o,r,s,a;const l=t.length;for(i=0;i<l;i++){const l=t[i];if(0!==l){if(o=n[n.length-1],t[o]<l){e[i]=o,n.push(i);continue}for(r=0,s=n.length-1;r<s;)a=r+s>>1,t[n[a]]<l?r=a+1:s=a;l<t[n[r]]&&(r>0&&(e[i]=n[r-1]),n[r]=i)}}r=n.length,s=n[r-1];for(;r-- >0;)n[r]=s,s=e[s];return n}(w):E;for(m=C.length-1,u=v-1;u>=0;u--){const t=d+u,h=e[t],p=t+1<c?e[t+1].el:i;0===w[u]?g(null,h,n,p,o,r,s,a,l):x&&(m<0||u!==C[m]?j(h,n,p,2):m--)}}},j=(t,e,i,o,r=null)=>{const{el:s,type:a,transition:l,children:u,shapeFlag:c}=t;if(6&c)return void j(t.component.subTree,e,i,o);if(128&c)return void t.suspense.move(e,i,o);if(64&c)return void a.move(t,e,i,X);if(a===Vi){n(s,e,i);for(let t=0;t<u.length;t++)j(u[t],e,i,o);return void n(t.anchor,e,i)}if(a===qi)return void(({el:t,anchor:e},i,o)=>{let r;for(;t&&t!==e;)r=h(t),n(t,i,o),t=r;n(e,i,o)})(t,e,i);if(2!==o&&1&c&&l)if(0===o)l.beforeEnter(s),n(s,e,i),Si((()=>l.enter(s)),r);else{const{leave:t,delayLeave:o,afterLeave:r}=l,a=()=>n(s,e,i),u=()=>{t(s,(()=>{a(),r&&r()}))};o?o(s,a,u):u()}else n(s,e,i)},V=(t,e,n,i=!1,o=!1)=>{const{type:r,props:s,ref:a,children:l,dynamicChildren:u,shapeFlag:c,patchFlag:h,dirs:p}=t;if(null!=a&&Mi(a,null,n,t,!0),256&c)return void e.ctx.deactivate(t);const f=1&c&&p,d=!Sn(t);let g;if(d&&(g=s&&s.onVnodeBeforeUnmount)&&Ni(g,e,t),6&c)q(t.component,n,i);else{if(128&c)return void t.suspense.unmount(n,i);f&&mi(t,null,e,"beforeUnmount"),64&c?t.type.remove(t,e,n,o,X,i):u&&(r!==Vi||h>0&&64&h)?H(u,e,n,!1,!0):(r===Vi&&384&h||!o&&16&c)&&H(l,e,n),i&&G(t)}(d&&(g=s&&s.onVnodeUnmounted)||f)&&Si((()=>{g&&Ni(g,e,t),f&&mi(t,null,e,"unmounted")}),n)},G=t=>{const{type:e,el:n,anchor:o,transition:r}=t;if(e===Vi)return void U(n,o);if(e===qi)return void(({el:t,anchor:e})=>{let n;for(;t&&t!==e;)n=h(t),i(t),t=n;i(e)})(t);const s=()=>{i(n),r&&!r.persisted&&r.afterLeave&&r.afterLeave()};if(1&t.shapeFlag&&r&&!r.persisted){const{leave:e,delayLeave:i}=r,o=()=>e(n,s);i?i(t.el,s,o):o()}else s()},U=(t,e)=>{let n;for(;t!==e;)n=h(t),i(t),t=n;i(e)},q=(t,e,n)=>{const{bum:i,scope:o,update:r,subTree:s,um:a}=t;i&&nt(i),o.stop(),r&&(r.active=!1,V(s,t,e,n)),a&&Si(a,e),Si((()=>{t.isUnmounted=!0}),e),e&&e.pendingBranch&&!e.isUnmounted&&t.asyncDep&&!t.asyncResolved&&t.suspenseId===e.pendingId&&(e.deps--,0===e.deps&&e.resolve())},H=(t,e,n,i=!1,o=!1,r=0)=>{for(let s=r;s<t.length;s++)V(t[s],e,n,i,o)},W=t=>6&t.shapeFlag?W(t.component.subTree):128&t.shapeFlag?t.suspense.next():h(t.anchor||t.el),Y=(t,e,n)=>{null==t?e._vnode&&V(e._vnode,null,null,!0):g(e._vnode||null,t,e,null,null,null,n),dr(),e._vnode=t},X={p:g,um:V,m:j,r:G,mt:O,mc:S,pc:F,pbc:L,n:W,o:t};let K,Q;return e&&([K,Q]=e(X)),{render:Y,hydrate:K,createApp:xi(Y,K)}}function Mi(t,e,n,i,o=!1){if(R(t))return void t.forEach(((t,r)=>Mi(t,e&&(R(e)?e[r]:e),n,i,o)));if(Sn(i)&&!o)return;const r=4&i.shapeFlag?zo(i.component)||i.component.proxy:i.el,s=o?null:r,{i:a,r:l}=t,u=e&&e.r,c=a.refs===w?a.refs={}:a.refs,h=a.setupState;if(null!=u&&u!==l&&(B(u)?(c[u]=null,A(h,u)&&(h[u]=null)):Te(u)&&(u.value=null)),B(l)){const t=()=>{c[l]=s,A(h,l)&&(h[l]=s)};s?(t.id=-1,Si(t,n)):t()}else if(Te(l)){const t=()=>{l.value=s};s?(t.id=-1,Si(t,n)):t()}else z(l)&&Wo(l,a,12,[s,c])}function Ni(t,e,n,i=null){Zo(t,e,7,[n,i])}function Ti(t,e,n=!1){const i=t.children,o=e.children;if(R(i)&&R(o))for(let r=0;r<i.length;r++){const t=i[r];let e=o[r];1&e.shapeFlag&&!e.dynamicChildren&&((e.patchFlag<=0||32===e.patchFlag)&&(e=o[r]=fo(o[r]),e.el=t.el),n||Ti(t,e))}}const Oi=t=>t&&(t.disabled||""===t.disabled),Ai=t=>"undefined"!=typeof SVGElement&&t instanceof SVGElement,Ri=(t,e)=>{const n=t&&t.to;if(B(n)){if(e){return e(n)}return null}return n};function Di(t,e,n,{o:{insert:i},m:o},r=2){0===r&&i(t.targetAnchor,e,n);const{el:s,anchor:a,shapeFlag:l,children:u,props:c}=t,h=2===r;if(h&&i(s,e,n),(!h||Oi(c))&&16&l)for(let p=0;p<u.length;p++)o(u[p],e,n,2);h&&i(a,e,n)}const ki={__isTeleport:!0,process(t,e,n,i,o,r,s,a,l,u){const{mc:c,pc:h,pbc:p,o:{insert:f,querySelector:d,createText:g,createComment:_}}=u,m=Oi(e.props);let{shapeFlag:y,children:v,dynamicChildren:x}=e;if(null==t){const t=e.el=g(""),u=e.anchor=g("");f(t,n,i),f(u,n,i);const h=e.target=Ri(e.props,d),p=e.targetAnchor=g("");h&&(f(p,h),s=s||Ai(h));const _=(t,e)=>{16&y&&c(v,t,e,o,r,s,a,l)};m?_(n,u):h&&_(h,p)}else{e.el=t.el;const i=e.anchor=t.anchor,c=e.target=t.target,f=e.targetAnchor=t.targetAnchor,g=Oi(t.props),_=g?n:c,y=g?i:f;if(s=s||Ai(c),x?(p(t.dynamicChildren,x,_,o,r,s,a),Ti(t,e,!0)):l||h(t,e,_,y,o,r,s,a,!1),m)g||Di(e,n,i,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const t=e.target=Ri(e.props,d);t&&Di(e,t,null,u,0)}else g&&Di(e,c,f,u,1)}},remove(t,e,n,i,{um:o,o:{remove:r}},s){const{shapeFlag:a,children:l,anchor:u,targetAnchor:c,target:h,props:p}=t;if(h&&r(c),(s||!Oi(p))&&(r(u),16&a))for(let f=0;f<l.length;f++){const t=l[f];o(t,e,n,!0,!!t.dynamicChildren)}},move:Di,hydrate:function(t,e,n,i,o,r,{o:{nextSibling:s,parentNode:a,querySelector:l}},u){const c=e.target=Ri(e.props,l);if(c){const l=c._lpa||c.firstChild;16&e.shapeFlag&&(Oi(e.props)?(e.anchor=u(s(t),e,a(t),n,i,o,r),e.targetAnchor=l):(e.anchor=s(t),e.targetAnchor=u(l,e,c,n,i,o,r)),c._lpa=e.targetAnchor&&s(e.targetAnchor))}return e.anchor&&s(e.anchor)}};function Fi(t,e){return Bi("components",t,!0,e)||t}const zi=Symbol();function Bi(t,e,n=!0,i=!1){const o=Ye||Io;if(o){const n=o.type;if("components"===t){const t=jo(n);if(t&&(t===e||t===$(e)||t===Q($(e))))return n}const r=ji(o[t]||n[t],e)||ji(o.appContext[t],e);return!r&&i?n:r}}function ji(t,e){return t&&(t[e]||t[$(e)]||t[Q($(e))])}const Vi=Symbol(void 0),Gi=Symbol(void 0),Ui=Symbol(void 0),qi=Symbol(void 0),Hi=[];let Wi=null;function Zi(t=!1){Hi.push(Wi=t?null:[])}function Yi(){Hi.pop(),Wi=Hi[Hi.length-1]||null}let Xi=1;function $i(t){Xi+=t}function Ki(t){return t.dynamicChildren=Xi>0?Wi||E:null,Yi(),Xi>0&&Wi&&Wi.push(t),t}function Ji(t,e,n,i,o,r){return Ki(ro(t,e,n,i,o,r,!0))}function Qi(t,e,n,i,o){return Ki(so(t,e,n,i,o,!0))}function to(t){return!!t&&!0===t.__v_isVNode}function eo(t,e){return t.type===e.type&&t.key===e.key}const no="__vInternal",io=({key:t})=>null!=t?t:null,oo=({ref:t})=>null!=t?B(t)||Te(t)||z(t)?{i:Ye,r:t}:t:null;function ro(t,e=null,n=null,i=0,o=null,r=(t===Vi?0:1),s=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&io(e),ref:e&&oo(e),scopeId:Xe,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:i,dynamicProps:o,dynamicChildren:null,appContext:null};return a?(go(l,n),128&r&&t.normalize(l)):n&&(l.shapeFlag|=B(n)?8:16),Xi>0&&!s&&Wi&&(l.patchFlag>0||6&r)&&32!==l.patchFlag&&Wi.push(l),l}const so=function(t,e=null,n=null,i=0,o=null,r=!1){t&&t!==zi||(t=Ui);if(to(t)){const i=lo(t,e,!0);return n&&go(i,n),i}s=t,z(s)&&"__vccOpts"in s&&(t=t.__vccOpts);var s;if(e){e=ao(e);let{class:t,style:n}=e;t&&!B(t)&&(e.class=m(t)),V(n)&&(Se(n)&&!R(n)&&(n=N({},n)),e.style=f(n))}const a=B(t)?1:(t=>t.__isSuspense)(t)?128:(t=>t.__isTeleport)(t)?64:V(t)?4:z(t)?2:0;return ro(t,e,n,i,o,a,r,!0)};function ao(t){return t?Se(t)||no in t?N({},t):t:null}function lo(t,e,n=!1){const{props:i,ref:o,patchFlag:r,children:s}=t,a=e?_o(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&io(a),ref:e&&e.ref?n&&o?R(o)?o.concat(oo(e)):[o,oo(e)]:oo(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:s,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Vi?-1===r?16:16|r:r,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&lo(t.ssContent),ssFallback:t.ssFallback&&lo(t.ssFallback),el:t.el,anchor:t.anchor}}function uo(t=" ",e=0){return so(Gi,null,t,e)}function co(t,e){const n=so(qi,null,t);return n.staticCount=e,n}function ho(t="",e=!1){return e?(Zi(),Qi(Ui,null,t)):so(Ui,null,t)}function po(t){return null==t||"boolean"==typeof t?so(Ui):R(t)?so(Vi,null,t.slice()):"object"==typeof t?fo(t):so(Gi,null,String(t))}function fo(t){return null===t.el||t.memo?t:lo(t)}function go(t,e){let n=0;const{shapeFlag:i}=t;if(null==e)e=null;else if(R(e))n=16;else if("object"==typeof e){if(65&i){const n=e.default;return void(n&&(n._c&&(n._d=!1),go(t,n()),n._c&&(n._d=!0)))}{n=32;const i=e._;i||no in e?3===i&&Ye&&(1===Ye.slots._?e._=1:(e._=2,t.patchFlag|=1024)):e._ctx=Ye}}else z(e)?(e={default:e,_ctx:Ye},n=32):(e=String(e),64&i?(n=16,e=[uo(e)]):n=8);t.children=e,t.shapeFlag|=n}function _o(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const t in i)if("class"===t)e.class!==i.class&&(e.class=m([e.class,i.class]));else if("style"===t)e.style=f([e.style,i.style]);else if(P(t)){const n=e[t],o=i[t];n!==o&&(e[t]=n?[].concat(n,o):o)}else""!==t&&(e[t]=i[t])}return e}function mo(t,e,n,i){let o;const r=n&&n[i];if(R(t)||B(t)){o=new Array(t.length);for(let n=0,i=t.length;n<i;n++)o[n]=e(t[n],n,void 0,r&&r[n])}else if("number"==typeof t){o=new Array(t);for(let n=0;n<t;n++)o[n]=e(n+1,n,void 0,r&&r[n])}else if(V(t))if(t[Symbol.iterator])o=Array.from(t,((t,n)=>e(t,n,void 0,r&&r[n])));else{const n=Object.keys(t);o=new Array(n.length);for(let i=0,s=n.length;i<s;i++){const s=n[i];o[i]=e(t[s],s,i,r&&r[i])}}else o=[];return n&&(n[i]=o),o}function yo(t){return t.some((t=>!to(t)||t.type!==Ui&&!(t.type===Vi&&!yo(t.children))))?t:null}const vo=t=>t?No(t)?zo(t)||t.proxy:vo(t.parent):null,xo=N(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>vo(t.parent),$root:t=>vo(t.root),$emit:t=>t.emit,$options:t=>Jn(t),$forceUpdate:t=>()=>ur(t.update),$nextTick:t=>lr.bind(t.proxy),$watch:t=>br.bind(t)}),bo={get({_:t},e){const{ctx:n,setupState:i,data:o,props:r,accessCache:s,type:a,appContext:l}=t;let u;if("$"!==e[0]){const a=s[e];if(void 0!==a)switch(a){case 0:return i[e];case 1:return o[e];case 3:return n[e];case 2:return r[e]}else{if(i!==w&&A(i,e))return s[e]=0,i[e];if(o!==w&&A(o,e))return s[e]=1,o[e];if((u=t.propsOptions[0])&&A(u,e))return s[e]=2,r[e];if(n!==w&&A(n,e))return s[e]=3,n[e];Yn&&(s[e]=4)}}const c=xo[e];let h,p;return c?("$attrs"===e&&St(t,0,e),c(t)):(h=a.__cssModules)&&(h=h[e])?h:n!==w&&A(n,e)?(s[e]=3,n[e]):(p=l.config.globalProperties,A(p,e)?p[e]:void 0)},set({_:t},e,n){const{data:i,setupState:o,ctx:r}=t;if(o!==w&&A(o,e))o[e]=n;else if(i!==w&&A(i,e))i[e]=n;else if(A(t.props,e))return!1;return("$"!==e[0]||!(e.slice(1)in t))&&(r[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:o,propsOptions:r}},s){let a;return void 0!==n[s]||t!==w&&A(t,s)||e!==w&&A(e,s)||(a=r[0])&&A(a,s)||A(i,s)||A(xo,s)||A(o.config.globalProperties,s)}},wo=N({},bo,{get(t,e){if(e!==Symbol.unscopables)return bo.get(t,e,t)},has:(t,e)=>"_"!==e[0]&&!c(e)}),Eo=yi();let Co=0;function So(t,e,n){const i=t.type,o=(e?e.appContext:t.appContext)||Eo,r={uid:Co++,vnode:t,type:i,parent:e,appContext:o,root:null,next:null,subTree:null,update:null,scope:new at(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ai(i,o),emitsOptions:We(i,o),emit:null,emitted:null,propsDefaults:w,inheritAttrs:i.inheritAttrs,ctx:w,data:w,props:w,attrs:w,slots:w,refs:w,setupState:w,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=He.bind(null,r),t.ce&&t.ce(r),r}let Io=null;const Lo=()=>Io||Ye,Po=t=>{Io=t,t.scope.on()},Mo=()=>{Io&&Io.scope.off(),Io=null};function No(t){return 4&t.vnode.shapeFlag}let To,Oo,Ao=!1;function Ro(t,e=!1){Ao=e;const{props:n,children:i}=t.vnode,o=No(t);!function(t,e,n,i=!1){const o={},r={};it(r,no,1),t.propsDefaults=Object.create(null),ri(t,e,o,r);for(const s in t.propsOptions[0])s in o||(o[s]=void 0);n?t.props=i?o:xe(o):t.type.props?t.props=o:t.props=r,t.attrs=r}(t,n,o,e),((t,e)=>{if(32&t.vnode.shapeFlag){const n=e._;n?(t.slots=Ie(e),it(e,"_",n)):gi(e,t.slots={})}else t.slots={},e&&_i(t,e);it(t.slots,no,1)})(t,i);const r=o?function(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=Le(new Proxy(t.ctx,bo));const{setup:i}=n;if(i){const n=t.setupContext=i.length>1?Fo(t):null;Po(t),Et();const o=Wo(i,t,0,[t.props,n]);if(Ct(),Mo(),G(o)){if(o.then(Mo,Mo),e)return o.then((e=>{Do(t,e)})).catch((e=>{Yo(e,t,0)}));t.asyncDep=o}else Do(t,o)}else ko(t)}(t,e):void 0;return Ao=!1,r}function Do(t,e,n){z(e)?t.render=e:V(e)&&(t.setupState=ze(e)),ko(t)}function ko(t,e,n){const i=t.type;if(!t.render){if(To&&!i.render){const e=i.template;if(e){const{isCustomElement:n,compilerOptions:o}=t.appContext.config,{delimiters:r,compilerOptions:s}=i,a=N(N({isCustomElement:n,delimiters:r},o),s);i.render=To(e,a)}}t.render=i.render||C,Oo&&Oo(t)}Po(t),Et(),Xn(t),Ct(),Mo()}function Fo(t){const e=e=>{t.exposed=e||{}};let n;return{get attrs(){return n||(n=function(t){return new Proxy(t.attrs,{get:(e,n)=>(St(t,0,"$attrs"),e[n])})}(t))},slots:t.slots,emit:t.emit,expose:e}}function zo(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(ze(Le(t.exposed)),{get:(e,n)=>n in e?e[n]:n in xo?xo[n](t):void 0}))}const Bo=/(?:^|[-_])(\w)/g;function jo(t){return z(t)&&t.displayName||t.name}function Vo(t,e,n=!1){let i=jo(e);if(!i&&e.__file){const t=e.__file.match(/([^/\\]+)\.\w+$/);t&&(i=t[1])}if(!i&&t&&t.parent){const n=t=>{for(const n in t)if(t[n]===e)return n};i=n(t.components||t.parent.type.components)||n(t.appContext.components)}return i?i.replace(Bo,(t=>t.toUpperCase())).replace(/[-_]/g,""):n?"App":"Anonymous"}const Go=[];function Uo(t,...e){Et();const n=Go.length?Go[Go.length-1].component:null,i=n&&n.appContext.config.warnHandler,o=function(){let t=Go[Go.length-1];if(!t)return[];const e=[];for(;t;){const n=e[0];n&&n.vnode===t?n.recurseCount++:e.push({vnode:t,recurseCount:0});const i=t.component&&t.component.parent;t=i&&i.vnode}return e}();if(i)Wo(i,n,11,[t+e.join(""),n&&n.proxy,o.map((({vnode:t})=>`at <${Vo(n,t.type)}>`)).join("\n"),o]);else{const n=[`[Vue warn]: ${t}`,...e];o.length&&n.push("\n",...function(t){const e=[];return t.forEach(((t,n)=>{e.push(...0===n?[]:["\n"],...function({vnode:t,recurseCount:e}){const n=e>0?`... (${e} recursive calls)`:"",i=!!t.component&&null==t.component.parent,o=` at <${Vo(t.component,t.type,i)}`,r=">"+n;return t.props?[o,...qo(t.props),r]:[o+r]}(t))})),e}(o)),console.warn(...n)}Ct()}function qo(t){const e=[],n=Object.keys(t);return n.slice(0,3).forEach((n=>{e.push(...Ho(n,t[n]))})),n.length>3&&e.push(" ..."),e}function Ho(t,e,n){return B(e)?(e=JSON.stringify(e),n?e:[`${t}=${e}`]):"number"==typeof e||"boolean"==typeof e||null==e?n?e:[`${t}=${e}`]:Te(e)?(e=Ho(t,Ie(e.value),!0),n?e:[`${t}=Ref<`,e,">"]):z(e)?[`${t}=fn${e.name?`<${e.name}>`:""}`]:(e=Ie(e),n?e:[`${t}=`,e])}function Wo(t,e,n,i){let o;try{o=i?t(...i):t()}catch(r){Yo(r,e,n)}return o}function Zo(t,e,n,i){if(z(t)){const o=Wo(t,e,n,i);return o&&G(o)&&o.catch((t=>{Yo(t,e,n)})),o}const o=[];for(let r=0;r<t.length;r++)o.push(Zo(t[r],e,n,i));return o}function Yo(t,e,n,i=!0){e&&e.vnode;if(e){let i=e.parent;const o=e.proxy,r=n;for(;i;){const e=i.ec;if(e)for(let n=0;n<e.length;n++)if(!1===e[n](t,o,r))return;i=i.parent}const s=e.appContext.config.errorHandler;if(s)return void Wo(s,null,10,[t,o,r])}!function(t,e,n,i=!0){console.error(t)}(t,0,0,i)}let Xo=!1,$o=!1;const Ko=[];let Jo=0;const Qo=[];let tr=null,er=0;const nr=[];let ir=null,or=0;const rr=Promise.resolve();let sr=null,ar=null;function lr(t){const e=sr||rr;return t?e.then(this?t.bind(this):t):e}function ur(t){Ko.length&&Ko.includes(t,Xo&&t.allowRecurse?Jo+1:Jo)||t===ar||(null==t.id?Ko.push(t):Ko.splice(function(t){let e=Jo+1,n=Ko.length;for(;e<n;){const i=e+n>>>1;gr(Ko[i])<t?e=i+1:n=i}return e}(t.id),0,t),cr())}function cr(){Xo||$o||($o=!0,sr=rr.then(_r))}function hr(t,e,n,i){R(t)?n.push(...t):e&&e.includes(t,t.allowRecurse?i+1:i)||n.push(t),cr()}function pr(t){hr(t,ir,nr,or)}function fr(t,e=null){if(Qo.length){for(ar=e,tr=[...new Set(Qo)],Qo.length=0,er=0;er<tr.length;er++)tr[er]();tr=null,er=0,ar=null,fr(t,e)}}function dr(t){if(nr.length){const t=[...new Set(nr)];if(nr.length=0,ir)return void ir.push(...t);for(ir=t,ir.sort(((t,e)=>gr(t)-gr(e))),or=0;or<ir.length;or++)ir[or]();ir=null,or=0}}const gr=t=>null==t.id?1/0:t.id;function _r(t){$o=!1,Xo=!0,fr(t),Ko.sort(((t,e)=>gr(t)-gr(e)));try{for(Jo=0;Jo<Ko.length;Jo++){const t=Ko[Jo];t&&!1!==t.active&&Wo(t,null,14)}}finally{Jo=0,Ko.length=0,dr(),Xo=!1,sr=null,(Ko.length||Qo.length||nr.length)&&_r(t)}}function mr(t,e){return xr(t,null,{flush:"post"})}const yr={};function vr(t,e,n){return xr(t,e,n)}function xr(t,e,{immediate:n,deep:i,flush:o,onTrack:r,onTrigger:s}=w){const a=Io;let l,u,c=!1,h=!1;if(Te(t)?(l=()=>t.value,c=!!t._shallow):Ee(t)?(l=()=>t,i=!0):R(t)?(h=!0,c=t.some(Ee),l=()=>t.map((t=>Te(t)?t.value:Ee(t)?Er(t):z(t)?Wo(t,a,2):void 0))):l=z(t)?e?()=>Wo(t,a,2):()=>{if(!a||!a.isUnmounted)return u&&u(),Zo(t,a,3,[p])}:C,e&&i){const t=l;l=()=>Er(t())}let p=t=>{u=_.onStop=()=>{Wo(t,a,4)}},f=h?[]:yr;const d=()=>{if(_.active)if(e){const t=_.run();(i||c||(h?t.some(((t,e)=>et(t,f[e]))):et(t,f)))&&(u&&u(),Zo(e,a,3,[t,f===yr?void 0:f,p]),f=t)}else _.run()};let g;d.allowRecurse=!!e,g="sync"===o?d:"post"===o?()=>Si(d,a&&a.suspense):()=>{!a||a.isMounted?function(t){hr(t,tr,Qo,er)}(d):d()};const _=new vt(l,g);return e?n?d():f=_.run():"post"===o?Si(_.run.bind(_),a&&a.suspense):_.run(),()=>{_.stop(),a&&a.scope&&T(a.scope.effects,_)}}function br(t,e,n){const i=this.proxy,o=B(t)?t.includes(".")?wr(i,t):()=>i[t]:t.bind(i,i);let r;z(e)?r=e:(r=e.handler,n=e);const s=Io;Po(this);const a=xr(o,r.bind(i),n);return s?Po(s):Mo(),a}function wr(t,e){const n=e.split(".");return()=>{let e=t;for(let t=0;t<n.length&&e;t++)e=e[n[t]];return e}}function Er(t,e=new Set){if(!V(t)||t.__v_skip)return t;if((e=e||new Set).has(t))return t;if(e.add(t),Te(t))Er(t.value,e);else if(R(t))for(let n=0;n<t.length;n++)Er(t[n],e);else if(k(t)||D(t))t.forEach((t=>{Er(t,e)}));else if(H(t))for(const n in t)Er(t[n],e);return t}const Cr=t=>"function"==typeof t;function Sr(){const t=Lo();return t.setupContext||(t.setupContext=Fo(t))}function Ir(t,e,n){const i=arguments.length;return 2===i?V(e)&&!R(e)?to(e)?so(t,null,[e]):so(t,e):so(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):3===i&&to(n)&&(n=[n]),so(t,e,n))}const Lr=Symbol("");function Pr(t,e){const n=t.memo;if(n.length!=e.length)return!1;for(let i=0;i<n.length;i++)if(n[i]!==e[i])return!1;return Xi>0&&Wi&&Wi.push(t),!0}const Mr="3.2.7",Nr={createComponentInstance:So,setupComponent:Ro,renderComponentRoot:tn,setCurrentRenderingInstance:$e,isVNode:to,normalizeVNode:po},Tr="undefined"!=typeof document?document:null,Or=new Map,Ar={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const o=e?Tr.createElementNS("http://www.w3.org/2000/svg",t):Tr.createElement(t,n?{is:n}:void 0);return"select"===t&&i&&null!=i.multiple&&o.setAttribute("multiple",i.multiple),o},createText:t=>Tr.createTextNode(t),createComment:t=>Tr.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Tr.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},cloneNode(t){const e=t.cloneNode(!0);return"_value"in t&&(e._value=t._value),e},insertStaticContent(t,e,n,i){const o=n?n.previousSibling:e.lastChild;let r=Or.get(t);if(!r){const e=Tr.createElement("template");if(e.innerHTML=i?`<svg>${t}</svg>`:t,r=e.content,i){const t=r.firstChild;for(;t.firstChild;)r.appendChild(t.firstChild);r.removeChild(t)}Or.set(t,r)}return e.insertBefore(r.cloneNode(!0),n),[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};const Rr=/\s*!important$/;function Dr(t,e,n){if(R(n))n.forEach((n=>Dr(t,e,n)));else if(e.startsWith("--"))t.setProperty(e,n);else{const i=function(t,e){const n=Fr[e];if(n)return n;let i=$(e);if("filter"!==i&&i in t)return Fr[e]=i;i=Q(i);for(let o=0;o<kr.length;o++){const n=kr[o]+i;if(n in t)return Fr[e]=n}return e}(t,e);Rr.test(n)?t.setProperty(J(i),n.replace(Rr,""),"important"):t[i]=n}}const kr=["Webkit","Moz","ms"],Fr={};const zr="http://www.w3.org/1999/xlink";let Br=Date.now,jr=!1;if("undefined"!=typeof window){Br()>document.createEvent("Event").timeStamp&&(Br=()=>performance.now());const t=navigator.userAgent.match(/firefox\/(\d+)/i);jr=!!(t&&Number(t[1])<=53)}let Vr=0;const Gr=Promise.resolve(),Ur=()=>{Vr=0};function qr(t,e,n,i){t.addEventListener(e,n,i)}function Hr(t,e,n,i,o=null){const r=t._vei||(t._vei={}),s=r[e];if(i&&s)s.value=i;else{const[n,a]=function(t){let e;if(Wr.test(t)){let n;for(e={};n=t.match(Wr);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[J(t.slice(2)),e]}(e);if(i){qr(t,n,r[e]=function(t,e){const n=t=>{const i=t.timeStamp||Br();(jr||i>=n.attached-1)&&Zo(function(t,e){if(R(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map((t=>e=>!e._stopped&&t(e)))}return e}(t,n.value),e,5,[t])};return n.value=t,n.attached=(()=>Vr||(Gr.then(Ur),Vr=Br()))(),n}(i,o),a)}else s&&(!function(t,e,n,i){t.removeEventListener(e,n,i)}(t,n,s,a),r[e]=void 0)}}const Wr=/(?:Once|Passive|Capture)$/;const Zr=/^on[a-z]/;function Yr(t,e){const n=Cn(t);class i extends $r{constructor(t){super(n,t,e)}}return i.def=n,i}const Xr="undefined"!=typeof HTMLElement?HTMLElement:class{};class $r extends Xr{constructor(t,e={},n){super(),this._def=t,this._props=e,this._instance=null,this._connected=!1,this._resolved=!1,this.shadowRoot&&n?n(this._createVNode(),this.shadowRoot):this.attachShadow({mode:"open"});for(let i=0;i<this.attributes.length;i++)this._setAttr(this.attributes[i].name);new MutationObserver((t=>{for(const e of t)this._setAttr(e.attributeName)})).observe(this,{attributes:!0})}connectedCallback(){this._connected=!0,this._instance||(this._resolveDef(),Ws(this._createVNode(),this.shadowRoot))}disconnectedCallback(){this._connected=!1,lr((()=>{this._connected||(Ws(null,this.shadowRoot),this._instance=null)}))}_resolveDef(){if(this._resolved)return;const t=t=>{this._resolved=!0;for(const o of Object.keys(this))"_"!==o[0]&&this._setProp(o,this[o]);const{props:e,styles:n}=t,i=e?R(e)?e:Object.keys(e):[];for(const o of i.map($))Object.defineProperty(this,o,{get(){return this._getProp(o)},set(t){this._setProp(o,t)}});this._applyStyles(n)},e=this._def.__asyncLoader;e?e().then(t):t(this._def)}_setAttr(t){this._setProp($(t),ot(this.getAttribute(t)),!1)}_getProp(t){return this._props[t]}_setProp(t,e,n=!0){e!==this._props[t]&&(this._props[t]=e,this._instance&&Ws(this._createVNode(),this.shadowRoot),n&&(!0===e?this.setAttribute(J(t),""):"string"==typeof e||"number"==typeof e?this.setAttribute(J(t),e+""):e||this.removeAttribute(J(t))))}_createVNode(){const t=so(this._def,N({},this._props));return this._instance||(t.ce=t=>{this._instance=t,t.isCE=!0,t.emit=(t,...e)=>{this.dispatchEvent(new CustomEvent(t,{detail:e}))};let e=this;for(;e=e&&(e.parentNode||e.host);)if(e instanceof $r){t.parent=e._instance;break}}),t}_applyStyles(t){t&&t.forEach((t=>{const e=document.createElement("style");e.textContent=t,this.shadowRoot.appendChild(e)}))}}function Kr(t){const e=Lo();if(!e)return;const n=()=>Jr(e.subTree,t(e.proxy));mr(n),Bn((()=>{const t=new MutationObserver(n);t.observe(e.subTree.el.parentNode,{childList:!0}),Un((()=>t.disconnect()))}))}function Jr(t,e){if(128&t.shapeFlag){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push((()=>{Jr(n.activeBranch,e)}))}for(;t.component;)t=t.component.subTree;if(1&t.shapeFlag&&t.el)Qr(t.el,e);else if(t.type===Vi)t.children.forEach((t=>Jr(t,e)));else if(t.type===qi){let{el:n,anchor:i}=t;for(;n&&(Qr(n,e),n!==i);)n=n.nextSibling}}function Qr(t,e){if(1===t.nodeType){const n=t.style;for(const t in e)n.setProperty(`--${t}`,e[t])}}const ts=(t,{slots:e})=>Ir(mn,rs(t),e);ts.displayName="Transition";const es={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},ns=ts.props=N({},mn.props,es),is=(t,e=[])=>{R(t)?t.forEach((t=>t(...e))):t&&t(...e)},os=t=>!!t&&(R(t)?t.some((t=>t.length>1)):t.length>1);function rs(t){const e={};for(const P in t)P in es||(e[P]=t[P]);if(!1===t.css)return e;const{name:n="v",type:i,duration:o,enterFromClass:r=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=r,appearActiveClass:u=s,appearToClass:c=a,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:p=`${n}-leave-active`,leaveToClass:f=`${n}-leave-to`}=t,d=function(t){if(null==t)return null;if(V(t))return[ss(t.enter),ss(t.leave)];{const e=ss(t);return[e,e]}}(o),g=d&&d[0],_=d&&d[1],{onBeforeEnter:m,onEnter:y,onEnterCancelled:v,onLeave:x,onLeaveCancelled:b,onBeforeAppear:w=m,onAppear:E=y,onAppearCancelled:C=v}=e,S=(t,e,n)=>{ls(t,e?c:a),ls(t,e?u:s),n&&n()},I=(t,e)=>{ls(t,f),ls(t,p),e&&e()},L=t=>(e,n)=>{const o=t?E:y,s=()=>S(e,t,n);is(o,[e,s]),us((()=>{ls(e,t?l:r),as(e,t?c:a),os(o)||hs(e,i,g,s)}))};return N(e,{onBeforeEnter(t){is(m,[t]),as(t,r),as(t,s)},onBeforeAppear(t){is(w,[t]),as(t,l),as(t,u)},onEnter:L(!1),onAppear:L(!0),onLeave(t,e){const n=()=>I(t,e);as(t,h),gs(),as(t,p),us((()=>{ls(t,h),as(t,f),os(x)||hs(t,i,_,n)})),is(x,[t,n])},onEnterCancelled(t){S(t,!1),is(v,[t])},onAppearCancelled(t){S(t,!0),is(C,[t])},onLeaveCancelled(t){I(t),is(b,[t])}})}function ss(t){return ot(t)}function as(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.add(e))),(t._vtc||(t._vtc=new Set)).add(e)}function ls(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.remove(e)));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function us(t){requestAnimationFrame((()=>{requestAnimationFrame(t)}))}let cs=0;function hs(t,e,n,i){const o=t._endId=++cs,r=()=>{o===t._endId&&i()};if(n)return setTimeout(r,n);const{type:s,timeout:a,propCount:l}=ps(t,e);if(!s)return i();const u=s+"end";let c=0;const h=()=>{t.removeEventListener(u,p),r()},p=e=>{e.target===t&&++c>=l&&h()};setTimeout((()=>{c<l&&h()}),a+1),t.addEventListener(u,p)}function ps(t,e){const n=window.getComputedStyle(t),i=t=>(n[t]||"").split(", "),o=i("transitionDelay"),r=i("transitionDuration"),s=fs(o,r),a=i("animationDelay"),l=i("animationDuration"),u=fs(a,l);let c=null,h=0,p=0;"transition"===e?s>0&&(c="transition",h=s,p=r.length):"animation"===e?u>0&&(c="animation",h=u,p=l.length):(h=Math.max(s,u),c=h>0?s>u?"transition":"animation":null,p=c?"transition"===c?r.length:l.length:0);return{type:c,timeout:h,propCount:p,hasTransform:"transition"===c&&/\b(transform|all)(,|$)/.test(n.transitionProperty)}}function fs(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map(((e,n)=>ds(e)+ds(t[n]))))}function ds(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function gs(){return document.body.offsetHeight}const _s=new WeakMap,ms=new WeakMap,ys={name:"TransitionGroup",props:N({},ns,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=Lo(),i=gn();let o,r;return Vn((()=>{if(!o.length)return;const e=t.moveClass||`${t.name||"v"}-move`;if(!function(t,e,n){const i=t.cloneNode();t._vtc&&t._vtc.forEach((t=>{t.split(/\s+/).forEach((t=>t&&i.classList.remove(t)))}));n.split(/\s+/).forEach((t=>t&&i.classList.add(t))),i.style.display="none";const o=1===e.nodeType?e:e.parentNode;o.appendChild(i);const{hasTransform:r}=ps(i);return o.removeChild(i),r}(o[0].el,n.vnode.el,e))return;o.forEach(vs),o.forEach(xs);const i=o.filter(bs);gs(),i.forEach((t=>{const n=t.el,i=n.style;as(n,e),i.transform=i.webkitTransform=i.transitionDuration="";const o=n._moveCb=t=>{t&&t.target!==n||t&&!/transform$/.test(t.propertyName)||(n.removeEventListener("transitionend",o),n._moveCb=null,ls(n,e))};n.addEventListener("transitionend",o)}))})),()=>{const s=Ie(t),a=rs(s);let l=s.tag||Vi;o=r,r=e.default?En(e.default()):[];for(let t=0;t<r.length;t++){const e=r[t];null!=e.key&&wn(e,vn(e,a,i,n))}if(o)for(let t=0;t<o.length;t++){const e=o[t];wn(e,vn(e,a,i,n)),_s.set(e,e.el.getBoundingClientRect())}return so(l,null,r)}}};function vs(t){const e=t.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function xs(t){ms.set(t,t.el.getBoundingClientRect())}function bs(t){const e=_s.get(t),n=ms.get(t),i=e.left-n.left,o=e.top-n.top;if(i||o){const e=t.el.style;return e.transform=e.webkitTransform=`translate(${i}px,${o}px)`,e.transitionDuration="0s",t}}const ws=t=>{const e=t.props["onUpdate:modelValue"];return R(e)?t=>nt(e,t):e};function Es(t){t.target.composing=!0}function Cs(t){const e=t.target;e.composing&&(e.composing=!1,function(t,e){const n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}(e,"input"))}const Ss={created(t,{modifiers:{lazy:e,trim:n,number:i}},o){t._assign=ws(o);const r=i||o.props&&"number"===o.props.type;qr(t,e?"change":"input",(e=>{if(e.target.composing)return;let i=t.value;n?i=i.trim():r&&(i=ot(i)),t._assign(i)})),n&&qr(t,"change",(()=>{t.value=t.value.trim()})),e||(qr(t,"compositionstart",Es),qr(t,"compositionend",Cs),qr(t,"change",Cs))},mounted(t,{value:e}){t.value=null==e?"":e},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:i,number:o}},r){if(t._assign=ws(r),t.composing)return;if(document.activeElement===t){if(n)return;if(i&&t.value.trim()===e)return;if((o||"number"===t.type)&&ot(t.value)===e)return}const s=null==e?"":e;t.value!==s&&(t.value=s)}},Is={deep:!0,created(t,e,n){t._assign=ws(n),qr(t,"change",(()=>{const e=t._modelValue,n=Ts(t),i=t.checked,o=t._assign;if(R(e)){const t=v(e,n),r=-1!==t;if(i&&!r)o(e.concat(n));else if(!i&&r){const n=[...e];n.splice(t,1),o(n)}}else if(k(e)){const t=new Set(e);i?t.add(n):t.delete(n),o(t)}else o(Os(t,i))}))},mounted:Ls,beforeUpdate(t,e,n){t._assign=ws(n),Ls(t,e,n)}};function Ls(t,{value:e,oldValue:n},i){t._modelValue=e,R(e)?t.checked=v(e,i.props.value)>-1:k(e)?t.checked=e.has(i.props.value):e!==n&&(t.checked=y(e,Os(t,!0)))}const Ps={created(t,{value:e},n){t.checked=y(e,n.props.value),t._assign=ws(n),qr(t,"change",(()=>{t._assign(Ts(t))}))},beforeUpdate(t,{value:e,oldValue:n},i){t._assign=ws(i),e!==n&&(t.checked=y(e,i.props.value))}},Ms={deep:!0,created(t,{value:e,modifiers:{number:n}},i){const o=k(e);qr(t,"change",(()=>{const e=Array.prototype.filter.call(t.options,(t=>t.selected)).map((t=>n?ot(Ts(t)):Ts(t)));t._assign(t.multiple?o?new Set(e):e:e[0])})),t._assign=ws(i)},mounted(t,{value:e}){Ns(t,e)},beforeUpdate(t,e,n){t._assign=ws(n)},updated(t,{value:e}){Ns(t,e)}};function Ns(t,e){const n=t.multiple;if(!n||R(e)||k(e)){for(let i=0,o=t.options.length;i<o;i++){const o=t.options[i],r=Ts(o);if(n)R(e)?o.selected=v(e,r)>-1:o.selected=e.has(r);else if(y(Ts(o),e))return void(t.selectedIndex!==i&&(t.selectedIndex=i))}n||-1===t.selectedIndex||(t.selectedIndex=-1)}}function Ts(t){return"_value"in t?t._value:t.value}function Os(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const As={created(t,e,n){Rs(t,e,n,null,"created")},mounted(t,e,n){Rs(t,e,n,null,"mounted")},beforeUpdate(t,e,n,i){Rs(t,e,n,i,"beforeUpdate")},updated(t,e,n,i){Rs(t,e,n,i,"updated")}};function Rs(t,e,n,i,o){let r;switch(t.tagName){case"SELECT":r=Ms;break;case"TEXTAREA":r=Ss;break;default:switch(n.props&&n.props.type){case"checkbox":r=Is;break;case"radio":r=Ps;break;default:r=Ss}}const s=r[o];s&&s(t,e,n,i)}const Ds=["ctrl","shift","alt","meta"],ks={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&0!==t.button,middle:t=>"button"in t&&1!==t.button,right:t=>"button"in t&&2!==t.button,exact:(t,e)=>Ds.some((n=>t[`${n}Key`]&&!e.includes(n)))},Fs=(t,e)=>(n,...i)=>{for(let t=0;t<e.length;t++){const i=ks[e[t]];if(i&&i(n,e))return}return t(n,...i)},zs={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Bs={beforeMount(t,{value:e},{transition:n}){t._vod="none"===t.style.display?"":t.style.display,n&&e?n.beforeEnter(t):js(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:i}){!e!=!n&&(i?e?(i.beforeEnter(t),js(t,!0),i.enter(t)):i.leave(t,(()=>{js(t,!1)})):js(t,e))},beforeUnmount(t,{value:e}){js(t,e)}};function js(t,e){t.style.display=e?t._vod:"none"}const Vs=N({patchProp:(t,e,n,i,o=!1,r,s,a,l)=>{"class"===e?function(t,e,n){const i=t._vtc;i&&(e=(e?[e,...i]:[...i]).join(" ")),null==e?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}(t,i,o):"style"===e?function(t,e,n){const i=t.style;if(n)if(B(n)){if(e!==n){const e=i.display;i.cssText=n,"_vod"in t&&(i.display=e)}}else{for(const t in n)Dr(i,t,n[t]);if(e&&!B(e))for(const t in e)null==n[t]&&Dr(i,t,"")}else t.removeAttribute("style")}(t,n,i):P(e)?M(e)||Hr(t,e,0,i,s):("."===e[0]?(e=e.slice(1),1):"^"===e[0]?(e=e.slice(1),0):function(t,e,n,i){if(i)return"innerHTML"===e||"textContent"===e||!!(e in t&&Zr.test(e)&&z(n));if("spellcheck"===e||"draggable"===e)return!1;if("form"===e)return!1;if("list"===e&&"INPUT"===t.tagName)return!1;if("type"===e&&"TEXTAREA"===t.tagName)return!1;if(Zr.test(e)&&B(n))return!1;return e in t}(t,e,i,o))?function(t,e,n,i,o,r,s){if("innerHTML"===e||"textContent"===e)return i&&s(i,o,r),void(t[e]=null==n?"":n);if("value"===e&&"PROGRESS"!==t.tagName){t._value=n;const i=null==n?"":n;return t.value!==i&&(t.value=i),void(null==n&&t.removeAttribute(e))}if(""===n||null==n){const i=typeof t[e];if("boolean"===i)return void(t[e]=p(n));if(null==n&&"string"===i)return t[e]="",void t.removeAttribute(e);if("number"===i){try{t[e]=0}catch(a){}return void t.removeAttribute(e)}}try{t[e]=n}catch(l){}}(t,e,i,r,s,a,l):("true-value"===e?t._trueValue=i:"false-value"===e&&(t._falseValue=i),function(t,e,n,i,o){if(i&&e.startsWith("xlink:"))null==n?t.removeAttributeNS(zr,e.slice(6,e.length)):t.setAttributeNS(zr,e,n);else{const i=h(e);null==n||i&&!p(n)?t.removeAttribute(e):t.setAttribute(e,i?"":n)}}(t,e,i,o))}},Ar);let Gs,Us=!1;function qs(){return Gs||(Gs=Ii(Vs))}function Hs(){return Gs=Us?Gs:Li(Vs),Us=!0,Gs}const Ws=(...t)=>{qs().render(...t)},Zs=(...t)=>{Hs().hydrate(...t)},Ys=(...t)=>{const e=qs().createApp(...t),{mount:n}=e;return e.mount=t=>{const i=Xs(t);if(!i)return;const o=e._component;z(o)||o.render||o.template||(o.template=i.innerHTML),i.innerHTML="";const r=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),r},e};function Xs(t){if(B(t)){return document.querySelector(t)}return t}var $s=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",compile:()=>{},EffectScope:at,ReactiveEffect:vt,computed:Ue,customRef:function(t){return new Be(t)},effect:function(t,e){t.effect&&(t=t.effect.fn);const n=new vt(t);e&&(N(n,e),e.scope&&lt(n,e.scope)),e&&e.lazy||n.run();const i=n.run.bind(n);return i.effect=n,i},effectScope:function(t){return new at(t)},getCurrentScope:function(){return rt},isProxy:Se,isReactive:Ee,isReadonly:Ce,isRef:Te,markRaw:Le,onScopeDispose:function(t){rt&&rt.cleanups.push(t)},proxyRefs:ze,reactive:ve,readonly:be,ref:Oe,shallowReactive:xe,shallowReadonly:function(t){return we(t,!0,Ut,fe,me)},shallowRef:Ae,stop:function(t){t.effect.stop()},toRaw:Ie,toRef:Ve,toRefs:function(t){const e=R(t)?new Array(t.length):{};for(const n in t)e[n]=Ve(t,n);return e},triggerRef:function(t){Me(t)},unref:ke,camelize:$,capitalize:Q,normalizeClass:m,normalizeProps:function(t){if(!t)return null;let{class:e,style:n}=t;return e&&!B(e)&&(t.class=m(e)),n&&(t.style=f(n)),t},normalizeStyle:f,toDisplayString:x,toHandlerKey:tt,BaseTransition:mn,Comment:Ui,Fragment:Vi,KeepAlive:Pn,Static:qi,Suspense:an,Teleport:ki,Text:Gi,callWithAsyncErrorHandling:Zo,callWithErrorHandling:Wo,cloneVNode:lo,compatUtils:null,createBlock:Qi,createCommentVNode:ho,createElementBlock:Ji,createElementVNode:ro,createHydrationRenderer:Li,createRenderer:Ii,createSlots:function(t,e){for(let n=0;n<e.length;n++){const i=e[n];if(R(i))for(let e=0;e<i.length;e++)t[i[e].name]=i[e].fn;else i&&(t[i.name]=i.fn)}return t},createStaticVNode:co,createTextVNode:uo,createVNode:so,defineAsyncComponent:function(t){z(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:i,delay:o=200,timeout:r,suspensible:s=!0,onError:a}=t;let l,u=null,c=0;const h=()=>{let t;return u||(t=u=e().catch((t=>{if(t=t instanceof Error?t:new Error(String(t)),a)return new Promise(((e,n)=>{a(t,(()=>e((c++,u=null,h()))),(()=>n(t)),c+1)}));throw t})).then((e=>t!==u&&u?u:(e&&(e.__esModule||"Module"===e[Symbol.toStringTag])&&(e=e.default),l=e,e))))};return Cn({name:"AsyncComponentWrapper",__asyncLoader:h,get __asyncResolved(){return l},setup(){const t=Io;if(l)return()=>In(l,t);const e=e=>{u=null,Yo(e,t,13,!i)};if(s&&t.suspense)return h().then((e=>()=>In(e,t))).catch((t=>(e(t),()=>i?so(i,{error:t}):null)));const a=Oe(!1),c=Oe(),p=Oe(!!o);return o&&setTimeout((()=>{p.value=!1}),o),null!=r&&setTimeout((()=>{if(!a.value&&!c.value){const t=new Error(`Async component timed out after ${r}ms.`);e(t),c.value=t}}),r),h().then((()=>{a.value=!0,t.parent&&Ln(t.parent.vnode)&&ur(t.parent.update)})).catch((t=>{e(t),c.value=t})),()=>a.value&&l?In(l,t):c.value&&i?so(i,{error:c.value}):n&&!p.value?so(n):void 0}})},defineComponent:Cn,defineEmits:function(){return null},defineExpose:function(t){},defineProps:function(){return null},get devtools(){return qe},getCurrentInstance:Lo,getTransitionRawChildren:En,guardReactiveProps:ao,h:Ir,handleError:Yo,initCustomFormatter:function(){},inject:dn,isMemoSame:Pr,isRuntimeOnly:()=>!To,isVNode:to,mergeDefaults:function(t,e){for(const n in e){const i=t[n];i?i.default=e[n]:null===i&&(t[n]={default:e[n]})}return t},mergeProps:_o,nextTick:lr,onActivated:Nn,onBeforeMount:zn,onBeforeUnmount:Gn,onBeforeUpdate:jn,onDeactivated:Tn,onErrorCaptured:Zn,onMounted:Bn,onRenderTracked:Wn,onRenderTriggered:Hn,onServerPrefetch:qn,onUnmounted:Un,onUpdated:Vn,openBlock:Zi,popScopeId:Je,provide:fn,pushScopeId:Ke,queuePostFlushCb:pr,registerRuntimeCompiler:function(t){To=t,Oo=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,wo))}},renderList:mo,renderSlot:function(t,e,n={},i,o){if(Ye.isCE)return so("slot","default"===e?null:{name:e},i&&i());let r=t[e];r&&r._c&&(r._d=!1),Zi();const s=r&&yo(r(n)),a=Qi(Vi,{key:n.key||`_${e}`},s||(i?i():[]),s&&1===t._?64:-2);return!o&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),r&&r._c&&(r._d=!0),a},resolveComponent:Fi,resolveDirective:function(t){return Bi("directives",t)},resolveDynamicComponent:function(t){return B(t)?Bi("components",t,!1)||t:t||zi},resolveFilter:null,resolveTransitionHooks:vn,setBlockTracking:$i,setDevtoolsHook:function(t){qe=t},setTransitionHooks:wn,ssrContextKey:Lr,ssrUtils:Nr,toHandlers:function(t){const e={};for(const n in t)e[tt(n)]=t[n];return e},transformVNodeArgs:function(t){},useAttrs:function(){return Sr().attrs},useSSRContext:()=>{{const t=dn(Lr);return t||Uo("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),t}},useSlots:function(){return Sr().slots},useTransitionState:gn,version:Mr,warn:Uo,watch:vr,watchEffect:function(t,e){return xr(t,null,e)},watchPostEffect:mr,watchSyncEffect:function(t,e){return xr(t,null,{flush:"sync"})},withAsyncContext:function(t){const e=Lo();let n=t();var i;return Mo(),(t=>null!==t&&"object"==typeof t)(i=n)&&Cr(i.then)&&Cr(i.catch)&&(n=n.catch((t=>{throw Po(e),t}))),[n,()=>Po(e)]},withCtx:Qe,withDefaults:function(t,e){return null},withDirectives:function(t,e){if(null===Ye)return t;const n=Ye.proxy,i=t.dirs||(t.dirs=[]);for(let o=0;o<e.length;o++){let[t,r,s,a=w]=e[o];z(t)&&(t={mounted:t,updated:t}),t.deep&&Er(r),i.push({dir:t,instance:n,value:r,oldValue:void 0,arg:s,modifiers:a})}return t},withMemo:function(t,e,n,i){const o=n[i];if(o&&Pr(o,t))return o;const r=e();return r.memo=t.slice(),n[i]=r},withScopeId:t=>Qe,Transition:ts,TransitionGroup:ys,VueElement:$r,createApp:Ys,createSSRApp:(...t)=>{const e=Hs().createApp(...t),{mount:n}=e;return e.mount=t=>{const e=Xs(t);if(e)return n(e,!0,e instanceof SVGElement)},e},defineCustomElement:Yr,defineSSRCustomElement:t=>Yr(t,Zs),hydrate:Zs,render:Ws,useCssModule:function(t="$style"){{const e=Lo();if(!e)return w;const n=e.type.__cssModules;if(!n)return w;const i=n[t];return i||w}},useCssVars:Kr,vModelCheckbox:Is,vModelDynamic:As,vModelRadio:Ps,vModelSelect:Ms,vModelText:Ss,vShow:Bs,withKeys:(t,e)=>n=>{if(!("key"in n))return;const i=J(n.key);return e.some((t=>t===i||zs[t]===i))?t(n):void 0},withModifiers:Fs});
/*!
  * vue-router v4.0.11
  * (c) 2021 Eduardo San Martin Morote
  * @license MIT
  */const Ks="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,Js=t=>Ks?Symbol(t):"_vr_"+t,Qs=Js("rvlm"),ta=Js("rvd"),ea=Js("r"),na=Js("rl"),ia=Js("rvl"),oa="undefined"!=typeof window;const ra=Object.assign;function sa(t,e){const n={};for(const i in e){const o=e[i];n[i]=Array.isArray(o)?o.map(t):t(o)}return n}const aa=()=>{},la=/\/$/;function ua(t,e,n="/"){let i,o={},r="",s="";const a=e.indexOf("?"),l=e.indexOf("#",a>-1?a:0);return a>-1&&(i=e.slice(0,a),r=e.slice(a+1,l>-1?l:e.length),o=t(r)),l>-1&&(i=i||e.slice(0,l),s=e.slice(l,e.length)),i=function(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),i=t.split("/");let o,r,s=n.length-1;for(o=0;o<i.length;o++)if(r=i[o],1!==s&&"."!==r){if(".."!==r)break;s--}return n.slice(0,s).join("/")+"/"+i.slice(o-(o===i.length?1:0)).join("/")}(null!=i?i:e,n),{fullPath:i+(r&&"?")+r+s,path:i,query:o,hash:s}}function ca(t,e){return e&&t.toLowerCase().startsWith(e.toLowerCase())?t.slice(e.length)||"/":t}function ha(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function pa(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!fa(t[n],e[n]))return!1;return!0}function fa(t,e){return Array.isArray(t)?da(t,e):Array.isArray(e)?da(e,t):t===e}function da(t,e){return Array.isArray(e)?t.length===e.length&&t.every(((t,n)=>t===e[n])):1===t.length&&t[0]===e}var ga,_a,ma,ya;function va(t){if(!t)if(oa){const e=document.querySelector("base");t=(t=e&&e.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return"/"!==t[0]&&"#"!==t[0]&&(t="/"+t),t.replace(la,"")}(_a=ga||(ga={})).pop="pop",_a.push="push",(ya=ma||(ma={})).back="back",ya.forward="forward",ya.unknown="";const xa=/^[^#]+#/;function ba(t,e){return t.replace(xa,"#")+e}const wa=()=>({left:window.pageXOffset,top:window.pageYOffset});function Ea(t){let e;if("el"in t){const n=t.el,i="string"==typeof n&&n.startsWith("#"),o="string"==typeof n?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;e=function(t,e){const n=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-n.left-(e.left||0),top:i.top-n.top-(e.top||0)}}(o,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(null!=e.left?e.left:window.pageXOffset,null!=e.top?e.top:window.pageYOffset)}function Ca(t,e){return(history.state?history.state.position-e:-1)+t}const Sa=new Map;function Ia(t,e){const{pathname:n,search:i,hash:o}=e,r=t.indexOf("#");if(r>-1){let e=o.includes(t.slice(r))?t.slice(r).length:1,n=o.slice(e);return"/"!==n[0]&&(n="/"+n),ca(n,"")}return ca(n,t)+i+o}function La(t,e,n,i=!1,o=!1){return{back:t,current:e,forward:n,replaced:i,position:window.history.length,scroll:o?wa():null}}function Pa(t){const{history:e,location:n}=window,i={value:Ia(t,n)},o={value:e.state};function r(i,r,s){const a=t.indexOf("#"),l=a>-1?(n.host&&document.querySelector("base")?t:t.slice(a))+i:location.protocol+"//"+location.host+t+i;try{e[s?"replaceState":"pushState"](r,"",l),o.value=r}catch(u){console.error(u),n[s?"replace":"assign"](l)}}return o.value||r(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0),{location:i,state:o,push:function(t,n){const s=ra({},o.value,e.state,{forward:t,scroll:wa()});r(s.current,s,!0),r(t,ra({},La(i.value,t,null),{position:s.position+1},n),!1),i.value=t},replace:function(t,n){r(t,ra({},e.state,La(o.value.back,t,o.value.forward,!0),n,{position:o.value.position}),!0),i.value=t}}}function Ma(t){const e=Pa(t=va(t)),n=function(t,e,n,i){let o=[],r=[],s=null;const a=({state:r})=>{const a=Ia(t,location),l=n.value,u=e.value;let c=0;if(r){if(n.value=a,e.value=r,s&&s===l)return void(s=null);c=u?r.position-u.position:0}else i(a);o.forEach((t=>{t(n.value,l,{delta:c,type:ga.pop,direction:c?c>0?ma.forward:ma.back:ma.unknown})}))};function l(){const{history:t}=window;t.state&&t.replaceState(ra({},t.state,{scroll:wa()}),"")}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",l),{pauseListeners:function(){s=n.value},listen:function(t){o.push(t);const e=()=>{const e=o.indexOf(t);e>-1&&o.splice(e,1)};return r.push(e),e},destroy:function(){for(const t of r)t();r=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",l)}}}(t,e.state,e.location,e.replace);const i=ra({location:"",base:t,go:function(t,e=!0){e||n.pauseListeners(),history.go(t)},createHref:ba.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function Na(t){return"string"==typeof t||"symbol"==typeof t}const Ta={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Oa=Js("nf");var Aa,Ra;function Da(t,e){return ra(new Error,{type:t,[Oa]:!0},e)}function ka(t,e){return t instanceof Error&&Oa in t&&(null==e||!!(t.type&e))}(Ra=Aa||(Aa={}))[Ra.aborted=4]="aborted",Ra[Ra.cancelled=8]="cancelled",Ra[Ra.duplicated=16]="duplicated";const Fa={sensitive:!1,strict:!1,start:!0,end:!0},za=/[.+*?^${}()[\]/\\]/g;function Ba(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=e[n]-t[n];if(i)return i;n++}return t.length<e.length?1===t.length&&80===t[0]?-1:1:t.length>e.length?1===e.length&&80===e[0]?1:-1:0}function ja(t,e){let n=0;const i=t.score,o=e.score;for(;n<i.length&&n<o.length;){const t=Ba(i[n],o[n]);if(t)return t;n++}return o.length-i.length}const Va={type:0,value:""},Ga=/[a-zA-Z0-9_]/;function Ua(t,e,n){const i=function(t,e){const n=ra({},Fa,e),i=[];let o=n.start?"^":"";const r=[];for(const l of t){const t=l.length?[]:[90];n.strict&&!l.length&&(o+="/");for(let e=0;e<l.length;e++){const i=l[e];let s=40+(n.sensitive?.25:0);if(0===i.type)e||(o+="/"),o+=i.value.replace(za,"\\$&"),s+=40;else if(1===i.type){const{value:t,repeatable:n,optional:u,regexp:c}=i;r.push({name:t,repeatable:n,optional:u});const h=c||"[^/]+?";if("[^/]+?"!==h){s+=10;try{new RegExp(`(${h})`)}catch(a){throw new Error(`Invalid custom RegExp for param "${t}" (${h}): `+a.message)}}let p=n?`((?:${h})(?:/(?:${h}))*)`:`(${h})`;e||(p=u&&l.length<2?`(?:/${p})`:"/"+p),u&&(p+="?"),o+=p,s+=20,u&&(s+=-8),n&&(s+=-20),".*"===h&&(s+=-50)}t.push(s)}i.push(t)}if(n.strict&&n.end){const t=i.length-1;i[t][i[t].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const s=new RegExp(o,n.sensitive?"":"i");return{re:s,score:i,keys:r,parse:function(t){const e=t.match(s),n={};if(!e)return null;for(let i=1;i<e.length;i++){const t=e[i]||"",o=r[i-1];n[o.name]=t&&o.repeatable?t.split("/"):t}return n},stringify:function(e){let n="",i=!1;for(const o of t){i&&n.endsWith("/")||(n+="/"),i=!1;for(const t of o)if(0===t.type)n+=t.value;else if(1===t.type){const{value:r,repeatable:s,optional:a}=t,l=r in e?e[r]:"";if(Array.isArray(l)&&!s)throw new Error(`Provided param "${r}" is an array but it is not repeatable (* or + modifiers)`);const u=Array.isArray(l)?l.join("/"):l;if(!u){if(!a)throw new Error(`Missing required param "${r}"`);o.length<2&&(n.endsWith("/")?n=n.slice(0,-1):i=!0)}n+=u}}return n}}}(function(t){if(!t)return[[]];if("/"===t)return[[Va]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(t){throw new Error(`ERR (${n})/"${u}": ${t}`)}let n=0,i=n;const o=[];let r;function s(){r&&o.push(r),r=[]}let a,l=0,u="",c="";function h(){u&&(0===n?r.push({type:0,value:u}):1===n||2===n||3===n?(r.length>1&&("*"===a||"+"===a)&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:u,regexp:c,repeatable:"*"===a||"+"===a,optional:"*"===a||"?"===a})):e("Invalid state to consume buffer"),u="")}function p(){u+=a}for(;l<t.length;)if(a=t[l++],"\\"!==a||2===n)switch(n){case 0:"/"===a?(u&&h(),s()):":"===a?(h(),n=1):p();break;case 4:p(),n=i;break;case 1:"("===a?n=2:Ga.test(a)?p():(h(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&l--);break;case 2:")"===a?"\\"==c[c.length-1]?c=c.slice(0,-1)+a:n=3:c+=a;break;case 3:h(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&l--,c="";break;default:e("Unknown state")}else i=n,n=4;return 2===n&&e(`Unfinished custom RegExp for param "${u}"`),h(),s(),o}(t.path),n),o=ra(i,{record:t,parent:e,children:[],alias:[]});return e&&!o.record.aliasOf==!e.record.aliasOf&&e.children.push(o),o}function qa(t,e){const n=[],i=new Map;function o(t,n,i){const a=!i,l=function(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:Ha(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||{}:{default:t.component}}}(t);l.aliasOf=i&&i.record;const u=Ya(e,t),c=[l];if("alias"in t){const e="string"==typeof t.alias?[t.alias]:t.alias;for(const t of e)c.push(ra({},l,{components:i?i.record.components:l.components,path:t,aliasOf:i?i.record:l}))}let h,p;for(const e of c){const{path:c}=e;if(n&&"/"!==c[0]){const t=n.record.path,i="/"===t[t.length-1]?"":"/";e.path=n.record.path+(c&&i+c)}if(h=Ua(e,n,u),i?i.alias.push(h):(p=p||h,p!==h&&p.alias.push(h),a&&t.name&&!Wa(h)&&r(t.name)),"children"in l){const t=l.children;for(let e=0;e<t.length;e++)o(t[e],h,i&&i.children[e])}i=i||h,s(h)}return p?()=>{r(p)}:aa}function r(t){if(Na(t)){const e=i.get(t);e&&(i.delete(t),n.splice(n.indexOf(e),1),e.children.forEach(r),e.alias.forEach(r))}else{const e=n.indexOf(t);e>-1&&(n.splice(e,1),t.record.name&&i.delete(t.record.name),t.children.forEach(r),t.alias.forEach(r))}}function s(t){let e=0;for(;e<n.length&&ja(t,n[e])>=0;)e++;n.splice(e,0,t),t.record.name&&!Wa(t)&&i.set(t.record.name,t)}return e=Ya({strict:!1,end:!0,sensitive:!1},e),t.forEach((t=>o(t))),{addRoute:o,resolve:function(t,e){let o,r,s,a={};if("name"in t&&t.name){if(o=i.get(t.name),!o)throw Da(1,{location:t});s=o.record.name,a=ra(function(t,e){const n={};for(const i of e)i in t&&(n[i]=t[i]);return n}(e.params,o.keys.filter((t=>!t.optional)).map((t=>t.name))),t.params),r=o.stringify(a)}else if("path"in t)r=t.path,o=n.find((t=>t.re.test(r))),o&&(a=o.parse(r),s=o.record.name);else{if(o=e.name?i.get(e.name):n.find((t=>t.re.test(e.path))),!o)throw Da(1,{location:t,currentLocation:e});s=o.record.name,a=ra({},e.params,t.params),r=o.stringify(a)}const l=[];let u=o;for(;u;)l.unshift(u.record),u=u.parent;return{name:s,path:r,params:a,matched:l,meta:Za(l)}},removeRoute:r,getRoutes:function(){return n},getRecordMatcher:function(t){return i.get(t)}}}function Ha(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const i in t.components)e[i]="boolean"==typeof n?n:n[i];return e}function Wa(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Za(t){return t.reduce(((t,e)=>ra(t,e.meta)),{})}function Ya(t,e){const n={};for(const i in t)n[i]=i in e?e[i]:t[i];return n}const Xa=/#/g,$a=/&/g,Ka=/\//g,Ja=/=/g,Qa=/\?/g,tl=/\+/g,el=/%5B/g,nl=/%5D/g,il=/%5E/g,ol=/%60/g,rl=/%7B/g,sl=/%7C/g,al=/%7D/g,ll=/%20/g;function ul(t){return encodeURI(""+t).replace(sl,"|").replace(el,"[").replace(nl,"]")}function cl(t){return ul(t).replace(tl,"%2B").replace(ll,"+").replace(Xa,"%23").replace($a,"%26").replace(ol,"`").replace(rl,"{").replace(al,"}").replace(il,"^")}function hl(t){return null==t?"":function(t){return ul(t).replace(Xa,"%23").replace(Qa,"%3F")}(t).replace(Ka,"%2F")}function pl(t){try{return decodeURIComponent(""+t)}catch(e){}return""+t}function fl(t){const e={};if(""===t||"?"===t)return e;const n=("?"===t[0]?t.slice(1):t).split("&");for(let i=0;i<n.length;++i){const t=n[i].replace(tl," "),o=t.indexOf("="),r=pl(o<0?t:t.slice(0,o)),s=o<0?null:pl(t.slice(o+1));if(r in e){let t=e[r];Array.isArray(t)||(t=e[r]=[t]),t.push(s)}else e[r]=s}return e}function dl(t){let e="";for(let n in t){const i=t[n];if(n=cl(n).replace(Ja,"%3D"),null==i){void 0!==i&&(e+=(e.length?"&":"")+n);continue}(Array.isArray(i)?i.map((t=>t&&cl(t))):[i&&cl(i)]).forEach((t=>{void 0!==t&&(e+=(e.length?"&":"")+n,null!=t&&(e+="="+t))}))}return e}function gl(t){const e={};for(const n in t){const i=t[n];void 0!==i&&(e[n]=Array.isArray(i)?i.map((t=>null==t?null:""+t)):null==i?i:""+i)}return e}function _l(){let t=[];return{add:function(e){return t.push(e),()=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)}},list:()=>t,reset:function(){t=[]}}}function ml(t,e,n,i,o){const r=i&&(i.enterCallbacks[o]=i.enterCallbacks[o]||[]);return()=>new Promise(((s,a)=>{const l=t=>{var l;!1===t?a(Da(4,{from:n,to:e})):t instanceof Error?a(t):"string"==typeof(l=t)||l&&"object"==typeof l?a(Da(2,{from:e,to:t})):(r&&i.enterCallbacks[o]===r&&"function"==typeof t&&r.push(t),s())},u=t.call(i&&i.instances[o],e,n,l);let c=Promise.resolve(u);t.length<3&&(c=c.then(l)),c.catch((t=>a(t)))}))}function yl(t,e,n,i){const o=[];for(const s of t)for(const t in s.components){let a=s.components[t];if("beforeRouteEnter"===e||s.instances[t])if("object"==typeof(r=a)||"displayName"in r||"props"in r||"__vccOpts"in r){const r=(a.__vccOpts||a)[e];r&&o.push(ml(r,n,i,s,t))}else{let r=a();o.push((()=>r.then((o=>{if(!o)return Promise.reject(new Error(`Couldn't resolve component "${t}" at "${s.path}"`));const r=(a=o).__esModule||Ks&&"Module"===a[Symbol.toStringTag]?o.default:o;var a;s.components[t]=r;const l=(r.__vccOpts||r)[e];return l&&ml(l,n,i,s,t)()}))))}}var r;return o}function vl(t){const e=dn(ea),n=dn(na),i=Ue((()=>e.resolve(ke(t.to)))),o=Ue((()=>{const{matched:t}=i.value,{length:e}=t,o=t[e-1],r=n.matched;if(!o||!r.length)return-1;const s=r.findIndex(ha.bind(null,o));if(s>-1)return s;const a=bl(t[e-2]);return e>1&&bl(o)===a&&r[r.length-1].path!==a?r.findIndex(ha.bind(null,t[e-2])):s})),r=Ue((()=>o.value>-1&&function(t,e){for(const n in e){const i=e[n],o=t[n];if("string"==typeof i){if(i!==o)return!1}else if(!Array.isArray(o)||o.length!==i.length||i.some(((t,e)=>t!==o[e])))return!1}return!0}(n.params,i.value.params))),s=Ue((()=>o.value>-1&&o.value===n.matched.length-1&&pa(n.params,i.value.params)));return{route:i,href:Ue((()=>i.value.href)),isActive:r,isExactActive:s,navigate:function(n={}){return function(t){if(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)return;if(t.defaultPrevented)return;if(void 0!==t.button&&0!==t.button)return;if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}t.preventDefault&&t.preventDefault();return!0}(n)?e[ke(t.replace)?"replace":"push"](ke(t.to)).catch(aa):Promise.resolve()}}}const xl=Cn({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:vl,setup(t,{slots:e}){const n=ve(vl(t)),{options:i}=dn(ea),o=Ue((()=>({[wl(t.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[wl(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive})));return()=>{const i=e.default&&e.default(n);return t.custom?i:Ir("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},i)}}});function bl(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const wl=(t,e,n)=>null!=t?t:null!=e?e:n;function El(t,e){if(!t)return null;const n=t(e);return 1===n.length?n[0]:n}const Cl=Cn({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(t,{attrs:e,slots:n}){const i=dn(ia),o=Ue((()=>t.route||i.value)),r=dn(ta,0),s=Ue((()=>o.value.matched[r]));fn(ta,r+1),fn(Qs,s),fn(ia,o);const a=Oe();return vr((()=>[a.value,s.value,t.name]),(([t,e,n],[i,o,r])=>{e&&(e.instances[n]=t,o&&o!==e&&t&&t===i&&(e.leaveGuards.size||(e.leaveGuards=o.leaveGuards),e.updateGuards.size||(e.updateGuards=o.updateGuards))),!t||!e||o&&ha(e,o)&&i||(e.enterCallbacks[n]||[]).forEach((e=>e(t)))}),{flush:"post"}),()=>{const i=o.value,r=s.value,l=r&&r.components[t.name],u=t.name;if(!l)return El(n.default,{Component:l,route:i});const c=r.props[t.name],h=c?!0===c?i.params:"function"==typeof c?c(i):c:null,p=Ir(l,ra({},h,e,{onVnodeUnmounted:t=>{t.component.isUnmounted&&(r.instances[u]=null)},ref:a}));return El(n.default,{Component:p,route:i})||p}}});function Sl(t){const e=qa(t.routes,t),n=t.parseQuery||fl,i=t.stringifyQuery||dl,o=t.history,r=_l(),s=_l(),a=_l(),l=Ae(Ta);let u=Ta;oa&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=sa.bind(null,(t=>""+t)),h=sa.bind(null,hl),p=sa.bind(null,pl);function f(t,r){if(r=ra({},r||l.value),"string"==typeof t){const i=ua(n,t,r.path),s=e.resolve({path:i.path},r),a=o.createHref(i.fullPath);return ra(i,s,{params:p(s.params),hash:pl(i.hash),redirectedFrom:void 0,href:a})}let s;if("path"in t)s=ra({},t,{path:ua(n,t.path,r.path).path});else{const e=ra({},t.params);for(const t in e)null==e[t]&&delete e[t];s=ra({},t,{params:h(t.params)}),r.params=h(r.params)}const a=e.resolve(s,r),u=t.hash||"";a.params=c(p(a.params));const f=function(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}(i,ra({},t,{hash:(d=u,ul(d).replace(rl,"{").replace(al,"}").replace(il,"^")),path:a.path}));var d;const g=o.createHref(f);return ra({fullPath:f,hash:u,query:i===dl?gl(t.query):t.query||{}},a,{redirectedFrom:void 0,href:g})}function d(t){return"string"==typeof t?ua(n,t,l.value.path):ra({},t)}function g(t,e){if(u!==t)return Da(8,{from:e,to:t})}function _(t){return y(t)}function m(t){const e=t.matched[t.matched.length-1];if(e&&e.redirect){const{redirect:n}=e;let i="function"==typeof n?n(t):n;return"string"==typeof i&&(i=i.includes("?")||i.includes("#")?i=d(i):{path:i},i.params={}),ra({query:t.query,hash:t.hash,params:t.params},i)}}function y(t,e){const n=u=f(t),o=l.value,r=t.state,s=t.force,a=!0===t.replace,c=m(n);if(c)return y(ra(d(c),{state:r,force:s,replace:a}),e||n);const h=n;let p;return h.redirectedFrom=e,!s&&function(t,e,n){const i=e.matched.length-1,o=n.matched.length-1;return i>-1&&i===o&&ha(e.matched[i],n.matched[o])&&pa(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}(i,o,n)&&(p=Da(16,{to:h,from:o}),N(o,o,!0,!1)),(p?Promise.resolve(p):x(h,o)).catch((t=>ka(t)?t:P(t,h,o))).then((t=>{if(t){if(ka(t,2))return y(ra(d(t.to),{state:r,force:s,replace:a}),e||h)}else t=w(h,o,!0,a,r);return b(h,o,t),t}))}function v(t,e){const n=g(t,e);return n?Promise.reject(n):Promise.resolve()}function x(t,e){let n;const[i,o,a]=function(t,e){const n=[],i=[],o=[],r=Math.max(e.matched.length,t.matched.length);for(let s=0;s<r;s++){const r=e.matched[s];r&&(t.matched.find((t=>ha(t,r)))?i.push(r):n.push(r));const a=t.matched[s];a&&(e.matched.find((t=>ha(t,a)))||o.push(a))}return[n,i,o]}(t,e);n=yl(i.reverse(),"beforeRouteLeave",t,e);for(const r of i)r.leaveGuards.forEach((i=>{n.push(ml(i,t,e))}));const l=v.bind(null,t,e);return n.push(l),Il(n).then((()=>{n=[];for(const i of r.list())n.push(ml(i,t,e));return n.push(l),Il(n)})).then((()=>{n=yl(o,"beforeRouteUpdate",t,e);for(const i of o)i.updateGuards.forEach((i=>{n.push(ml(i,t,e))}));return n.push(l),Il(n)})).then((()=>{n=[];for(const i of t.matched)if(i.beforeEnter&&!e.matched.includes(i))if(Array.isArray(i.beforeEnter))for(const o of i.beforeEnter)n.push(ml(o,t,e));else n.push(ml(i.beforeEnter,t,e));return n.push(l),Il(n)})).then((()=>(t.matched.forEach((t=>t.enterCallbacks={})),n=yl(a,"beforeRouteEnter",t,e),n.push(l),Il(n)))).then((()=>{n=[];for(const i of s.list())n.push(ml(i,t,e));return n.push(l),Il(n)})).catch((t=>ka(t,8)?t:Promise.reject(t)))}function b(t,e,n){for(const i of a.list())i(t,e,n)}function w(t,e,n,i,r){const s=g(t,e);if(s)return s;const a=e===Ta,u=oa?history.state:{};n&&(i||a?o.replace(t.fullPath,ra({scroll:a&&u&&u.scroll},r)):o.push(t.fullPath,r)),l.value=t,N(t,e,n,a),M()}let E;function C(){E=o.listen(((t,e,n)=>{const i=f(t),r=m(i);if(r)return void y(ra(r,{replace:!0}),i).catch(aa);u=i;const s=l.value;var a,c;oa&&(a=Ca(s.fullPath,n.delta),c=wa(),Sa.set(a,c)),x(i,s).catch((t=>ka(t,12)?t:ka(t,2)?(y(t.to,i).then((t=>{ka(t,20)&&!n.delta&&n.type===ga.pop&&o.go(-1,!1)})).catch(aa),Promise.reject()):(n.delta&&o.go(-n.delta,!1),P(t,i,s)))).then((t=>{(t=t||w(i,s,!1))&&(n.delta?o.go(-n.delta,!1):n.type===ga.pop&&ka(t,20)&&o.go(-1,!1)),b(i,s,t)})).catch(aa)}))}let S,I=_l(),L=_l();function P(t,e,n){M(t);const i=L.list();return i.length?i.forEach((i=>i(t,e,n))):console.error(t),Promise.reject(t)}function M(t){S||(S=!0,C(),I.list().forEach((([e,n])=>t?n(t):e())),I.reset())}function N(e,n,i,o){const{scrollBehavior:r}=t;if(!oa||!r)return Promise.resolve();const s=!i&&function(t){const e=Sa.get(t);return Sa.delete(t),e}(Ca(e.fullPath,0))||(o||!i)&&history.state&&history.state.scroll||null;return lr().then((()=>r(e,n,s))).then((t=>t&&Ea(t))).catch((t=>P(t,e,n)))}const T=t=>o.go(t);let O;const A=new Set;return{currentRoute:l,addRoute:function(t,n){let i,o;return Na(t)?(i=e.getRecordMatcher(t),o=n):o=t,e.addRoute(o,i)},removeRoute:function(t){const n=e.getRecordMatcher(t);n&&e.removeRoute(n)},hasRoute:function(t){return!!e.getRecordMatcher(t)},getRoutes:function(){return e.getRoutes().map((t=>t.record))},resolve:f,options:t,push:_,replace:function(t){return _(ra(d(t),{replace:!0}))},go:T,back:()=>T(-1),forward:()=>T(1),beforeEach:r.add,beforeResolve:s.add,afterEach:a.add,onError:L.add,isReady:function(){return S&&l.value!==Ta?Promise.resolve():new Promise(((t,e)=>{I.add([t,e])}))},install(t){t.component("RouterLink",xl),t.component("RouterView",Cl),t.config.globalProperties.$router=this,Object.defineProperty(t.config.globalProperties,"$route",{enumerable:!0,get:()=>ke(l)}),oa&&!O&&l.value===Ta&&(O=!0,_(o.location).catch((t=>{})));const e={};for(const i in Ta)e[i]=Ue((()=>l.value[i]));t.provide(ea,this),t.provide(na,ve(e)),t.provide(ia,l);const n=t.unmount;A.add(t),t.unmount=function(){A.delete(t),A.size<1&&(u=Ta,E&&E(),l.value=Ta,O=!1,S=!1),n()}}}}function Il(t){return t.reduce(((t,e)=>t.then((()=>e()))),Promise.resolve())}function Ll(){return dn(ea)}function Pl(){return dn(na)}var Ml="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Nl(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach((function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})})),e}var Tl={exports:{}};
/* @preserve
 * Leaflet 1.7.1, a JS library for interactive maps. http://leafletjs.com
 * (c) 2010-2019 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */!function(t){var e="1.7.1";function n(t){var e,n,i,o;for(n=1,i=arguments.length;n<i;n++)for(e in o=arguments[n])t[e]=o[e];return t}var i=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function o(t,e){var n=Array.prototype.slice;if(t.bind)return t.bind.apply(t,n.call(arguments,1));var i=n.call(arguments,2);return function(){return t.apply(e,i.length?i.concat(n.call(arguments)):arguments)}}var r=0;function s(t){return t._leaflet_id=t._leaflet_id||++r,t._leaflet_id}function a(t,e,n){var i,o,r,s;return s=function(){i=!1,o&&(r.apply(n,o),o=!1)},r=function(){i?o=arguments:(t.apply(n,arguments),setTimeout(s,e),i=!0)}}function l(t,e,n){var i=e[1],o=e[0],r=i-o;return t===i&&n?t:((t-o)%r+r)%r+o}function u(){return!1}function c(t,e){var n=Math.pow(10,void 0===e?6:e);return Math.round(t*n)/n}function h(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function p(t){return h(t).split(/\s+/)}function f(t,e){for(var n in Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?i(t.options):{}),e)t.options[n]=e[n];return t.options}function d(t,e,n){var i=[];for(var o in t)i.push(encodeURIComponent(n?o.toUpperCase():o)+"="+encodeURIComponent(t[o]));return(e&&-1!==e.indexOf("?")?"&":"?")+i.join("&")}var g=/\{ *([\w_-]+) *\}/g;function _(t,e){return t.replace(g,(function(t,n){var i=e[n];if(void 0===i)throw new Error("No value provided for variable "+t);return"function"==typeof i&&(i=i(e)),i}))}var m=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function y(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}var v="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function x(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var b=0;function w(t){var e=+new Date,n=Math.max(0,16-(e-b));return b=e+n,window.setTimeout(t,n)}var E=window.requestAnimationFrame||x("RequestAnimationFrame")||w,C=window.cancelAnimationFrame||x("CancelAnimationFrame")||x("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function S(t,e,n){if(!n||E!==w)return E.call(window,o(t,e));t.call(e)}function I(t){t&&C.call(window,t)}var P={extend:n,create:i,bind:o,lastId:r,stamp:s,throttle:a,wrapNum:l,falseFn:u,formatNum:c,trim:h,splitWords:p,setOptions:f,getParamString:d,template:_,isArray:m,indexOf:y,emptyImageUrl:v,requestFn:E,cancelFn:C,requestAnimFrame:S,cancelAnimFrame:I};function M(){}function N(t){if("undefined"!=typeof L&&L&&L.Mixin){t=m(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}M.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},o=e.__super__=this.prototype,r=i(o);for(var s in r.constructor=e,e.prototype=r,this)Object.prototype.hasOwnProperty.call(this,s)&&"prototype"!==s&&"__super__"!==s&&(e[s]=this[s]);return t.statics&&(n(e,t.statics),delete t.statics),t.includes&&(N(t.includes),n.apply(null,[r].concat(t.includes)),delete t.includes),r.options&&(t.options=n(i(r.options),t.options)),n(r,t),r._initHooks=[],r.callInitHooks=function(){if(!this._initHooksCalled){o.callInitHooks&&o.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=r._initHooks.length;t<e;t++)r._initHooks[t].call(this)}},e},M.include=function(t){return n(this.prototype,t),this},M.mergeOptions=function(t){return n(this.prototype.options,t),this},M.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var T={on:function(t,e,n){if("object"==typeof t)for(var i in t)this._on(i,t[i],e);else for(var o=0,r=(t=p(t)).length;o<r;o++)this._on(t[o],e,n);return this},off:function(t,e,n){if(t)if("object"==typeof t)for(var i in t)this._off(i,t[i],e);else for(var o=0,r=(t=p(t)).length;o<r;o++)this._off(t[o],e,n);else delete this._events;return this},_on:function(t,e,n){this._events=this._events||{};var i=this._events[t];i||(i=[],this._events[t]=i),n===this&&(n=void 0);for(var o={fn:e,ctx:n},r=i,s=0,a=r.length;s<a;s++)if(r[s].fn===e&&r[s].ctx===n)return;r.push(o)},_off:function(t,e,n){var i,o,r;if(this._events&&(i=this._events[t]))if(e){if(n===this&&(n=void 0),i)for(o=0,r=i.length;o<r;o++){var s=i[o];if(s.ctx===n&&s.fn===e)return s.fn=u,this._firingCount&&(this._events[t]=i=i.slice()),void i.splice(o,1)}}else{for(o=0,r=i.length;o<r;o++)i[o].fn=u;delete this._events[t]}},fire:function(t,e,i){if(!this.listens(t,i))return this;var o=n({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var r=this._events[t];if(r){this._firingCount=this._firingCount+1||1;for(var s=0,a=r.length;s<a;s++){var l=r[s];l.fn.call(l.ctx||this,o)}this._firingCount--}}return i&&this._propagateEvent(o),this},listens:function(t,e){var n=this._events&&this._events[t];if(n&&n.length)return!0;if(e)for(var i in this._eventParents)if(this._eventParents[i].listens(t,e))return!0;return!1},once:function(t,e,n){if("object"==typeof t){for(var i in t)this.once(i,t[i],e);return this}var r=o((function(){this.off(t,e,n).off(t,r,n)}),this);return this.on(t,e,n).on(t,r,n)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[s(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[s(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,n({layer:t.target,propagatedFrom:t.target},t),!0)}};T.addEventListener=T.on,T.removeEventListener=T.clearAllEventListeners=T.off,T.addOneTimeEventListener=T.once,T.fireEvent=T.fire,T.hasEventListeners=T.listens;var O=M.extend(T);function A(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e}var R=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};function D(t,e,n){return t instanceof A?t:m(t)?new A(t[0],t[1]):null==t?t:"object"==typeof t&&"x"in t&&"y"in t?new A(t.x,t.y):new A(t,e,n)}function k(t,e){if(t)for(var n=e?[t,e]:t,i=0,o=n.length;i<o;i++)this.extend(n[i])}function F(t,e){return!t||t instanceof k?t:new k(t,e)}function z(t,e){if(t)for(var n=e?[t,e]:t,i=0,o=n.length;i<o;i++)this.extend(n[i])}function B(t,e){return t instanceof z?t:new z(t,e)}function j(t,e,n){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==n&&(this.alt=+n)}function V(t,e,n){return t instanceof j?t:m(t)&&"object"!=typeof t[0]?3===t.length?new j(t[0],t[1],t[2]):2===t.length?new j(t[0],t[1]):null:null==t?t:"object"==typeof t&&"lat"in t?new j(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new j(t,e,n)}A.prototype={clone:function(){return new A(this.x,this.y)},add:function(t){return this.clone()._add(D(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(D(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new A(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new A(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=R(this.x),this.y=R(this.y),this},distanceTo:function(t){var e=(t=D(t)).x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return(t=D(t)).x===this.x&&t.y===this.y},contains:function(t){return t=D(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+c(this.x)+", "+c(this.y)+")"}},k.prototype={extend:function(t){return t=D(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new A((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new A(this.min.x,this.max.y)},getTopRight:function(){return new A(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return(t="number"==typeof t[0]||t instanceof A?D(t):F(t))instanceof k?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=F(t);var e=this.min,n=this.max,i=t.min,o=t.max,r=o.x>=e.x&&i.x<=n.x,s=o.y>=e.y&&i.y<=n.y;return r&&s},overlaps:function(t){t=F(t);var e=this.min,n=this.max,i=t.min,o=t.max,r=o.x>e.x&&i.x<n.x,s=o.y>e.y&&i.y<n.y;return r&&s},isValid:function(){return!(!this.min||!this.max)}},z.prototype={extend:function(t){var e,n,i=this._southWest,o=this._northEast;if(t instanceof j)e=t,n=t;else{if(!(t instanceof z))return t?this.extend(V(t)||B(t)):this;if(e=t._southWest,n=t._northEast,!e||!n)return this}return i||o?(i.lat=Math.min(e.lat,i.lat),i.lng=Math.min(e.lng,i.lng),o.lat=Math.max(n.lat,o.lat),o.lng=Math.max(n.lng,o.lng)):(this._southWest=new j(e.lat,e.lng),this._northEast=new j(n.lat,n.lng)),this},pad:function(t){var e=this._southWest,n=this._northEast,i=Math.abs(e.lat-n.lat)*t,o=Math.abs(e.lng-n.lng)*t;return new z(new j(e.lat-i,e.lng-o),new j(n.lat+i,n.lng+o))},getCenter:function(){return new j((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new j(this.getNorth(),this.getWest())},getSouthEast:function(){return new j(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof j||"lat"in t?V(t):B(t);var e,n,i=this._southWest,o=this._northEast;return t instanceof z?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=i.lat&&n.lat<=o.lat&&e.lng>=i.lng&&n.lng<=o.lng},intersects:function(t){t=B(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),o=t.getNorthEast(),r=o.lat>=e.lat&&i.lat<=n.lat,s=o.lng>=e.lng&&i.lng<=n.lng;return r&&s},overlaps:function(t){t=B(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),o=t.getNorthEast(),r=o.lat>e.lat&&i.lat<n.lat,s=o.lng>e.lng&&i.lng<n.lng;return r&&s},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=B(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}},j.prototype={equals:function(t,e){return!!t&&(t=V(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===e?1e-9:e))},toString:function(t){return"LatLng("+c(this.lat,t)+", "+c(this.lng,t)+")"},distanceTo:function(t){return q.distance(this,V(t))},wrap:function(){return q.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return B([this.lat-e,this.lng-n],[this.lat+e,this.lng+n])},clone:function(){return new j(this.lat,this.lng,this.alt)}};var G,U={latLngToPoint:function(t,e){var n=this.projection.project(t),i=this.scale(e);return this.transformation._transform(n,i)},pointToLatLng:function(t,e){var n=this.scale(e),i=this.transformation.untransform(t,n);return this.projection.unproject(i)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,n=this.scale(t);return new k(this.transformation.transform(e.min,n),this.transformation.transform(e.max,n))},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?l(t.lng,this.wrapLng,!0):t.lng;return new j(this.wrapLat?l(t.lat,this.wrapLat,!0):t.lat,e,t.alt)},wrapLatLngBounds:function(t){var e=t.getCenter(),n=this.wrapLatLng(e),i=e.lat-n.lat,o=e.lng-n.lng;if(0===i&&0===o)return t;var r=t.getSouthWest(),s=t.getNorthEast();return new z(new j(r.lat-i,r.lng-o),new j(s.lat-i,s.lng-o))}},q=n({},U,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,i=t.lat*n,o=e.lat*n,r=Math.sin((e.lat-t.lat)*n/2),s=Math.sin((e.lng-t.lng)*n/2),a=r*r+Math.cos(i)*Math.cos(o)*s*s,l=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return this.R*l}}),H=6378137,W={R:H,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,t.lat),-n),o=Math.sin(i*e);return new A(this.R*t.lng*e,this.R*Math.log((1+o)/(1-o))/2)},unproject:function(t){var e=180/Math.PI;return new j((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:(G=H*Math.PI,new k([-G,-G],[G,G]))};function Z(t,e,n,i){if(m(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=n,this._d=i}function Y(t,e,n,i){return new Z(t,e,n,i)}Z.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new A((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var X,$=n({},q,{code:"EPSG:3857",projection:W,transformation:(X=.5/(Math.PI*W.R),Y(X,.5,-X,.5))}),K=n({},$,{code:"EPSG:900913"});function J(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Q(t,e){var n,i,o,r,s,a,l="";for(n=0,o=t.length;n<o;n++){for(i=0,r=(s=t[n]).length;i<r;i++)l+=(i?"L":"M")+(a=s[i]).x+" "+a.y;l+=e?Tt?"z":"x":""}return l||"M0 0"}var tt=document.documentElement.style,et="ActiveXObject"in window,nt=et&&!document.addEventListener,it="msLaunchUri"in navigator&&!("documentMode"in document),ot=At("webkit"),rt=At("android"),st=At("android 2")||At("android 3"),at=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),lt=rt&&At("Google")&&at<537&&!("AudioNode"in window),ut=!!window.opera,ct=!it&&At("chrome"),ht=At("gecko")&&!ot&&!ut&&!et,pt=!ct&&At("safari"),ft=At("phantom"),dt="OTransition"in tt,gt=0===navigator.platform.indexOf("Win"),_t=et&&"transition"in tt,mt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!st,yt="MozPerspective"in tt,vt=!window.L_DISABLE_3D&&(_t||mt||yt)&&!dt&&!ft,xt="undefined"!=typeof orientation||At("mobile"),bt=xt&&ot,wt=xt&&mt,Et=!window.PointerEvent&&window.MSPointerEvent,Ct=!(!window.PointerEvent&&!Et),St=!window.L_NO_TOUCH&&(Ct||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),It=xt&&ut,Lt=xt&&ht,Pt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Mt=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",u,e),window.removeEventListener("testPassiveEventSupport",u,e)}catch(n){}return t}(),Nt=!!document.createElement("canvas").getContext,Tt=!(!document.createElementNS||!J("svg").createSVGRect),Ot=!Tt&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(n){return!1}}();function At(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var Rt={ie:et,ielt9:nt,edge:it,webkit:ot,android:rt,android23:st,androidStock:lt,opera:ut,chrome:ct,gecko:ht,safari:pt,phantom:ft,opera12:dt,win:gt,ie3d:_t,webkit3d:mt,gecko3d:yt,any3d:vt,mobile:xt,mobileWebkit:bt,mobileWebkit3d:wt,msPointer:Et,pointer:Ct,touch:St,mobileOpera:It,mobileGecko:Lt,retina:Pt,passiveEvents:Mt,canvas:Nt,svg:Tt,vml:Ot},Dt=Et?"MSPointerDown":"pointerdown",kt=Et?"MSPointerMove":"pointermove",Ft=Et?"MSPointerUp":"pointerup",zt=Et?"MSPointerCancel":"pointercancel",Bt={},jt=!1;function Vt(t,e,n,i){return"touchstart"===e?Ut(t,n,i):"touchmove"===e?Yt(t,n,i):"touchend"===e&&Xt(t,n,i),this}function Gt(t,e,n){var i=t["_leaflet_"+e+n];return"touchstart"===e?t.removeEventListener(Dt,i,!1):"touchmove"===e?t.removeEventListener(kt,i,!1):"touchend"===e&&(t.removeEventListener(Ft,i,!1),t.removeEventListener(zt,i,!1)),this}function Ut(t,e,n){var i=o((function(t){t.MSPOINTER_TYPE_TOUCH&&t.pointerType===t.MSPOINTER_TYPE_TOUCH&&He(t),Zt(t,e)}));t["_leaflet_touchstart"+n]=i,t.addEventListener(Dt,i,!1),jt||(document.addEventListener(Dt,qt,!0),document.addEventListener(kt,Ht,!0),document.addEventListener(Ft,Wt,!0),document.addEventListener(zt,Wt,!0),jt=!0)}function qt(t){Bt[t.pointerId]=t}function Ht(t){Bt[t.pointerId]&&(Bt[t.pointerId]=t)}function Wt(t){delete Bt[t.pointerId]}function Zt(t,e){for(var n in t.touches=[],Bt)t.touches.push(Bt[n]);t.changedTouches=[t],e(t)}function Yt(t,e,n){var i=function(t){t.pointerType===(t.MSPOINTER_TYPE_MOUSE||"mouse")&&0===t.buttons||Zt(t,e)};t["_leaflet_touchmove"+n]=i,t.addEventListener(kt,i,!1)}function Xt(t,e,n){var i=function(t){Zt(t,e)};t["_leaflet_touchend"+n]=i,t.addEventListener(Ft,i,!1),t.addEventListener(zt,i,!1)}var $t=Et?"MSPointerDown":Ct?"pointerdown":"touchstart",Kt=Et?"MSPointerUp":Ct?"pointerup":"touchend",Jt="_leaflet_";function Qt(t,e,n){var i,o,r=!1,s=250;function a(t){if(Ct){if(!t.isPrimary)return;if("mouse"===t.pointerType)return}else if(t.touches.length>1)return;var e=Date.now(),n=e-(i||e);o=t.touches?t.touches[0]:t,r=n>0&&n<=s,i=e}function l(t){if(r&&!o.cancelBubble){if(Ct){if("mouse"===t.pointerType)return;var n,s,a={};for(s in o)n=o[s],a[s]=n&&n.bind?n.bind(o):n;o=a}o.type="dblclick",o.button=0,e(o),i=null}}return t[Jt+$t+n]=a,t[Jt+Kt+n]=l,t[Jt+"dblclick"+n]=e,t.addEventListener($t,a,!!Mt&&{passive:!1}),t.addEventListener(Kt,l,!!Mt&&{passive:!1}),t.addEventListener("dblclick",e,!1),this}function te(t,e){var n=t[Jt+$t+e],i=t[Jt+Kt+e],o=t[Jt+"dblclick"+e];return t.removeEventListener($t,n,!!Mt&&{passive:!1}),t.removeEventListener(Kt,i,!!Mt&&{passive:!1}),t.removeEventListener("dblclick",o,!1),this}var ee,ne,ie,oe,re,se=Ee(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ae=Ee(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),le="webkitTransition"===ae||"OTransition"===ae?ae+"End":"transitionend";function ue(t){return"string"==typeof t?document.getElementById(t):t}function ce(t,e){var n=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!n||"auto"===n)&&document.defaultView){var i=document.defaultView.getComputedStyle(t,null);n=i?i[e]:null}return"auto"===n?null:n}function he(t,e,n){var i=document.createElement(t);return i.className=e||"",n&&n.appendChild(i),i}function pe(t){var e=t.parentNode;e&&e.removeChild(t)}function fe(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function de(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function ge(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function _e(t,e){if(void 0!==t.classList)return t.classList.contains(e);var n=xe(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)}function me(t,e){if(void 0!==t.classList)for(var n=p(e),i=0,o=n.length;i<o;i++)t.classList.add(n[i]);else if(!_e(t,e)){var r=xe(t);ve(t,(r?r+" ":"")+e)}}function ye(t,e){void 0!==t.classList?t.classList.remove(e):ve(t,h((" "+xe(t)+" ").replace(" "+e+" "," ")))}function ve(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function xe(t){return t.correspondingElement&&(t=t.correspondingElement),void 0===t.className.baseVal?t.className:t.className.baseVal}function be(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&we(t,e)}function we(t,e){var n=!1,i="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(i)}catch(o){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=" progid:"+i+"(opacity="+e+")"}function Ee(t){for(var e=document.documentElement.style,n=0;n<t.length;n++)if(t[n]in e)return t[n];return!1}function Ce(t,e,n){var i=e||new A(0,0);t.style[se]=(_t?"translate("+i.x+"px,"+i.y+"px)":"translate3d("+i.x+"px,"+i.y+"px,0)")+(n?" scale("+n+")":"")}function Se(t,e){t._leaflet_pos=e,vt?Ce(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function Ie(t){return t._leaflet_pos||new A(0,0)}if("onselectstart"in document)ee=function(){De(window,"selectstart",He)},ne=function(){Fe(window,"selectstart",He)};else{var Le=Ee(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ee=function(){if(Le){var t=document.documentElement.style;ie=t[Le],t[Le]="none"}},ne=function(){Le&&(document.documentElement.style[Le]=ie,ie=void 0)}}function Pe(){De(window,"dragstart",He)}function Me(){Fe(window,"dragstart",He)}function Ne(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(Te(),oe=t,re=t.style.outline,t.style.outline="none",De(window,"keydown",Te))}function Te(){oe&&(oe.style.outline=re,oe=void 0,re=void 0,Fe(window,"keydown",Te))}function Oe(t){do{t=t.parentNode}while(!(t.offsetWidth&&t.offsetHeight||t===document.body));return t}function Ae(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var Re={TRANSFORM:se,TRANSITION:ae,TRANSITION_END:le,get:ue,getStyle:ce,create:he,remove:pe,empty:fe,toFront:de,toBack:ge,hasClass:_e,addClass:me,removeClass:ye,setClass:ve,getClass:xe,setOpacity:be,testProp:Ee,setTransform:Ce,setPosition:Se,getPosition:Ie,disableTextSelection:ee,enableTextSelection:ne,disableImageDrag:Pe,enableImageDrag:Me,preventOutline:Ne,restoreOutline:Te,getSizedParentNode:Oe,getScale:Ae};function De(t,e,n,i){if("object"==typeof e)for(var o in e)je(t,o,e[o],n);else for(var r=0,s=(e=p(e)).length;r<s;r++)je(t,e[r],n,i);return this}var ke="_leaflet_events";function Fe(t,e,n,i){if("object"==typeof e)for(var o in e)Ve(t,o,e[o],n);else if(e)for(var r=0,s=(e=p(e)).length;r<s;r++)Ve(t,e[r],n,i);else{for(var a in t[ke])Ve(t,a,t[ke][a]);delete t[ke]}return this}function ze(){if(Ct)return!(it||pt)}var Be={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function je(t,e,n,i){var o=e+s(n)+(i?"_"+s(i):"");if(t[ke]&&t[ke][o])return this;var r=function(e){return n.call(i||t,e||window.event)},a=r;Ct&&0===e.indexOf("touch")?Vt(t,e,r,o):St&&"dblclick"===e&&!ze()?Qt(t,r,o):"addEventListener"in t?"touchstart"===e||"touchmove"===e||"wheel"===e||"mousewheel"===e?t.addEventListener(Be[e]||e,r,!!Mt&&{passive:!1}):"mouseenter"===e||"mouseleave"===e?(r=function(e){e=e||window.event,Qe(t,e)&&a(e)},t.addEventListener(Be[e],r,!1)):t.addEventListener(e,a,!1):"attachEvent"in t&&t.attachEvent("on"+e,r),t[ke]=t[ke]||{},t[ke][o]=r}function Ve(t,e,n,i){var o=e+s(n)+(i?"_"+s(i):""),r=t[ke]&&t[ke][o];if(!r)return this;Ct&&0===e.indexOf("touch")?Gt(t,e,o):St&&"dblclick"===e&&!ze()?te(t,o):"removeEventListener"in t?t.removeEventListener(Be[e]||e,r,!1):"detachEvent"in t&&t.detachEvent("on"+e,r),t[ke][o]=null}function Ge(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,Je(t),this}function Ue(t){return je(t,"wheel",Ge),this}function qe(t){return De(t,"mousedown touchstart dblclick",Ge),je(t,"click",Ke),this}function He(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function We(t){return He(t),Ge(t),this}function Ze(t,e){if(!e)return new A(t.clientX,t.clientY);var n=Ae(e),i=n.boundingClientRect;return new A((t.clientX-i.left)/n.x-e.clientLeft,(t.clientY-i.top)/n.y-e.clientTop)}var Ye=gt&&ct?2*window.devicePixelRatio:ht?window.devicePixelRatio:1;function Xe(t){return it?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/Ye:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}var $e={};function Ke(t){$e[t.type]=!0}function Je(t){var e=$e[t.type];return $e[t.type]=!1,e}function Qe(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(i){return!1}return n!==t}var tn={on:De,off:Fe,stopPropagation:Ge,disableScrollPropagation:Ue,disableClickPropagation:qe,preventDefault:He,stop:We,getMousePosition:Ze,getWheelDelta:Xe,fakeStop:Ke,skipped:Je,isExternalTarget:Qe,addListener:De,removeListener:Fe},en=O.extend({run:function(t,e,n,i){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(i||.5,.2),this._startPos=Ie(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=S(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,n=1e3*this._duration;e<n?this._runFrame(this._easeOut(e/n),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var n=this._startPos.add(this._offset.multiplyBy(t));e&&n._round(),Se(this._el,n),this.fire("step")},_complete:function(){I(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),nn=O.extend({options:{crs:$,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=f(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(V(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ae&&vt&&!It&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),De(this._proxy,le,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,i){return e=void 0===e?this._zoom:this._limitZoom(e),t=this._limitCenter(V(t),e,this.options.maxBounds),i=i||{},this._stop(),this._loaded&&!i.reset&&!0!==i&&(void 0!==i.animate&&(i.zoom=n({animate:i.animate},i.zoom),i.pan=n({animate:i.animate,duration:i.duration},i.pan)),this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,i.zoom):this._tryAnimatedPan(t,i.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(t,e),this)},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(vt?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(vt?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,n){var i=this.getZoomScale(e),o=this.getSize().divideBy(2),r=(t instanceof A?t:this.latLngToContainerPoint(t)).subtract(o).multiplyBy(1-1/i),s=this.containerPointToLatLng(o.add(r));return this.setView(s,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():B(t);var n=D(e.paddingTopLeft||e.padding||[0,0]),i=D(e.paddingBottomRight||e.padding||[0,0]),o=this.getBoundsZoom(t,!1,n.add(i));if((o="number"==typeof e.maxZoom?Math.min(e.maxZoom,o):o)===1/0)return{center:t.getCenter(),zoom:o};var r=i.subtract(n).divideBy(2),s=this.project(t.getSouthWest(),o),a=this.project(t.getNorthEast(),o);return{center:this.unproject(s.add(a).divideBy(2).add(r),o),zoom:o}},fitBounds:function(t,e){if(!(t=B(t)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(t,e);return this.setView(n.center,n.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(e=e||{},!(t=D(t).round()).x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new en,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){me(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,n){if(!1===(n=n||{}).animate||!vt)return this.setView(t,e,n);this._stop();var i=this.project(this.getCenter()),o=this.project(t),r=this.getSize(),s=this._zoom;t=V(t),e=void 0===e?s:e;var a=Math.max(r.x,r.y),l=a*this.getZoomScale(s,e),u=o.distanceTo(i)||1,c=1.42,h=c*c;function p(t){var e=(l*l-a*a+(t?-1:1)*h*h*u*u)/(2*(t?l:a)*h*u),n=Math.sqrt(e*e+1)-e;return n<1e-9?-18:Math.log(n)}function f(t){return(Math.exp(t)-Math.exp(-t))/2}function d(t){return(Math.exp(t)+Math.exp(-t))/2}function g(t){return f(t)/d(t)}var _=p(0);function m(t){return a*(d(_)/d(_+c*t))}function y(t){return a*(d(_)*g(_+c*t)-f(_))/h}function v(t){return 1-Math.pow(1-t,1.5)}var x=Date.now(),b=(p(1)-_)/c,w=n.duration?1e3*n.duration:1e3*b*.8;function E(){var n=(Date.now()-x)/w,r=v(n)*b;n<=1?(this._flyToFrame=S(E,this),this._move(this.unproject(i.add(o.subtract(i).multiplyBy(y(r)/u)),s),this.getScaleZoom(a/m(r),s),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}return this._moveStart(!0,n.noMoveStart),E.call(this),this},flyToBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.flyTo(n.center,n.zoom,e)},setMaxBounds:function(t){return(t=B(t)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var n=this.getCenter(),i=this._limitCenter(n,this._zoom,B(t));return n.equals(i)||this.panTo(i,e),this._enforcingBounds=!1,this},panInside:function(t,e){var n=D((e=e||{}).paddingTopLeft||e.padding||[0,0]),i=D(e.paddingBottomRight||e.padding||[0,0]),o=this.getCenter(),r=this.project(o),s=this.project(t),a=this.getPixelBounds(),l=a.getSize().divideBy(2),u=F([a.min.add(n),a.max.subtract(i)]);if(!u.contains(s)){this._enforcingBounds=!0;var c=r.subtract(s),h=D(s.x+c.x,s.y+c.y);(s.x<u.min.x||s.x>u.max.x)&&(h.x=r.x-c.x,c.x>0?h.x+=l.x-n.x:h.x-=l.x-i.x),(s.y<u.min.y||s.y>u.max.y)&&(h.y=r.y-c.y,c.y>0?h.y+=l.y-n.y:h.y-=l.y-i.y),this.panTo(this.unproject(h),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=n({animate:!1,pan:!0},!0===t?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var i=this.getSize(),r=e.divideBy(2).round(),s=i.divideBy(2).round(),a=r.subtract(s);return a.x||a.y?(t.animate&&t.pan?this.panBy(a):(t.pan&&this._rawPanBy(a),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:i})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=n({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=o(this._handleGeolocationResponse,this),i=o(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,i,t):navigator.geolocation.getCurrentPosition(e,i,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,n=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(t){var e=new j(t.coords.latitude,t.coords.longitude),n=e.toBounds(2*t.coords.accuracy),i=this._locateOptions;if(i.setView){var o=this.getBoundsZoom(n);this.setView(e,i.maxZoom?Math.min(o,i.maxZoom):o)}var r={latlng:e,bounds:n,timestamp:t.timestamp};for(var s in t.coords)"number"==typeof t.coords[s]&&(r[s]=t.coords[s]);this.fire("locationfound",r)},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(e){this._container._leaflet_id=void 0,this._containerId=void 0}var t;for(t in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),pe(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(I(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)pe(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var n=he("div","leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),e||this._mapPane);return t&&(this._panes[t]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new z(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=B(t),n=D(n||[0,0]);var i=this.getZoom()||0,o=this.getMinZoom(),r=this.getMaxZoom(),s=t.getNorthWest(),a=t.getSouthEast(),l=this.getSize().subtract(n),u=F(this.project(a,i),this.project(s,i)).getSize(),c=vt?this.options.zoomSnap:1,h=l.x/u.x,p=l.y/u.y,f=e?Math.max(h,p):Math.min(h,p);return i=this.getScaleZoom(f,i),c&&(i=Math.round(i/(c/100))*(c/100),i=e?Math.ceil(i/c)*c:Math.floor(i/c)*c),Math.max(o,Math.min(r,i))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new A(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var n=this._getTopLeftPoint(t,e);return new k(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;return e=void 0===e?this._zoom:e,n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs;e=void 0===e?this._zoom:e;var i=n.zoom(t*n.scale(e));return isNaN(i)?1/0:i},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(V(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(D(t),e)},layerPointToLatLng:function(t){var e=D(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){return this.project(V(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(V(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(B(t))},distance:function(t,e){return this.options.crs.distance(V(t),V(e))},containerPointToLayerPoint:function(t){return D(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return D(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(D(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(V(t)))},mouseEventToContainerPoint:function(t){return Ze(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=ue(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");De(e,"scroll",this._onScroll,this),this._containerId=s(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&vt,me(t,"leaflet-container"+(St?" leaflet-touch":"")+(Pt?" leaflet-retina":"")+(nt?" leaflet-oldie":"")+(pt?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=ce(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Se(this._mapPane,new A(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(me(t.markerPane,"leaflet-zoom-hide"),me(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e){Se(this._mapPane,new A(0,0));var n=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var i=this._zoom!==e;this._moveStart(i,!1)._move(t,e)._moveEnd(i),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,n){void 0===e&&(e=this._zoom);var i=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(i||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return I(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){Se(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[s(this._container)]=this;var e=t?Fe:De;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),vt&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){I(this._resizeRequest),this._resizeRequest=S((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var n,i=[],o="mouseout"===e||"mouseover"===e,r=t.target||t.srcElement,a=!1;r;){if((n=this._targets[s(r)])&&("click"===e||"preclick"===e)&&!t._simulated&&this._draggableMoved(n)){a=!0;break}if(n&&n.listens(e,!0)){if(o&&!Qe(r,t))break;if(i.push(n),o)break}if(r===this._container)break;r=r.parentNode}return i.length||a||o||!Qe(r,t)||(i=[this]),i},_handleDOMEvent:function(t){if(this._loaded&&!Je(t)){var e=t.type;"mousedown"!==e&&"keypress"!==e&&"keyup"!==e&&"keydown"!==e||Ne(t.target||t.srcElement),this._fireDOMEvent(t,e)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,i){if("click"===t.type){var o=n({},t);o.type="preclick",this._fireDOMEvent(o,o.type,i)}if(!t._stopped&&(i=(i||[]).concat(this._findEventTargets(t,e))).length){var r=i[0];"contextmenu"===e&&r.listens(e,!0)&&He(t);var s={originalEvent:t};if("keypress"!==t.type&&"keydown"!==t.type&&"keyup"!==t.type){var a=r.getLatLng&&(!r._radius||r._radius<=10);s.containerPoint=a?this.latLngToContainerPoint(r.getLatLng()):this.mouseEventToContainerPoint(t),s.layerPoint=this.containerPointToLayerPoint(s.containerPoint),s.latlng=a?r.getLatLng():this.layerPointToLatLng(s.layerPoint)}for(var l=0;l<i.length;l++)if(i[l].fire(e,s,!0),s.originalEvent._stopped||!1===i[l].options.bubblingMouseEvents&&-1!==y(this._mouseEvents,e))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return Ie(this._mapPane)||new A(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(i)},_latLngBoundsToNewLayerBounds:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return F([this.project(t.getSouthWest(),e)._subtract(i),this.project(t.getNorthWest(),e)._subtract(i),this.project(t.getSouthEast(),e)._subtract(i),this.project(t.getNorthEast(),e)._subtract(i)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var i=this.project(t,e),o=this.getSize().divideBy(2),r=new k(i.subtract(o),i.add(o)),s=this._getBoundsOffset(r,n,e);return s.round().equals([0,0])?t:this.unproject(i.add(s),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),i=new k(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(i,e))},_getBoundsOffset:function(t,e,n){var i=F(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),o=i.min.subtract(t.min),r=i.max.subtract(t.max);return new A(this._rebound(o.x,-r.x),this._rebound(o.y,-r.y))},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),i=vt?this.options.zoomSnap:1;return i&&(t=Math.round(t/i)*i),Math.max(e,Math.min(n,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ye(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._trunc();return!(!0!==(e&&e.animate)&&!this.getSize().contains(n)||(this.panBy(n,e),0))},_createAnimProxy:function(){var t=this._proxy=he("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",(function(t){var e=se,n=this._proxy.style[e];Ce(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),n===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){pe(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();Ce(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var i=this.getZoomScale(e),o=this._getCenterOffset(t)._divideBy(1-1/i);return!(!0!==n.animate&&!this.getSize().contains(o)||(S((function(){this._moveStart(!0,!1)._animateZoom(t,e,!0)}),this),0))},_animateZoom:function(t,e,n,i){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,me(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:i}),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ye(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),S((function(){this._moveEnd(!0)}),this))}});function on(t,e){return new nn(t,e)}var rn=M.extend({options:{position:"topright"},initialize:function(t){f(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),i=t._controlCorners[n];return me(e,"leaflet-control"),-1!==n.indexOf("bottom")?i.insertBefore(e,i.firstChild):i.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(pe(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),sn=function(t){return new rn(t)};nn.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",n=this._controlContainer=he("div",e+"control-container",this._container);function i(i,o){var r=e+i+" "+e+o;t[i+o]=he("div",r,n)}i("top","left"),i("top","right"),i("bottom","left"),i("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)pe(this._controlCorners[t]);pe(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var an=rn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,n,i){return n<i?-1:i<n?1:0}},initialize:function(t,e,n){for(var i in f(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,t)this._addLayer(t[i],i);for(i in e)this._addLayer(e[i],i,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return rn.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(s(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){me(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(me(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):ye(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ye(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=he("div",t),n=this.options.collapsed;e.setAttribute("aria-haspopup",!0),qe(e),Ue(e);var i=this._section=he("section",t+"-list");n&&(this._map.on("click",this.collapse,this),rt||De(e,{mouseenter:this.expand,mouseleave:this.collapse},this));var o=this._layersLink=he("a",t+"-toggle",e);o.href="#",o.title="Layers",St?(De(o,"click",We),De(o,"click",this.expand,this)):De(o,"focus",this.expand,this),n||this.expand(),this._baseLayersList=he("div",t+"-base",i),this._separator=he("div",t+"-separator",i),this._overlaysList=he("div",t+"-overlays",i),e.appendChild(i)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&s(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,n){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:n}),this.options.sortLayers&&this._layers.sort(o((function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)}),this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;fe(this._baseLayersList),fe(this._overlaysList),this._layerControlInputs=[];var t,e,n,i,o=0;for(n=0;n<this._layers.length;n++)i=this._layers[n],this._addItem(i),e=e||i.overlay,t=t||!i.overlay,o+=i.overlay?0:1;return this.options.hideSingleBase&&(t=t&&o>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(s(t.target)),n=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;n&&this._map.fire(n,e)},_createRadioElement:function(t,e){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",i=document.createElement("div");return i.innerHTML=n,i.firstChild},_addItem:function(t){var e,n=document.createElement("label"),i=this._map.hasLayer(t.layer);t.overlay?((e=document.createElement("input")).type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=i):e=this._createRadioElement("leaflet-base-layers_"+s(this),i),this._layerControlInputs.push(e),e.layerId=s(t.layer),De(e,"click",this._onInputClick,this);var o=document.createElement("span");o.innerHTML=" "+t.name;var r=document.createElement("div");return n.appendChild(r),r.appendChild(e),r.appendChild(o),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var t,e,n=this._layerControlInputs,i=[],o=[];this._handlingClick=!0;for(var r=n.length-1;r>=0;r--)t=n[r],e=this._getLayer(t.layerId).layer,t.checked?i.push(e):t.checked||o.push(e);for(r=0;r<o.length;r++)this._map.hasLayer(o[r])&&this._map.removeLayer(o[r]);for(r=0;r<i.length;r++)this._map.hasLayer(i[r])||this._map.addLayer(i[r]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,n=this._layerControlInputs,i=this._map.getZoom(),o=n.length-1;o>=0;o--)t=n[o],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&i<e.options.minZoom||void 0!==e.options.maxZoom&&i>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),ln=function(t,e,n){return new an(t,e,n)},un=rn.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=he("div",e+" leaflet-bar"),i=this.options;return this._zoomInButton=this._createButton(i.zoomInText,i.zoomInTitle,e+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(i.zoomOutText,i.zoomOutTitle,e+"-out",n,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,n,i,o){var r=he("a",n,i);return r.innerHTML=t,r.href="#",r.title=e,r.setAttribute("role","button"),r.setAttribute("aria-label",e),qe(r),De(r,"click",We),De(r,"click",o,this),De(r,"click",this._refocusOnMap,this),r},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";ye(this._zoomInButton,e),ye(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMinZoom())&&me(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMaxZoom())&&me(this._zoomInButton,e)}});nn.mergeOptions({zoomControl:!0}),nn.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new un,this.addControl(this.zoomControl))}));var cn=function(t){return new un(t)},hn=rn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",n=he("div",e),i=this.options;return this._addScales(i,e+"-line",n),t.on(i.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),n},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=he("div",e,n)),t.imperial&&(this._iScale=he("div",e,n))},_update:function(){var t=this._map,e=t.getSize().y/2,n=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(n)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),n=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,n,e/t)},_updateImperial:function(t){var e,n,i,o=3.2808399*t;o>5280?(e=o/5280,n=this._getRoundNum(e),this._updateScale(this._iScale,n+" mi",n/e)):(i=this._getRoundNum(o),this._updateScale(this._iScale,i+" ft",i/o))},_updateScale:function(t,e,n){t.style.width=Math.round(this.options.maxWidth*n)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return e*(n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),pn=function(t){return new hn(t)},fn=rn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){f(this,t),this._attributions={}},onAdd:function(t){for(var e in t.attributionControl=this,this._container=he("div","leaflet-control-attribution"),qe(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(" | ")}}});nn.mergeOptions({attributionControl:!0}),nn.addInitHook((function(){this.options.attributionControl&&(new fn).addTo(this)}));var dn=function(t){return new fn(t)};rn.Layers=an,rn.Zoom=un,rn.Scale=hn,rn.Attribution=fn,sn.layers=ln,sn.zoom=cn,sn.scale=pn,sn.attribution=dn;var gn=M.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});gn.addTo=function(t,e){return t.addHandler(e,this),this};var _n,mn={Events:T},yn=St?"touchstart mousedown":"mousedown",vn={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},xn={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},bn=O.extend({options:{clickTolerance:3},initialize:function(t,e,n,i){f(this,i),this._element=t,this._dragStartTarget=e||t,this._preventOutline=n},enable:function(){this._enabled||(De(this._dragStartTarget,yn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(bn._dragging===this&&this.finishDrag(),Fe(this._dragStartTarget,yn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!t._simulated&&this._enabled&&(this._moved=!1,!_e(this._element,"leaflet-zoom-anim")&&!(bn._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||(bn._dragging=this,this._preventOutline&&Ne(this._element),Pe(),ee(),this._moving)))){this.fire("down");var e=t.touches?t.touches[0]:t,n=Oe(this._element);this._startPoint=new A(e.clientX,e.clientY),this._parentScale=Ae(n),De(document,xn[t.type],this._onMove,this),De(document,vn[t.type],this._onUp,this)}},_onMove:function(t){if(!t._simulated&&this._enabled)if(t.touches&&t.touches.length>1)this._moved=!0;else{var e=t.touches&&1===t.touches.length?t.touches[0]:t,n=new A(e.clientX,e.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,He(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=Ie(this._element).subtract(n),me(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),me(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,I(this._animRequest),this._lastEvent=t,this._animRequest=S(this._updatePosition,this,!0)))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),Se(this._element,this._newPos),this.fire("drag",t)},_onUp:function(t){!t._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){for(var t in ye(document.body,"leaflet-dragging"),this._lastTarget&&(ye(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),xn)Fe(document,xn[t],this._onMove,this),Fe(document,vn[t],this._onUp,this);Me(),ne(),this._moved&&this._moving&&(I(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,bn._dragging=!1}});function wn(t,e){if(!e||!t.length)return t.slice();var n=e*e;return t=Sn(t=Ln(t,n),n)}function En(t,e,n){return Math.sqrt(On(t,e,n,!0))}function Cn(t,e,n){return On(t,e,n)}function Sn(t,e){var n=t.length,i=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(n);i[0]=i[n-1]=1,In(t,i,e,0,n-1);var o,r=[];for(o=0;o<n;o++)i[o]&&r.push(t[o]);return r}function In(t,e,n,i,o){var r,s,a,l=0;for(s=i+1;s<=o-1;s++)(a=On(t[s],t[i],t[o],!0))>l&&(r=s,l=a);l>n&&(e[r]=1,In(t,e,n,i,r),In(t,e,n,r,o))}function Ln(t,e){for(var n=[t[0]],i=1,o=0,r=t.length;i<r;i++)Tn(t[i],t[o])>e&&(n.push(t[i]),o=i);return o<r-1&&n.push(t[r-1]),n}function Pn(t,e,n,i,o){var r,s,a,l=i?_n:Nn(t,n),u=Nn(e,n);for(_n=u;;){if(!(l|u))return[t,e];if(l&u)return!1;a=Nn(s=Mn(t,e,r=l||u,n,o),n),r===l?(t=s,l=a):(e=s,u=a)}}function Mn(t,e,n,i,o){var r,s,a=e.x-t.x,l=e.y-t.y,u=i.min,c=i.max;return 8&n?(r=t.x+a*(c.y-t.y)/l,s=c.y):4&n?(r=t.x+a*(u.y-t.y)/l,s=u.y):2&n?(r=c.x,s=t.y+l*(c.x-t.x)/a):1&n&&(r=u.x,s=t.y+l*(u.x-t.x)/a),new A(r,s,o)}function Nn(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n}function Tn(t,e){var n=e.x-t.x,i=e.y-t.y;return n*n+i*i}function On(t,e,n,i){var o,r=e.x,s=e.y,a=n.x-r,l=n.y-s,u=a*a+l*l;return u>0&&((o=((t.x-r)*a+(t.y-s)*l)/u)>1?(r=n.x,s=n.y):o>0&&(r+=a*o,s+=l*o)),a=t.x-r,l=t.y-s,i?a*a+l*l:new A(r,s)}function An(t){return!m(t[0])||"object"!=typeof t[0][0]&&void 0!==t[0][0]}function Rn(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),An(t)}var Dn={simplify:wn,pointToSegmentDistance:En,closestPointOnSegment:Cn,clipSegment:Pn,_getEdgeIntersection:Mn,_getBitCode:Nn,_sqClosestPointOnSegment:On,isFlat:An,_flat:Rn};function kn(t,e,n){var i,o,r,s,a,l,u,c,h,p=[1,4,2,8];for(o=0,u=t.length;o<u;o++)t[o]._code=Nn(t[o],e);for(s=0;s<4;s++){for(c=p[s],i=[],o=0,r=(u=t.length)-1;o<u;r=o++)a=t[o],l=t[r],a._code&c?l._code&c||((h=Mn(l,a,c,e,n))._code=Nn(h,e),i.push(h)):(l._code&c&&((h=Mn(l,a,c,e,n))._code=Nn(h,e),i.push(h)),i.push(a));t=i}return t}var Fn={clipPolygon:kn},zn={project:function(t){return new A(t.lng,t.lat)},unproject:function(t){return new j(t.y,t.x)},bounds:new k([-180,-90],[180,90])},Bn={R:6378137,R_MINOR:6356752.314245179,bounds:new k([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,n=this.R,i=t.lat*e,o=this.R_MINOR/n,r=Math.sqrt(1-o*o),s=r*Math.sin(i),a=Math.tan(Math.PI/4-i/2)/Math.pow((1-s)/(1+s),r/2);return i=-n*Math.log(Math.max(a,1e-10)),new A(t.lng*e*n,i)},unproject:function(t){for(var e,n=180/Math.PI,i=this.R,o=this.R_MINOR/i,r=Math.sqrt(1-o*o),s=Math.exp(-t.y/i),a=Math.PI/2-2*Math.atan(s),l=0,u=.1;l<15&&Math.abs(u)>1e-7;l++)e=r*Math.sin(a),e=Math.pow((1-e)/(1+e),r/2),a+=u=Math.PI/2-2*Math.atan(s*e)-a;return new j(a*n,t.x*n/i)}},jn={LonLat:zn,Mercator:Bn,SphericalMercator:W},Vn=n({},q,{code:"EPSG:3395",projection:Bn,transformation:function(){var t=.5/(Math.PI*Bn.R);return Y(t,.5,-t,.5)}()}),Gn=n({},q,{code:"EPSG:4326",projection:zn,transformation:Y(1/180,1,-1/180,.5)}),Un=n({},U,{projection:zn,transformation:Y(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,i=e.lat-t.lat;return Math.sqrt(n*n+i*i)},infinite:!0});U.Earth=q,U.EPSG3395=Vn,U.EPSG3857=$,U.EPSG900913=K,U.EPSG4326=Gn,U.Simple=Un;var qn=O.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[s(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[s(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var n=this.getEvents();e.on(n,this),this.once("remove",(function(){e.off(n,this)}),this)}this.onAdd(e),this.getAttribution&&e.attributionControl&&e.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),e.fire("layeradd",{layer:this})}}});nn.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=s(t);return this._layers[e]||(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t)),this},removeLayer:function(t){var e=s(t);return this._layers[e]?(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return!!t&&s(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},_addLayers:function(t){for(var e=0,n=(t=t?m(t)?t:[t]:[]).length;e<n;e++)this.addLayer(t[e])},_addZoomLimit:function(t){!isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[s(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=s(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,n=this._getZoomSpan();for(var i in this._zoomBoundLayers){var o=this._zoomBoundLayers[i].options;t=void 0===o.minZoom?t:Math.min(t,o.minZoom),e=void 0===o.maxZoom?e:Math.max(e,o.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Hn=qn.extend({initialize:function(t,e){var n,i;if(f(this,e),this._layers={},t)for(n=0,i=t.length;n<i;n++)this.addLayer(t[n])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return!!t&&("number"==typeof t?t:this.getLayerId(t))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e,n,i=Array.prototype.slice.call(arguments,1);for(e in this._layers)(n=this._layers[e])[t]&&n[t].apply(n,i);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return s(t)}}),Wn=function(t,e){return new Hn(t,e)},Zn=Hn.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Hn.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Hn.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new z;for(var e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}}),Yn=function(t,e){return new Zn(t,e)},Xn=M.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(t){f(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var i=this._createImg(n,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(i,t),i},_setIconStyles:function(t,e){var n=this.options,i=n[e+"Size"];"number"==typeof i&&(i=[i,i]);var o=D(i),r=D("shadow"===e&&n.shadowAnchor||n.iconAnchor||o&&o.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(n.className||""),r&&(t.style.marginLeft=-r.x+"px",t.style.marginTop=-r.y+"px"),o&&(t.style.width=o.x+"px",t.style.height=o.y+"px")},_createImg:function(t,e){return(e=e||document.createElement("img")).src=t,e},_getIconUrl:function(t){return Pt&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function $n(t){return new Xn(t)}var Kn=Xn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return Kn.imagePath||(Kn.imagePath=this._detectIconPath()),(this.options.imagePath||Kn.imagePath)+Xn.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=he("div","leaflet-default-icon-path",document.body),e=ce(t,"background-image")||ce(t,"backgroundImage");return document.body.removeChild(t),e=null===e||0!==e.indexOf("url")?"":e.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),Jn=gn.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new bn(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),me(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ye(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,n=e._map,i=this._marker.options.autoPanSpeed,o=this._marker.options.autoPanPadding,r=Ie(e._icon),s=n.getPixelBounds(),a=n.getPixelOrigin(),l=F(s.min._subtract(a).add(o),s.max._subtract(a).subtract(o));if(!l.contains(r)){var u=D((Math.max(l.max.x,r.x)-l.max.x)/(s.max.x-l.max.x)-(Math.min(l.min.x,r.x)-l.min.x)/(s.min.x-l.min.x),(Math.max(l.max.y,r.y)-l.max.y)/(s.max.y-l.max.y)-(Math.min(l.min.y,r.y)-l.min.y)/(s.min.y-l.min.y)).multiplyBy(i);n.panBy(u,{animate:!1}),this._draggable._newPos._add(u),this._draggable._startPos._add(u),Se(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=S(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(I(this._panRequest),this._panRequest=S(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,n=e._shadow,i=Ie(e._icon),o=e._map.layerPointToLatLng(i);n&&Se(n,i),e._latlng=o,t.latlng=o,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){I(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),Qn=qn.extend({options:{icon:new Kn,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){f(this,e),this._latlng=V(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=V(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=t.icon.createIcon(this._icon),i=!1;n!==this._icon&&(this._icon&&this._removeIcon(),i=!0,t.title&&(n.title=t.title),"IMG"===n.tagName&&(n.alt=t.alt||"")),me(n,e),t.keyboard&&(n.tabIndex="0"),this._icon=n,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var o=t.icon.createShadow(this._shadow),r=!1;o!==this._shadow&&(this._removeShadow(),r=!0),o&&(me(o,e),o.alt=""),this._shadow=o,t.opacity<1&&this._updateOpacity(),i&&this.getPane().appendChild(this._icon),this._initInteraction(),o&&r&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),pe(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&pe(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&Se(this._icon,t),this._shadow&&Se(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(me(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Jn)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Jn(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&be(this._icon,t),this._shadow&&be(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function ti(t,e){return new Qn(t,e)}var ei=qn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return f(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),ni=ei.extend({options:{fill:!0,radius:10},initialize:function(t,e){f(this,e),this._latlng=V(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=V(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return ei.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),i=[t+n,e+n];this._pxBounds=new k(this._point.subtract(i),this._point.add(i))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ii(t,e){return new ni(t,e)}var oi=ni.extend({initialize:function(t,e,i){if("number"==typeof e&&(e=n({},i,{radius:e})),f(this,e),this._latlng=V(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new z(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:ei.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,n=this._map,i=n.options.crs;if(i.distance===q.distance){var o=Math.PI/180,r=this._mRadius/q.R/o,s=n.project([e+r,t]),a=n.project([e-r,t]),l=s.add(a).divideBy(2),u=n.unproject(l).lat,c=Math.acos((Math.cos(r*o)-Math.sin(e*o)*Math.sin(u*o))/(Math.cos(e*o)*Math.cos(u*o)))/o;(isNaN(c)||0===c)&&(c=r/Math.cos(Math.PI/180*e)),this._point=l.subtract(n.getPixelOrigin()),this._radius=isNaN(c)?0:l.x-n.project([u,t-c]).x,this._radiusY=l.y-s.y}else{var h=i.unproject(i.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(h).x}this._updateBounds()}});function ri(t,e,n){return new oi(t,e,n)}var si=ei.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){f(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,n,i=1/0,o=null,r=On,s=0,a=this._parts.length;s<a;s++)for(var l=this._parts[s],u=1,c=l.length;u<c;u++){var h=r(t,e=l[u-1],n=l[u],!0);h<i&&(i=h,o=r(t,e,n))}return o&&(o.distance=Math.sqrt(i)),o},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,i,o,r,s,a=this._rings[0],l=a.length;if(!l)return null;for(t=0,e=0;t<l-1;t++)e+=a[t].distanceTo(a[t+1])/2;if(0===e)return this._map.layerPointToLatLng(a[0]);for(t=0,i=0;t<l-1;t++)if(o=a[t],r=a[t+1],(i+=n=o.distanceTo(r))>e)return s=(i-e)/n,this._map.layerPointToLatLng([r.x-s*(r.x-o.x),r.y-s*(r.y-o.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=V(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new z,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return An(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],n=An(t),i=0,o=t.length;i<o;i++)n?(e[i]=V(t[i]),this._bounds.extend(e[i])):e[i]=this._convertLatLngs(t[i]);return e},_project:function(){var t=new k;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new A(t,t);this._pxBounds=new k([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)])},_projectLatlngs:function(t,e,n){var i,o,r=t[0]instanceof j,s=t.length;if(r){for(o=[],i=0;i<s;i++)o[i]=this._map.latLngToLayerPoint(t[i]),n.extend(o[i]);e.push(o)}else for(i=0;i<s;i++)this._projectLatlngs(t[i],e,n)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else{var e,n,i,o,r,s,a,l=this._parts;for(e=0,i=0,o=this._rings.length;e<o;e++)for(n=0,r=(a=this._rings[e]).length;n<r-1;n++)(s=Pn(a[n],a[n+1],t,n,!0))&&(l[i]=l[i]||[],l[i].push(s[0]),s[1]===a[n+1]&&n!==r-2||(l[i].push(s[1]),i++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,n=0,i=t.length;n<i;n++)t[n]=wn(t[n],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var n,i,o,r,s,a,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(n=0,r=this._parts.length;n<r;n++)for(i=0,o=(s=(a=this._parts[n]).length)-1;i<s;o=i++)if((e||0!==i)&&En(t,a[o],a[i])<=l)return!0;return!1}});function ai(t,e){return new si(t,e)}si._flat=Rn;var li=si.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,i,o,r,s,a,l,u=this._rings[0],c=u.length;if(!c)return null;for(r=s=a=0,t=0,e=c-1;t<c;e=t++)n=u[t],i=u[e],o=n.y*i.x-i.y*n.x,s+=(n.x+i.x)*o,a+=(n.y+i.y)*o,r+=3*o;return l=0===r?u[0]:[s/r,a/r],this._map.layerPointToLatLng(l)},_convertLatLngs:function(t){var e=si.prototype._convertLatLngs.call(this,t),n=e.length;return n>=2&&e[0]instanceof j&&e[0].equals(e[n-1])&&e.pop(),e},_setLatLngs:function(t){si.prototype._setLatLngs.call(this,t),An(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return An(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,n=new A(e,e);if(t=new k(t.min.subtract(n),t.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var i,o=0,r=this._rings.length;o<r;o++)(i=kn(this._rings[o],t,!0)).length&&this._parts.push(i)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,n,i,o,r,s,a,l,u=!1;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(o=0,a=this._parts.length;o<a;o++)for(r=0,s=(l=(e=this._parts[o]).length)-1;r<l;s=r++)n=e[r],i=e[s],n.y>t.y!=i.y>t.y&&t.x<(i.x-n.x)*(t.y-n.y)/(i.y-n.y)+n.x&&(u=!u);return u||si.prototype._containsPoint.call(this,t,!0)}});function ui(t,e){return new li(t,e)}var ci=Zn.extend({initialize:function(t,e){f(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,i,o=m(t)?t:t.features;if(o){for(e=0,n=o.length;e<n;e++)((i=o[e]).geometries||i.geometry||i.features||i.coordinates)&&this.addData(i);return this}var r=this.options;if(r.filter&&!r.filter(t))return this;var s=hi(t,r);return s?(s.feature=yi(t),s.defaultOptions=s.options,this.resetStyle(s),r.onEachFeature&&r.onEachFeature(t,s),this.addLayer(s)):this},resetStyle:function(t){return void 0===t?this.eachLayer(this.resetStyle,this):(t.options=n({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer((function(e){this._setLayerStyle(e,t)}),this)},_setLayerStyle:function(t,e){t.setStyle&&("function"==typeof e&&(e=e(t.feature)),t.setStyle(e))}});function hi(t,e){var n,i,o,r,s="Feature"===t.type?t.geometry:t,a=s?s.coordinates:null,l=[],u=e&&e.pointToLayer,c=e&&e.coordsToLatLng||fi;if(!a&&!s)return null;switch(s.type){case"Point":return pi(u,t,n=c(a),e);case"MultiPoint":for(o=0,r=a.length;o<r;o++)n=c(a[o]),l.push(pi(u,t,n,e));return new Zn(l);case"LineString":case"MultiLineString":return i=di(a,"LineString"===s.type?0:1,c),new si(i,e);case"Polygon":case"MultiPolygon":return i=di(a,"Polygon"===s.type?1:2,c),new li(i,e);case"GeometryCollection":for(o=0,r=s.geometries.length;o<r;o++){var h=hi({geometry:s.geometries[o],type:"Feature",properties:t.properties},e);h&&l.push(h)}return new Zn(l);default:throw new Error("Invalid GeoJSON object.")}}function pi(t,e,n,i){return t?t(e,n):new Qn(n,i&&i.markersInheritOptions&&i)}function fi(t){return new j(t[1],t[0],t[2])}function di(t,e,n){for(var i,o=[],r=0,s=t.length;r<s;r++)i=e?di(t[r],e-1,n):(n||fi)(t[r]),o.push(i);return o}function gi(t,e){return e="number"==typeof e?e:6,void 0!==t.alt?[c(t.lng,e),c(t.lat,e),c(t.alt,e)]:[c(t.lng,e),c(t.lat,e)]}function _i(t,e,n,i){for(var o=[],r=0,s=t.length;r<s;r++)o.push(e?_i(t[r],e-1,n,i):gi(t[r],i));return!e&&n&&o.push(o[0]),o}function mi(t,e){return t.feature?n({},t.feature,{geometry:e}):yi(e)}function yi(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}var vi={toGeoJSON:function(t){return mi(this,{type:"Point",coordinates:gi(this.getLatLng(),t)})}};function xi(t,e){return new ci(t,e)}Qn.include(vi),oi.include(vi),ni.include(vi),si.include({toGeoJSON:function(t){var e=!An(this._latlngs);return mi(this,{type:(e?"Multi":"")+"LineString",coordinates:_i(this._latlngs,e?1:0,!1,t)})}}),li.include({toGeoJSON:function(t){var e=!An(this._latlngs),n=e&&!An(this._latlngs[0]),i=_i(this._latlngs,n?2:e?1:0,!0,t);return e||(i=[i]),mi(this,{type:(n?"Multi":"")+"Polygon",coordinates:i})}}),Hn.include({toMultiPoint:function(t){var e=[];return this.eachLayer((function(n){e.push(n.toGeoJSON(t).geometry.coordinates)})),mi(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint(t);var n="GeometryCollection"===e,i=[];return this.eachLayer((function(e){if(e.toGeoJSON){var o=e.toGeoJSON(t);if(n)i.push(o.geometry);else{var r=yi(o);"FeatureCollection"===r.type?i.push.apply(i,r.features):i.push(r)}}})),n?mi(this,{geometries:i,type:"GeometryCollection"}):{type:"FeatureCollection",features:i}}});var bi=xi,wi=qn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,n){this._url=t,this._bounds=B(e),f(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(me(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){pe(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&de(this._image),this},bringToBack:function(){return this._map&&ge(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=B(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,e=this._image=t?this._url:he("img");me(e,"leaflet-image-layer"),this._zoomAnimated&&me(e,"leaflet-zoom-animated"),this.options.className&&me(e,this.options.className),e.onselectstart=u,e.onmousemove=u,e.onload=o(this.fire,this,"load"),e.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(e.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t?this._url=e.src:(e.src=this._url,e.alt=this.options.alt)},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;Ce(this._image,n,e)},_reset:function(){var t=this._image,e=new k(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=e.getSize();Se(t,e.min),t.style.width=n.x+"px",t.style.height=n.y+"px"},_updateOpacity:function(){be(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)}}),Ei=function(t,e,n){return new wi(t,e,n)},Ci=wi.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:he("video");if(me(e,"leaflet-image-layer"),this._zoomAnimated&&me(e,"leaflet-zoom-animated"),this.options.className&&me(e,this.options.className),e.onselectstart=u,e.onmousemove=u,e.onloadeddata=o(this.fire,this,"load"),t){for(var n=e.getElementsByTagName("source"),i=[],r=0;r<n.length;r++)i.push(n[r].src);this._url=n.length>0?i:[e.src]}else{m(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(e.style,"objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop,e.muted=!!this.options.muted;for(var s=0;s<this._url.length;s++){var a=he("source");a.src=this._url[s],e.appendChild(a)}}}});function Si(t,e,n){return new Ci(t,e,n)}var Ii=wi.extend({_initImage:function(){var t=this._image=this._url;me(t,"leaflet-image-layer"),this._zoomAnimated&&me(t,"leaflet-zoom-animated"),this.options.className&&me(t,this.options.className),t.onselectstart=u,t.onmousemove=u}});function Li(t,e,n){return new Ii(t,e,n)}var Pi=qn.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(t,e){f(this,t),this._source=e},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&be(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&be(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(be(this._container,0),this._removeTimeout=setTimeout(o(pe,void 0,this._container),200)):pe(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=V(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&de(this._container),this},bringToBack:function(){return this._map&&ge(this._container),this},_prepareOpen:function(t,e,n){if(e instanceof qn||(n=e,e=t),e instanceof Zn)for(var i in t._layers){e=t._layers[i];break}if(!n)if(e.getCenter)n=e.getCenter();else{if(!e.getLatLng)throw new Error("Unable to get source layer LatLng.");n=e.getLatLng()}return this._source=e,this.update(),n},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=D(this.options.offset),n=this._getAnchor();this._zoomAnimated?Se(this._container,t.add(n)):e=e.add(t).add(n);var i=this._containerBottom=-e.y,o=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=i+"px",this._container.style.left=o+"px"}},_getAnchor:function(){return[0,0]}}),Mi=Pi.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){Pi.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ei||this._source.on("preclick",Ge))},onRemove:function(t){Pi.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ei||this._source.off("preclick",Ge))},getEvents:function(){var t=Pi.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",e=this._container=he("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=he("div",t+"-content-wrapper",e);if(this._contentNode=he("div",t+"-content",n),qe(e),Ue(this._contentNode),De(e,"contextmenu",Ge),this._tipContainer=he("div",t+"-tip-container",e),this._tip=he("div",t+"-tip",this._tipContainer),this.options.closeButton){var i=this._closeButton=he("a",t+"-close-button",e);i.href="#close",i.innerHTML="&#215;",De(i,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var i=t.offsetHeight,o=this.options.maxHeight,r="leaflet-popup-scrolled";o&&i>o?(e.height=o+"px",me(t,r)):ye(t,r),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();Se(this._container,e.add(n))},_adjustPan:function(){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var t=this._map,e=parseInt(ce(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+e,i=this._containerWidth,o=new A(this._containerLeft,-n-this._containerBottom);o._add(Ie(this._container));var r=t.layerPointToContainerPoint(o),s=D(this.options.autoPanPadding),a=D(this.options.autoPanPaddingTopLeft||s),l=D(this.options.autoPanPaddingBottomRight||s),u=t.getSize(),c=0,h=0;r.x+i+l.x>u.x&&(c=r.x+i-u.x+l.x),r.x-c-a.x<0&&(c=r.x-a.x),r.y+n+l.y>u.y&&(h=r.y+n-u.y+l.y),r.y-h-a.y<0&&(h=r.y-a.y),(c||h)&&t.fire("autopanstart").panBy([c,h])}},_onCloseButtonClick:function(t){this._close(),We(t)},_getAnchor:function(){return D(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Ni=function(t,e){return new Mi(t,e)};nn.mergeOptions({closePopupOnClick:!0}),nn.include({openPopup:function(t,e,n){return t instanceof Mi||(t=new Mi(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),qn.include({bindPopup:function(t,e){return t instanceof Mi?(f(t,e),this._popup=t,t._source=this):(this._popup&&!e||(this._popup=new Mi(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,e){return this._popup&&this._map&&(e=this._popup._prepareOpen(this,t,e),this._map.openPopup(this._popup,e)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;this._popup&&this._map&&(We(t),e instanceof ei?this.openPopup(t.layer||t.target,t.latlng):this._map.hasLayer(this._popup)&&this._popup._source===e?this.closePopup():this.openPopup(e,t.latlng))},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var Ti=Pi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){Pi.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(t){Pi.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var t=Pi.prototype.getEvents.call(this);return St&&!this.options.permanent&&(t.preclick=this._close),t},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=he("div",t)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e,n,i=this._map,o=this._container,r=i.latLngToContainerPoint(i.getCenter()),s=i.layerPointToContainerPoint(t),a=this.options.direction,l=o.offsetWidth,u=o.offsetHeight,c=D(this.options.offset),h=this._getAnchor();"top"===a?(e=l/2,n=u):"bottom"===a?(e=l/2,n=0):"center"===a?(e=l/2,n=u/2):"right"===a?(e=0,n=u/2):"left"===a?(e=l,n=u/2):s.x<r.x?(a="right",e=0,n=u/2):(a="left",e=l+2*(c.x+h.x),n=u/2),t=t.subtract(D(e,n,!0)).add(c).add(h),ye(o,"leaflet-tooltip-right"),ye(o,"leaflet-tooltip-left"),ye(o,"leaflet-tooltip-top"),ye(o,"leaflet-tooltip-bottom"),me(o,"leaflet-tooltip-"+a),Se(o,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&be(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return D(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Oi=function(t,e){return new Ti(t,e)};nn.include({openTooltip:function(t,e,n){return t instanceof Ti||(t=new Ti(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),qn.include({bindTooltip:function(t,e){return t instanceof Ti?(f(t,e),this._tooltip=t,t._source=this):(this._tooltip&&!e||(this._tooltip=new Ti(e,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),St&&(n.click=this._openTooltip)),this[e](n),this._tooltipHandlersAdded=!t}},openTooltip:function(t,e){return this._tooltip&&this._map&&(e=this._tooltip._prepareOpen(this,t,e),this._map.openTooltip(this._tooltip,e),this._tooltip.options.interactive&&this._tooltip._container&&(me(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(ye(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var e=t.layer||t.target;this._tooltip&&this._map&&this.openTooltip(e,this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var e,n,i=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),n=this._map.containerPointToLayerPoint(e),i=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(i)}});var Ai=Xn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:document.createElement("div"),n=this.options;if(n.html instanceof Element?(fe(e),e.appendChild(n.html)):e.innerHTML=!1!==n.html?n.html:"",n.bgPos){var i=D(n.bgPos);e.style.backgroundPosition=-i.x+"px "+-i.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});function Ri(t){return new Ai(t)}Xn.Default=Kn;var Di=qn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:xt,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){f(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),pe(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(de(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ge(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=a(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof A?t:new A(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,n=this.getPane().children,i=-t(-1/0,1/0),o=0,r=n.length;o<r;o++)e=n[o].style.zIndex,n[o]!==this._container&&e&&(i=t(i,+e));isFinite(i)&&(this.options.zIndex=i+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!nt){be(this._container,this.options.opacity);var t=+new Date,e=!1,n=!1;for(var i in this._tiles){var o=this._tiles[i];if(o.current&&o.loaded){var r=Math.min(1,(t-o.loaded)/200);be(o.el,r),r<1?e=!0:(o.active?n=!0:this._onOpaqueTile(o),o.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),e&&(I(this._fadeFrame),this._fadeFrame=S(this._updateOpacity,this))}},_onOpaqueTile:u,_initContainer:function(){this._container||(this._container=he("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===t?(this._levels[n].el.style.zIndex=e-Math.abs(t-n),this._onUpdateLevel(n)):(pe(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var i=this._levels[t],o=this._map;return i||((i=this._levels[t]={}).el=he("div","leaflet-tile-container leaflet-zoom-animated",this._container),i.el.style.zIndex=e,i.origin=o.project(o.unproject(o.getPixelOrigin()),t).round(),i.zoom=t,this._setZoomTransform(i,o.getCenter(),o.getZoom()),u(i.el.offsetWidth),this._onCreateLevel(i)),this._level=i,i}},_onUpdateLevel:u,_onRemoveLevel:u,_onCreateLevel:u,_pruneTiles:function(){if(this._map){var t,e,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(e=this._tiles[t]).retain=e.current;for(t in this._tiles)if((e=this._tiles[t]).current&&!e.active){var i=e.coords;this._retainParent(i.x,i.y,i.z,i.z-5)||this._retainChildren(i.x,i.y,i.z,i.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)pe(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,n,i){var o=Math.floor(t/2),r=Math.floor(e/2),s=n-1,a=new A(+o,+r);a.z=+s;var l=this._tileCoordsToKey(a),u=this._tiles[l];return u&&u.active?(u.retain=!0,!0):(u&&u.loaded&&(u.retain=!0),s>i&&this._retainParent(o,r,s,i))},_retainChildren:function(t,e,n,i){for(var o=2*t;o<2*t+2;o++)for(var r=2*e;r<2*e+2;r++){var s=new A(o,r);s.z=n+1;var a=this._tileCoordsToKey(s),l=this._tiles[a];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),n+1<i&&this._retainChildren(o,r,n+1,i))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,n,i){var o=Math.round(e);o=void 0!==this.options.maxZoom&&o>this.options.maxZoom||void 0!==this.options.minZoom&&o<this.options.minZoom?void 0:this._clampZoom(o);var r=this.options.updateWhenZooming&&o!==this._tileZoom;i&&!r||(this._tileZoom=o,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==o&&this._update(t),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var n in this._levels)this._setZoomTransform(this._levels[n],t,e)},_setZoomTransform:function(t,e,n){var i=this._map.getZoomScale(n,t.zoom),o=t.origin.multiplyBy(i).subtract(this._map._getNewPixelOrigin(e,n)).round();vt?Ce(t.el,o,i):Se(t.el,o)},_resetGrid:function(){var t=this._map,e=t.options.crs,n=this._tileSize=this.getTileSize(),i=this._tileZoom,o=this._map.getPixelWorldBounds(this._tileZoom);o&&(this._globalTileRange=this._pxBoundsToTileRange(o)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],i).x/n.x),Math.ceil(t.project([0,e.wrapLng[1]],i).x/n.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],i).y/n.x),Math.ceil(t.project([e.wrapLat[1],0],i).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,n=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),i=e.getZoomScale(n,this._tileZoom),o=e.project(t,this._tileZoom).floor(),r=e.getSize().divideBy(2*i);return new k(o.subtract(r),o.add(r))},_update:function(t){var e=this._map;if(e){var n=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var i=this._getTiledPixelBounds(t),o=this._pxBoundsToTileRange(i),r=o.getCenter(),s=[],a=this.options.keepBuffer,l=new k(o.getBottomLeft().subtract([a,-a]),o.getTopRight().add([a,-a]));if(!(isFinite(o.min.x)&&isFinite(o.min.y)&&isFinite(o.max.x)&&isFinite(o.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var u in this._tiles){var c=this._tiles[u].coords;c.z===this._tileZoom&&l.contains(new A(c.x,c.y))||(this._tiles[u].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(t,n);else{for(var h=o.min.y;h<=o.max.y;h++)for(var p=o.min.x;p<=o.max.x;p++){var f=new A(p,h);if(f.z=this._tileZoom,this._isValidTile(f)){var d=this._tiles[this._tileCoordsToKey(f)];d?d.current=!0:s.push(f)}}if(s.sort((function(t,e){return t.distanceTo(r)-e.distanceTo(r)})),0!==s.length){this._loading||(this._loading=!0,this.fire("loading"));var g=document.createDocumentFragment();for(p=0;p<s.length;p++)this._addTile(s[p],g);this._level.el.appendChild(g)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y))return!1}if(!this.options.bounds)return!0;var i=this._tileCoordsToBounds(t);return B(this.options.bounds).overlaps(i)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,n=this.getTileSize(),i=t.scaleBy(n),o=i.add(n);return[e.unproject(i,t.z),e.unproject(o,t.z)]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),n=new z(e[0],e[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),n=new A(+e[0],+e[1]);return n.z=+e[2],n},_removeTile:function(t){var e=this._tiles[t];e&&(pe(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){me(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=u,t.onmousemove=u,nt&&this.options.opacity<1&&be(t,this.options.opacity),rt&&!st&&(t.style.WebkitBackfaceVisibility="hidden")},_addTile:function(t,e){var n=this._getTilePos(t),i=this._tileCoordsToKey(t),r=this.createTile(this._wrapCoords(t),o(this._tileReady,this,t));this._initTile(r),this.createTile.length<2&&S(o(this._tileReady,this,t,null,r)),Se(r,n),this._tiles[i]={el:r,coords:t,current:!0},e.appendChild(r),this.fire("tileloadstart",{tile:r,coords:t})},_tileReady:function(t,e,n){e&&this.fire("tileerror",{error:e,tile:n,coords:t});var i=this._tileCoordsToKey(t);(n=this._tiles[i])&&(n.loaded=+new Date,this._map._fadeAnimated?(be(n.el,0),I(this._fadeFrame),this._fadeFrame=S(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),e||(me(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),nt||!this._map._fadeAnimated?S(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new A(this._wrapX?l(t.x,this._wrapX):t.x,this._wrapY?l(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new k(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function ki(t){return new Di(t)}var Fi=Di.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,e){this._url=t,(e=f(this,e)).detectRetina&&Pt&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom++):(e.zoomOffset++,e.maxZoom--),e.minZoom=Math.max(0,e.minZoom)),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),rt||this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&void 0===e&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var n=document.createElement("img");return De(n,"load",o(this._tileOnLoad,this,e,n)),De(n,"error",o(this._tileOnError,this,e,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),n.alt="",n.setAttribute("role","presentation"),n.src=this.getTileUrl(t),n},getTileUrl:function(t){var e={r:Pt?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var i=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=i),e["-y"]=i}return _(this._url,n(e,this.options))},_tileOnLoad:function(t,e){nt?setTimeout(o(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,n){var i=this.options.errorTileUrl;i&&e.getAttribute("src")!==i&&(e.src=i),t(n,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom;return this.options.zoomReverse&&(t=e-t),t+this.options.zoomOffset},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&((e=this._tiles[t].el).onload=u,e.onerror=u,e.complete||(e.src=v,pe(e),delete this._tiles[t]))},_removeTile:function(t){var e=this._tiles[t];if(e)return lt||e.el.setAttribute("src",v),Di.prototype._removeTile.call(this,t)},_tileReady:function(t,e,n){if(this._map&&(!n||n.getAttribute("src")!==v))return Di.prototype._tileReady.call(this,t,e,n)}});function zi(t,e){return new Fi(t,e)}var Bi=Fi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var i=n({},this.defaultWmsParams);for(var o in e)o in this.options||(i[o]=e[o]);var r=(e=f(this,e)).detectRetina&&Pt?2:1,s=this.getTileSize();i.width=s.x*r,i.height=s.y*r,this.wmsParams=i},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,Fi.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),n=this._crs,i=F(n.project(e[0]),n.project(e[1])),o=i.min,r=i.max,s=(this._wmsVersion>=1.3&&this._crs===Gn?[o.y,o.x,r.y,r.x]:[o.x,o.y,r.x,r.y]).join(","),a=Fi.prototype.getTileUrl.call(this,t);return a+d(this.wmsParams,a,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+s},setParams:function(t,e){return n(this.wmsParams,t),e||this.redraw(),this}});function ji(t,e){return new Bi(t,e)}Fi.WMS=Bi,zi.wms=ji;var Vi=qn.extend({options:{padding:.1,tolerance:0},initialize:function(t){f(this,t),s(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&me(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),i=Ie(this._container),o=this._map.getSize().multiplyBy(.5+this.options.padding),r=this._map.project(this._center,e),s=this._map.project(t,e).subtract(r),a=o.multiplyBy(-n).add(i).add(o).subtract(s);vt?Ce(this._container,a,n):Se(this._container,a)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),n=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new k(n,n.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Gi=Vi.extend({getEvents:function(){var t=Vi.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Vi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");De(t,"mousemove",this._onMouseMove,this),De(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),De(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_destroyContainer:function(){I(this._redrawRequest),delete this._ctx,pe(this._container),Fe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var t in this._redrawBounds=null,this._layers)this._layers[t]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){Vi.prototype._update.call(this);var t=this._bounds,e=this._container,n=t.getSize(),i=Pt?2:1;Se(e,t.min),e.width=i*n.x,e.height=i*n.y,e.style.width=n.x+"px",e.style.height=n.y+"px",Pt&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){Vi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[s(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,n=e.next,i=e.prev;n?n.prev=i:this._drawLast=i,i?i.next=n:this._drawFirst=n,delete t._order,delete this._layers[s(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if("string"==typeof t.options.dashArray){var e,n,i=t.options.dashArray.split(/[, ]+/),o=[];for(n=0;n<i.length;n++){if(e=Number(i[n]),isNaN(e))return;o.push(e)}t.options._dashArray=o}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||S(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new k,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var n=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var i=this._drawFirst;i;i=i.next)t=i.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var n,i,o,r,s=t._parts,a=s.length,l=this._ctx;if(a){for(l.beginPath(),n=0;n<a;n++){for(i=0,o=s[n].length;i<o;i++)r=s[n][i],l[i?"lineTo":"moveTo"](r.x,r.y);e&&l.closePath()}this._fillStroke(l,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,n=this._ctx,i=Math.max(Math.round(t._radius),1),o=(Math.max(Math.round(t._radiusY),1)||i)/i;1!==o&&(n.save(),n.scale(1,o)),n.beginPath(),n.arc(e.x,e.y/o,i,0,2*Math.PI,!1),1!==o&&n.restore(),this._fillStroke(n,t)}},_fillStroke:function(t,e){var n=e.options;n.fill&&(t.globalAlpha=n.fillOpacity,t.fillStyle=n.fillColor||n.color,t.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=n.opacity,t.lineWidth=n.weight,t.strokeStyle=n.color,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.stroke())},_onClick:function(t){for(var e,n,i=this._map.mouseEventToLayerPoint(t),o=this._drawFirst;o;o=o.next)(e=o.layer).options.interactive&&e._containsPoint(i)&&("click"!==t.type&&"preclick"===t.type||!this._map._draggableMoved(e))&&(n=e);n&&(Ke(t),this._fireEvent([n],t))},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(ye(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var n,i,r=this._drawFirst;r;r=r.next)(n=r.layer).options.interactive&&n._containsPoint(e)&&(i=n);i!==this._hoveredLayer&&(this._handleMouseOut(t),i&&(me(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseover"),this._hoveredLayer=i)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t),this._mouseHoverThrottled=!0,setTimeout(o((function(){this._mouseHoverThrottled=!1}),this),32)}},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var n=e.next,i=e.prev;n&&(n.prev=i,i?i.next=n:n&&(this._drawFirst=n),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t))}},_bringToBack:function(t){var e=t._order;if(e){var n=e.next,i=e.prev;i&&(i.next=n,n?n.prev=i:i&&(this._drawLast=i),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}}});function Ui(t){return Nt?new Gi(t):null}var qi=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),Hi={_initContainer:function(){this._container=he("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Vi.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=qi("shape");me(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=qi("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[s(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;pe(e),t.removeInteractiveTarget(e),delete this._layers[s(t)]},_updateStyle:function(t){var e=t._stroke,n=t._fill,i=t.options,o=t._container;o.stroked=!!i.stroke,o.filled=!!i.fill,i.stroke?(e||(e=t._stroke=qi("stroke")),o.appendChild(e),e.weight=i.weight+"px",e.color=i.color,e.opacity=i.opacity,i.dashArray?e.dashStyle=m(i.dashArray)?i.dashArray.join(" "):i.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=i.lineCap.replace("butt","flat"),e.joinstyle=i.lineJoin):e&&(o.removeChild(e),t._stroke=null),i.fill?(n||(n=t._fill=qi("fill")),o.appendChild(n),n.color=i.fillColor||i.color,n.opacity=i.fillOpacity):n&&(o.removeChild(n),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),n=Math.round(t._radius),i=Math.round(t._radiusY||n);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+n+","+i+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){de(t._container)},_bringToBack:function(t){ge(t._container)}},Wi=Ot?qi:J,Zi=Vi.extend({getEvents:function(){var t=Vi.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=Wi("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Wi("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){pe(this._container),Fe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){Vi.prototype._update.call(this);var t=this._bounds,e=t.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,n.setAttribute("width",e.x),n.setAttribute("height",e.y)),Se(n,t.min),n.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=Wi("path");t.options.className&&me(e,t.options.className),t.options.interactive&&me(e,"leaflet-interactive"),this._updateStyle(t),this._layers[s(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){pe(t._path),t.removeInteractiveTarget(t._path),delete this._layers[s(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,n=t.options;e&&(n.stroke?(e.setAttribute("stroke",n.color),e.setAttribute("stroke-opacity",n.opacity),e.setAttribute("stroke-width",n.weight),e.setAttribute("stroke-linecap",n.lineCap),e.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?e.setAttribute("stroke-dasharray",n.dashArray):e.removeAttribute("stroke-dasharray"),n.dashOffset?e.setAttribute("stroke-dashoffset",n.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),n.fill?(e.setAttribute("fill",n.fillColor||n.color),e.setAttribute("fill-opacity",n.fillOpacity),e.setAttribute("fill-rule",n.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,Q(t._parts,e))},_updateCircle:function(t){var e=t._point,n=Math.max(Math.round(t._radius),1),i="a"+n+","+(Math.max(Math.round(t._radiusY),1)||n)+" 0 1,0 ",o=t._empty()?"M0 0":"M"+(e.x-n)+","+e.y+i+2*n+",0 "+i+2*-n+",0 ";this._setPath(t,o)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){de(t._path)},_bringToBack:function(t){ge(t._path)}});function Yi(t){return Tt||Ot?new Zi(t):null}Ot&&Zi.include(Hi),nn.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&Ui(t)||Yi(t)}});var Xi=li.extend({initialize:function(t,e){li.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=B(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function $i(t,e){return new Xi(t,e)}Zi.create=Wi,Zi.pointsToPath=Q,ci.geometryToLayer=hi,ci.coordsToLatLng=fi,ci.coordsToLatLngs=di,ci.latLngToCoords=gi,ci.latLngsToCoords=_i,ci.getFeature=mi,ci.asFeature=yi,nn.mergeOptions({boxZoom:!0});var Ki=gn.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){De(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Fe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){pe(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),ee(),Pe(),this._startPoint=this._map.mouseEventToContainerPoint(t),De(document,{contextmenu:We,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=he("div","leaflet-zoom-box",this._container),me(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new k(this._point,this._startPoint),n=e.getSize();Se(this._box,e.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(pe(this._box),ye(this._container,"leaflet-crosshair")),ne(),Me(),Fe(document,{contextmenu:We,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var e=new z(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}});nn.addInitHook("addHandler","boxZoom",Ki),nn.mergeOptions({doubleClickZoom:!0});var Ji=gn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom(),i=e.options.zoomDelta,o=t.originalEvent.shiftKey?n-i:n+i;"center"===e.options.doubleClickZoom?e.setZoom(o):e.setZoomAround(t.containerPoint,o)}});nn.addInitHook("addHandler","doubleClickZoom",Ji),nn.mergeOptions({dragging:!0,inertia:!st,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Qi=gn.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new bn(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}me(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ye(this._map._container,"leaflet-grab"),ye(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=B(this._map.options.maxBounds);this._offsetLimit=F(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,i=this._draggable._newPos.x,o=(i-e+n)%t+e-n,r=(i+e+n)%t-e-n,s=Math.abs(o+n)<Math.abs(r+n)?o:r;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=s},_onDragEnd:function(t){var e=this._map,n=e.options,i=!n.inertia||this._times.length<2;if(e.fire("dragend",t),i)e.fire("moveend");else{this._prunePositions(+new Date);var o=this._lastPos.subtract(this._positions[0]),r=(this._lastTime-this._times[0])/1e3,s=n.easeLinearity,a=o.multiplyBy(s/r),l=a.distanceTo([0,0]),u=Math.min(n.inertiaMaxSpeed,l),c=a.multiplyBy(u/l),h=u/(n.inertiaDeceleration*s),p=c.multiplyBy(-h/2).round();p.x||p.y?(p=e._limitOffset(p,e.options.maxBounds),S((function(){e.panBy(p,{duration:h,easeLinearity:s,noMoveStart:!0,animate:!0})}))):e.fire("moveend")}}});nn.addInitHook("addHandler","dragging",Qi),nn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var to=gn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),De(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Fe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,n=t.scrollTop||e.scrollTop,i=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(i,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,n,i=this._panKeys={},o=this.keyCodes;for(e=0,n=o.left.length;e<n;e++)i[o.left[e]]=[-1*t,0];for(e=0,n=o.right.length;e<n;e++)i[o.right[e]]=[t,0];for(e=0,n=o.down.length;e<n;e++)i[o.down[e]]=[0,t];for(e=0,n=o.up.length;e<n;e++)i[o.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,n,i=this._zoomKeys={},o=this.keyCodes;for(e=0,n=o.zoomIn.length;e<n;e++)i[o.zoomIn[e]]=t;for(e=0,n=o.zoomOut.length;e<n;e++)i[o.zoomOut[e]]=-t},_addHooks:function(){De(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Fe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,n=t.keyCode,i=this._map;if(n in this._panKeys)i._panAnim&&i._panAnim._inProgress||(e=this._panKeys[n],t.shiftKey&&(e=D(e).multiplyBy(3)),i.panBy(e),i.options.maxBounds&&i.panInsideBounds(i.options.maxBounds));else if(n in this._zoomKeys)i.setZoom(i.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!i._popup||!i._popup.options.closeOnEscapeKey)return;i.closePopup()}We(t)}}});nn.addInitHook("addHandler","keyboard",to),nn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var eo=gn.extend({addHooks:function(){De(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Fe(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=Xe(t),n=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var i=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),i),We(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),n=this._map.options.zoomSnap||0;t._stop();var i=this._delta/(4*this._map.options.wheelPxPerZoomLevel),o=4*Math.log(2/(1+Math.exp(-Math.abs(i))))/Math.LN2,r=n?Math.ceil(o/n)*n:o,s=t._limitZoom(e+(this._delta>0?r:-r))-e;this._delta=0,this._startTime=null,s&&("center"===t.options.scrollWheelZoom?t.setZoom(e+s):t.setZoomAround(this._lastMousePos,e+s))}});nn.addInitHook("addHandler","scrollWheelZoom",eo),nn.mergeOptions({tap:!0,tapTolerance:15});var no=gn.extend({addHooks:function(){De(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Fe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(He(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var e=t.touches[0],n=e.target;this._startPos=this._newPos=new A(e.clientX,e.clientY),n.tagName&&"a"===n.tagName.toLowerCase()&&me(n,"leaflet-active"),this._holdTimeout=setTimeout(o((function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))}),this),1e3),this._simulateEvent("mousedown",e),De(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),Fe(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],n=e.target;n&&n.tagName&&"a"===n.tagName.toLowerCase()&&ye(n,"leaflet-active"),this._simulateEvent("mouseup",e),this._isTapValid()&&this._simulateEvent("click",e)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new A(e.clientX,e.clientY),this._simulateEvent("mousemove",e)},_simulateEvent:function(t,e){var n=document.createEvent("MouseEvents");n._simulated=!0,e.target._simulatedClick=!0,n.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(n)}});!St||Ct&&!pt||nn.addInitHook("addHandler","tap",no),nn.mergeOptions({touchZoom:St&&!st,bounceAtZoomLimits:!0});var io=gn.extend({addHooks:function(){me(this._map._container,"leaflet-touch-zoom"),De(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ye(this._map._container,"leaflet-touch-zoom"),Fe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(n.add(i)._divideBy(2))),this._startDist=n.distanceTo(i),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),De(document,"touchmove",this._onTouchMove,this),De(document,"touchend",this._onTouchEnd,this),He(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]),r=n.distanceTo(i)/this._startDist;if(this._zoom=e.getScaleZoom(r,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&r<1||this._zoom>e.getMaxZoom()&&r>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===r)return}else{var s=n._add(i)._divideBy(2)._subtract(this._centerPoint);if(1===r&&0===s.x&&0===s.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(s),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),I(this._animRequest);var a=o(e._move,e,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=S(a,this,!0),He(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,I(this._animRequest),Fe(document,"touchmove",this._onTouchMove,this),Fe(document,"touchend",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});nn.addInitHook("addHandler","touchZoom",io),nn.BoxZoom=Ki,nn.DoubleClickZoom=Ji,nn.Drag=Qi,nn.Keyboard=to,nn.ScrollWheelZoom=eo,nn.Tap=no,nn.TouchZoom=io,t.version=e,t.Control=rn,t.control=sn,t.Browser=Rt,t.Evented=O,t.Mixin=mn,t.Util=P,t.Class=M,t.Handler=gn,t.extend=n,t.bind=o,t.stamp=s,t.setOptions=f,t.DomEvent=tn,t.DomUtil=Re,t.PosAnimation=en,t.Draggable=bn,t.LineUtil=Dn,t.PolyUtil=Fn,t.Point=A,t.point=D,t.Bounds=k,t.bounds=F,t.Transformation=Z,t.transformation=Y,t.Projection=jn,t.LatLng=j,t.latLng=V,t.LatLngBounds=z,t.latLngBounds=B,t.CRS=U,t.GeoJSON=ci,t.geoJSON=xi,t.geoJson=bi,t.Layer=qn,t.LayerGroup=Hn,t.layerGroup=Wn,t.FeatureGroup=Zn,t.featureGroup=Yn,t.ImageOverlay=wi,t.imageOverlay=Ei,t.VideoOverlay=Ci,t.videoOverlay=Si,t.SVGOverlay=Ii,t.svgOverlay=Li,t.DivOverlay=Pi,t.Popup=Mi,t.popup=Ni,t.Tooltip=Ti,t.tooltip=Oi,t.Icon=Xn,t.icon=$n,t.DivIcon=Ai,t.divIcon=Ri,t.Marker=Qn,t.marker=ti,t.TileLayer=Fi,t.tileLayer=zi,t.GridLayer=Di,t.gridLayer=ki,t.SVG=Zi,t.svg=Yi,t.Renderer=Vi,t.Canvas=Gi,t.canvas=Ui,t.Path=ei,t.CircleMarker=ni,t.circleMarker=ii,t.Circle=oi,t.circle=ri,t.Polyline=si,t.polyline=ai,t.Polygon=li,t.polygon=ui,t.Rectangle=Xi,t.rectangle=$i,t.Map=nn,t.map=on;var oo=window.L;t.noConflict=function(){return window.L=oo,this},window.L=t}(Tl.exports);var Ol=Tl.exports,Al=Object.freeze(Object.assign(Object.create(null),Tl.exports,{[Symbol.toStringTag]:"Module",default:Ol}));const Rl=(t,e)=>{let n;return function(...i){const o=this;n&&clearTimeout(n),n=setTimeout((()=>{t.apply(o,i),n=null}),e)}},Dl=(t,e,n)=>{for(const o in n){const r="set"+((i=o)&&"function"==typeof i.charAt?i.charAt(0).toUpperCase()+i.slice(1):i);t[r]?vr((()=>n[o]),((e,n)=>{t[r](e,n)})):e[r]&&vr((()=>n[o]),(t=>{e[r](t)}))}var i},kl=t=>{const e={};for(const n in t)if(n.startsWith("on")&&!n.startsWith("onUpdate")&&"onReady"!==n){e[n.slice(2).toLocaleLowerCase()]=t[n]}return e},Fl=t=>{const e=Oe((()=>console.warn(`Method ${t} has been invoked without being replaced`))),n=(...t)=>e.value(...t);return n.wrapped=e,fn(t,n),n},zl=(t,e)=>t.wrapped.value=e,Bl="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||void 0,jl={options:{type:Object,default:()=>({})}},Vl=t=>({options:t.options,methods:{}}),Gl=l(a({},jl),{pane:{type:String,default:"overlayPane"},attribution:{type:String,default:null},name:{type:String,custom:!0,default:void 0},layerType:{type:String,custom:!0,default:void 0},visible:{type:Boolean,custom:!0,default:!0}}),Ul=(t,e,n)=>{const i=dn("addLayer"),o=dn("removeLayer"),{options:r,methods:s}=Vl(t),u=l(a({},r),{attribution:t.attribution,pane:t.pane}),c=()=>i({leafletObject:e.value}),h=()=>o({leafletObject:e.value}),p=l(a({},s),{setAttribution(t,e){this.$parent.leafletObject.attributionControl.removeAttribution(e).addAttribution(t)},setName(){h(),t.visible&&c()},setLayerType(){h(),t.visible&&c()},setVisible(t){e.value&&(t?c():h())},bindPopup({leafletObject:t}){e.value.bindPopup(t)},bindTooltip({leafletObject:t}){e.value.bindTooltip(t)},unbindTooltip(){const t=e.value?e.value.getTooltip():null;t&&t.unbindTooltip()},unbindPopup(){const t=e.value?e.value.getPopup():null;t&&t.unbindPopup()},updateVisibleProp(t){n.emit("update:visible",t)}});return fn("bindPopup",p.bindPopup),fn("bindTooltip",p.bindTooltip),fn("unbindTooltip",p.unbindTooltip),fn("unbindPopup",p.unbindPopup),Un((()=>{p.unbindPopup(),p.unbindTooltip(),h()})),{options:u,methods:p}},ql=(t,e)=>{if(t&&e.default)return Ir("div",{style:{display:"none"}},e.default())},Hl=a({},Gl),Wl=l(a({},Hl),{geojson:{type:[Object,Array],default:()=>({})}}),Zl=(t,e)=>{const{options:n,methods:i}=((t,e,n)=>{const{options:i,methods:o}=Ul(t,e,n),r=a({},i),s=l(a({},o),{addLayer(t){e.value.addLayer(t.leafletObject)},removeLayer(t){e.value.removeLayer(t.leafletObject)}});return fn("addLayer",s.addLayer),fn("removeLayer",s.removeLayer),{options:r,methods:s}})(t,e);return{options:a(a({},n),t),methods:l(a({},i),{setGeojson(t){e.value.clearLayers(),e.value.addData(t)},getGeoJSONData:()=>e.value.toGeoJSON(),getBounds:()=>e.value.getBounds()})}};var Yl={props:Wl,setup(t,e){const n=Oe({}),i=Oe(!1),o=dn("useGlobalLeaflet"),r=dn("addLayer"),{methods:s,options:u}=Zl(t,n);return Bn((async()=>{const{geoJSON:c,DomEvent:h}=o?Bl.L:await import("./leaflet-src.esm.291dd8ba.js");n.value=c(t.geojson,u);const p=kl(e.attrs);h.on(n.value,p),Dl(s,n.value,t),r(l(a(a({},t),s),{leafletObject:n.value})),i.value=!0,lr((()=>e.emit("ready",n.value)))})),{ready:i,leafletObject:n}},render(){return ql(this.ready,this.$slots)},__file:"src/components/LGeoJson.vue"};const Xl=l(a({},Gl),{pane:{type:String,default:"tilePane"},opacity:{type:Number,custom:!1,default:1},zIndex:{type:Number,default:1},tileSize:{type:Number,default:256},noWrap:{type:Boolean,default:!1},minZoom:{type:Number,default:0},maxZoom:{type:Number,default:void 0}});var $l={name:"LIcon",props:a(a({},{iconUrl:{type:String,custom:!0,default:null},iconRetinaUrl:{type:String,custom:!0,default:null},iconSize:{type:[Object,Array],custom:!0,default:null},iconAnchor:{type:[Object,Array],custom:!0,default:null},popupAnchor:{type:[Object,Array],custom:!0,default:()=>[0,0]},tooltipAnchor:{type:[Object,Array],custom:!0,default:()=>[0,0]},shadowUrl:{type:String,custom:!0,default:null},shadowRetinaUrl:{type:String,custom:!0,default:null},shadowSize:{type:[Object,Array],custom:!0,default:null},shadowAnchor:{type:[Object,Array],custom:!0,default:null},bgPos:{type:[Object,Array],custom:!0,default:()=>[0,0]},className:{type:String,custom:!0,default:""},options:{type:Object,custom:!0,default:()=>({})}}),jl),setup(t,e){const n=Oe(null),i=dn("useGlobalLeaflet"),o=dn("canSetParentHtml"),r=dn("setParentHtml"),s=dn("setIcon");let u,c,h,p,f;const d=(n,i,d)=>{const g=n&&n.innerHTML;if(!i)return void(d&&f&&o()&&r(g));const _=kl(e.attrs);f&&c(f,_);const{options:m}=Vl(t),y=l(a({},m),{iconUrl:t.iconUrl,iconRetinaUrl:t.iconRetinaUrl,iconSize:t.iconSize,iconAnchor:t.iconAnchor,popupAnchor:t.popupAnchor,tooltipAnchor:t.tooltipAnchor,shadowUrl:t.shadowUrl,shadowRetinaUrl:t.shadowRetinaUrl,shadowSize:t.shadowSize,shadowAnchor:t.shadowAnchor,bgPos:t.bgPos,className:t.className,html:g||t.html});f=y.html?h(y):p(y),u(f,_),s(f)},g=()=>{lr((()=>d(n.value,!0,!1)))},_=()=>{lr((()=>d(n.value,!1,!0)))},m={setIconUrl:g,setIconRetinaUrl:g,setIconSize:g,setIconAnchor:g,setPopupAnchor:g,setTooltipAnchor:g,setShadowUrl:g,setShadowRetinaUrl:g,setShadowAnchor:g,setBgPos:g,setClassName:g,setHtml:g};return Bn((async()=>{const{DomEvent:e,divIcon:o,icon:r}=i?Bl.L:await import("./leaflet-src.esm.291dd8ba.js");u=e.on,c=e.off,h=o,p=r,Dl(m,{},t);new MutationObserver(_).observe(n.value,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),g()})),{root:n}},render(){return Ir("div",{ref:"root"},this.$slots.default?this.$slots.default():void 0)},__file:"src/components/LIcon.vue"},Kl={emits:["ready","update:zoom","update:center","update:bounds"],props:l(a({},jl),{center:{type:[Object,Array],default:()=>[0,0]},bounds:{type:[Array,Object],default:void 0},maxBounds:{type:[Array,Object],default:void 0},zoom:{type:Number,default:0},minZoom:{type:Number,default:void 0},maxZoom:{type:Number,default:void 0},paddingBottomRight:{type:Array,default:void 0},paddingTopLeft:{type:Array,default:void 0},padding:{type:Array,default:void 0},worldCopyJump:{type:Boolean,default:!1},crs:{type:[String,Object],default:"EPSG3857"},maxBoundsViscosity:{type:Number,default:void 0},inertia:{type:Boolean,default:void 0},inertiaDeceleration:{type:Number,default:void 0},inertiaMaxSpeed:{type:Number,default:void 0},easeLinearity:{type:Number,default:void 0},zoomAnimation:{type:Boolean,default:void 0},zoomAnimationThreshold:{type:Number,default:void 0},fadeAnimation:{type:Boolean,default:void 0},markerZoomAnimation:{type:Boolean,default:void 0},noBlockingAnimations:{type:Boolean,default:!1},useGlobalLeaflet:{type:Boolean,default:!1}}),setup(t,e){const n=Oe(null),i=ve({ready:!1,leafletRef:{},layersToAdd:[],layersInControl:[]}),{options:o}=Vl(t),r=l(a({},o),{minZoom:t.minZoom,maxZoom:t.maxZoom,maxBounds:t.maxBounds,maxBoundsViscosity:t.maxBoundsViscosity,worldCopyJump:t.worldCopyJump,crs:t.crs,center:t.center,zoom:t.zoom,inertia:t.inertia,inertiaDeceleration:t.inertiaDeceleration,inertiaMaxSpeed:t.inertiaMaxSpeed,easeLinearity:t.easeLinearity,zoomAnimation:t.zoomAnimation,zoomAnimationThreshold:t.zoomAnimationThreshold,fadeAnimation:t.fadeAnimation,markerZoomAnimation:t.markerZoomAnimation}),s=Fl("addLayer"),u=Fl("removeLayer"),c=Fl("registerControl"),h=Fl("registerLayerControl");fn("useGlobalLeaflet",t.useGlobalLeaflet);const p={moveEndHandler(){e.emit("update:zoom",i.leafletRef.getZoom()),e.emit("update:center",i.leafletRef.getCenter()),e.emit("update:bounds",i.leafletRef.getBounds())},overlayAddHandler(t){const e=i.layersInControl.find((e=>e.name===t.name));e&&e.updateVisibleProp(!0)},overlayRemoveHandler(t){const e=i.layersInControl.find((e=>e.name===t.name));e&&e.updateVisibleProp(!1)}};Bn((async()=>{t.useGlobalLeaflet&&(Bl.L=Bl.L||await Promise.resolve().then((function(){return Al})));const{map:o,CRS:a,Icon:l,latLngBounds:f,latLng:d,DomEvent:g}=t.useGlobalLeaflet?Bl.L:await import("./leaflet-src.esm.291dd8ba.js");try{r.beforeMapMount&&await r.beforeMapMount()}catch(v){console.error(`The following error occurred running the provided beforeMapMount hook ${v.message}`)}await(async t=>{const e=await Promise.all([import("./marker-icon-2x.17982e67.js"),import("./marker-icon.c1a4cbf5.js"),import("./marker-shadow.91c47cf3.js")]);delete t.Default.prototype._getIconUrl,t.Default.mergeOptions({iconRetinaUrl:e[0].default,iconUrl:e[1].default,shadowUrl:e[2].default})})(l);const _="string"==typeof r.crs?a[r.crs]:r.crs;r.crs=_||a.EPSG3857;const m={addLayer(t){if(void 0!==t.layerType)if(void 0===i.layerControl)i.layersToAdd.push(t);else{i.layersInControl.find((e=>e.leafletObject._leaflet_id===t.leafletObject._leaflet_id))||(i.layerControl.addLayer(t),i.layersInControl.push(t))}!1!==t.visible&&i.leafletRef.addLayer(t.leafletObject)},removeLayer(t){void 0!==t.layerType&&(void 0===i.layerControl?i.layersToAdd=i.layersToAdd.filter((e=>e.name!==t.name)):(i.layerControl.removeLayer(t.leafletObject),i.layersInControl=i.layersInControl.filter((e=>e.leafletObject._leaflet_id!==t.leafletObject._leaflet_id)))),i.leafletRef.removeLayer(t.leafletObject)},registerLayerControl(t){i.layerControl=t,i.layersToAdd.forEach((t=>{i.layerControl.addLayer(t)})),i.layersToAdd=[],c(t)},registerControl(t){i.leafletRef.addControl(t.leafletObject)},setZoom(e){e!==i.leafletRef.getZoom()&&i.leafletRef.setZoom(e,{animate:!t.noBlockingAnimations&&null})},setPaddingBottomRight(t){i.paddingBottomRight=t},setPaddingTopLeft(t){i.paddingTopLeft=t},setPadding(t){i.padding=t},setCrs(t){const e=i.leafletRef.getBounds();i.leafletRef.options.crs=t,i.leafletRef.fitBounds(e,{animate:!1,padding:[0,0]})},fitBounds(t){i.leafletRef.fitBounds(t,{animate:!this.noBlockingAnimations&&null})},setBounds(t){if(!t)return;const e=f(t);if(!e.isValid())return;!(i.lastSetBounds||i.leafletRef.getBounds()).equals(e,0)&&(i.lastSetBounds=e,i.leafletRef.fitBounds(e,this.fitBoundsOptions))},setCenter(t){if(null==t)return;const e=d(t),n=i.lastSetCenter||i.leafletRef.getCenter();n.lat===e.lat&&n.lng===e.lng||(i.lastSetCenter=e,i.leafletRef.panTo(e,{animate:!this.noBlockingAnimations&&null}))}};zl(s,m.addLayer),zl(u,m.removeLayer),zl(c,m.registerControl),zl(h,m.registerLayerControl),i.leafletRef=o(n.value,r),Dl(m,i.leafletRef,t);const y=kl(e.attrs);i.leafletRef.on("moveend",Rl(p.moveEndHandler,100)),i.leafletRef.on("overlayadd",p.overlayAddHandler),i.leafletRef.on("overlayremove",p.overlayRemoveHandler),g.on(i.leafletRef,y),i.ready=!0,lr((()=>e.emit("ready",i.leafletRef)))})),Gn((()=>{i.leafletRef&&i.leafletRef.remove()}));const f=Ue((()=>i.leafletRef)),d=Ue((()=>i.ready));return{root:n,ready:d,leafletObject:f}},render(){return Ir("div",{style:{width:"100%",height:"100%"},ref:"root"},this.ready?this.$slots.default():{})},__file:"src/components/LMap.vue"};const Jl=l(a({},Gl),{pane:{type:String,default:"markerPane"},draggable:{type:Boolean,custom:!0,default:!1},latLng:{type:[Object,Array],custom:!0,default:null},icon:{type:[Object],default:()=>{},custom:!1},zIndexOffset:{type:Number,custom:!1,default:null}});var Ql={name:"LMarker",props:Jl,setup(t,e){const n=Oe({}),i=Oe(!1),o=dn("useGlobalLeaflet"),r=dn("addLayer");fn("canSetParentHtml",(()=>!!n.value.getElement())),fn("setParentHtml",(t=>n.value.getElement().innerHTML=t)),fn("setIcon",(t=>n.value.setIcon&&n.value.setIcon(t)));const{options:s,methods:u}=((t,e,n)=>{const{options:i,methods:o}=Ul(t,e,n);return{options:a(a({},i),t),methods:l(a({},o),{setDraggable(t){e.value.dragging&&(t?e.value.dragging.enable():e.value.dragging.disable())},latLngSync(t){n.emit("update:latLng",t.latlng),n.emit("update:lat-lng",t.latlng)},setLatLng(t){if(null!=t&&e.value){const n=e.value.getLatLng();n&&n.equals(t)||e.value.setLatLng(t)}}})}})(t,n,e);return void 0===s.icon&&delete s.icon,Bn((async()=>{const{marker:c,DomEvent:h}=o?Bl.L:await import("./leaflet-src.esm.291dd8ba.js");n.value=c(t.latLng,s);const p=kl(e.attrs);h.on(n.value,p),n.value.on("move",Rl(u.latLngSync,100)),Dl(u,n.value,t),r(l(a(a({},t),u),{leafletObject:n.value})),i.value=!0,lr((()=>e.emit("ready",n.value)))})),{ready:i,leafletObject:n}},render(){return ql(this.ready,this.$slots)},__file:"src/components/LMarker.vue"};const tu=l(a({},Xl),{tms:{type:Boolean,default:!1},subdomains:{type:String,default:"abc"},detectRetina:{type:Boolean,default:!1},url:{type:String,default:null}}),eu=(t,e)=>{const{options:n,methods:i}=((t,e,n)=>{const{options:i,methods:o}=Ul(t,e,n);return{options:l(a({},i),{pane:t.pane,opacity:t.opacity,zIndex:t.zIndex,tileSize:t.tileSize,noWrap:t.noWrap,minZoom:t.minZoom,maxZoom:t.maxZoom}),methods:a({},o)}})(t,e);return{options:l(a({},n),{tms:t.tms,subdomains:t.subdomains,detectRetina:t.detectRetina}),methods:a({},i)}};var nu={props:tu,setup(t,e){const n=Oe({}),i=dn("useGlobalLeaflet"),o=dn("addLayer"),{options:r,methods:s}=eu(t,n);return Bn((async()=>{const{tileLayer:u,DomEvent:c}=i?Bl.L:await import("./leaflet-src.esm.291dd8ba.js");n.value=u(t.url,r);const h=kl(e.attrs);c.on(n.value,h),Dl(s,n.value,t),o(l(a(a({},t),s),{leafletObject:n.value})),lr((()=>e.emit("ready",n.value)))})),{leafletObject:n}},render:()=>null,__file:"src/components/LTileLayer.vue"};l(a({},tu),{baseUrl:{type:String,default:null,required:!0},layers:{type:String,default:""},styles:{type:String,default:""},format:{type:String,default:"image/jpeg"},transparent:{type:Boolean,custom:!1},version:{type:String,default:"1.1.1"},crs:{default:null},upperCase:{type:Boolean,default:!1}});var iu={centimeters:637100880,centimetres:637100880,degrees:6371008.8/111325,feet:20902260.511392,inches:6371008.8*39.37,kilometers:6371.0088,kilometres:6371.0088,meters:6371008.8,metres:6371008.8,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:6371008.8/1852,radians:1,yards:6371008.8*1.0936};function ou(t,e,n){void 0===n&&(n={});var i={type:"Feature"};return(0===n.id||n.id)&&(i.id=n.id),n.bbox&&(i.bbox=n.bbox),i.properties=e||{},i.geometry=t,i}function ru(t,e,n){if(void 0===n&&(n={}),!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!pu(t[0])||!pu(t[1]))throw new Error("coordinates must contain numbers");return ou({type:"Point",coordinates:t},e,n)}function su(t,e,n){if(void 0===n&&(n={}),t.length<2)throw new Error("coordinates must be an array of two or more positions");return ou({type:"LineString",coordinates:t},e,n)}function au(t,e){void 0===e&&(e={});var n={type:"FeatureCollection"};return e.id&&(n.id=e.id),e.bbox&&(n.bbox=e.bbox),n.features=t,n}function lu(t,e){void 0===e&&(e="kilometers");var n=iu[e];if(!n)throw new Error(e+" units is invalid");return t*n}function uu(t,e){void 0===e&&(e="kilometers");var n=iu[e];if(!n)throw new Error(e+" units is invalid");return t/n}function cu(t){return 180*(t%(2*Math.PI))/Math.PI}function hu(t){return t%360*Math.PI/180}function pu(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}function fu(t,e,n){if(null!==t)for(var i,o,r,s,a,l,u,c,h=0,p=0,f=t.type,d="FeatureCollection"===f,g="Feature"===f,_=d?t.features.length:1,m=0;m<_;m++){a=(c=!!(u=d?t.features[m].geometry:g?t.geometry:t)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var y=0;y<a;y++){var v=0,x=0;if(null!==(s=c?u.geometries[y]:u)){l=s.coordinates;var b=s.type;switch(h=!n||"Polygon"!==b&&"MultiPolygon"!==b?0:1,b){case null:break;case"Point":if(!1===e(l,p,m,v,x))return!1;p++,v++;break;case"LineString":case"MultiPoint":for(i=0;i<l.length;i++){if(!1===e(l[i],p,m,v,x))return!1;p++,"MultiPoint"===b&&v++}"LineString"===b&&v++;break;case"Polygon":case"MultiLineString":for(i=0;i<l.length;i++){for(o=0;o<l[i].length-h;o++){if(!1===e(l[i][o],p,m,v,x))return!1;p++}"MultiLineString"===b&&v++,"Polygon"===b&&x++}"Polygon"===b&&v++;break;case"MultiPolygon":for(i=0;i<l.length;i++){for(x=0,o=0;o<l[i].length;o++){for(r=0;r<l[i][o].length-h;r++){if(!1===e(l[i][o][r],p,m,v,x))return!1;p++}x++}v++}break;case"GeometryCollection":for(i=0;i<s.geometries.length;i++)if(!1===fu(s.geometries[i],e,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function du(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var n=0;n<t.features.length&&!1!==e(t.features[n],n);n++);}function gu(t,e){var n,i,o,r,s,a,l,u,c,h,p=0,f="FeatureCollection"===t.type,d="Feature"===t.type,g=f?t.features.length:1;for(n=0;n<g;n++){for(a=f?t.features[n].geometry:d?t.geometry:t,u=f?t.features[n].properties:d?t.properties:{},c=f?t.features[n].bbox:d?t.bbox:void 0,h=f?t.features[n].id:d?t.id:void 0,s=(l=!!a&&"GeometryCollection"===a.type)?a.geometries.length:1,o=0;o<s;o++)if(null!==(r=l?a.geometries[o]:a))switch(r.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===e(r,p,u,c,h))return!1;break;case"GeometryCollection":for(i=0;i<r.geometries.length;i++)if(!1===e(r.geometries[i],p,u,c,h))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===e(null,p,u,c,h))return!1;p++}}function _u(t,e){gu(t,(function(t,n,i,o,r){var s,a=null===t?null:t.type;switch(a){case null:case"Point":case"LineString":case"Polygon":return!1!==e(ou(t,i,{bbox:o,id:r}),n,0)&&void 0}switch(a){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var l=0;l<t.coordinates.length;l++){var u=t.coordinates[l];if(!1===e(ou({type:s,coordinates:u},i),n,l))return!1}}))}function mu(t,e,n){var i=n,o=!1;return function(t,e){_u(t,(function(t,n,i){var o=0;if(t.geometry){var r=t.geometry.type;if("Point"!==r&&"MultiPoint"!==r){var s,a=0,l=0,u=0;return!1!==fu(t,(function(r,c,h,p,f){if(void 0===s||n>a||p>l||f>u)return s=r,a=n,l=p,u=f,void(o=0);var d=su([s,r],t.properties);if(!1===e(d,n,i,f,o))return!1;o++,s=r}))&&void 0}}}))}(t,(function(t,r,s,a,l){i=!1===o&&void 0===n?t:e(i,t,r,s,a,l),o=!0})),i}function yu(t){var e=[1/0,1/0,-1/0,-1/0];return fu(t,(function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])})),e}function vu(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if("Feature"===t.type&&null!==t.geometry&&"Point"===t.geometry.type)return t.geometry.coordinates;if("Point"===t.type)return t.coordinates}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return t;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function xu(t){if(Array.isArray(t))return t;if("Feature"===t.type){if(null!==t.geometry)return t.geometry.coordinates}else if(t.coordinates)return t.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function bu(t){return"Feature"===t.type?t.geometry:t}function wu(t,e,n){if(void 0===n&&(n={}),!t)throw new Error("point is required");if(!e)throw new Error("polygon is required");var i=vu(t),o=bu(e),r=o.type,s=e.bbox,a=o.coordinates;if(s&&!1===function(t,e){return e[0]<=t[0]&&e[1]<=t[1]&&e[2]>=t[0]&&e[3]>=t[1]}(i,s))return!1;"Polygon"===r&&(a=[a]);for(var l=!1,u=0;u<a.length&&!l;u++)if(Eu(i,a[u][0],n.ignoreBoundary)){for(var c=!1,h=1;h<a[u].length&&!c;)Eu(i,a[u][h],!n.ignoreBoundary)&&(c=!0),h++;c||(l=!0)}return l}function Eu(t,e,n){var i=!1;e[0][0]===e[e.length-1][0]&&e[0][1]===e[e.length-1][1]&&(e=e.slice(0,e.length-1));for(var o=0,r=e.length-1;o<e.length;r=o++){var s=e[o][0],a=e[o][1],l=e[r][0],u=e[r][1];if(t[1]*(s-l)+a*(l-t[0])+u*(t[0]-s)==0&&(s-t[0])*(l-t[0])<=0&&(a-t[1])*(u-t[1])<=0)return!n;a>t[1]!=u>t[1]&&t[0]<(l-s)*(t[1]-a)/(u-a)+s&&(i=!i)}return i}function Cu(t,e,n){void 0===n&&(n={});var i=vu(t),o=vu(e),r=hu(o[1]-i[1]),s=hu(o[0]-i[0]),a=hu(i[1]),l=hu(o[1]),u=Math.pow(Math.sin(r/2),2)+Math.pow(Math.sin(s/2),2)*Math.cos(a)*Math.cos(l);return lu(2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u)),n.units)}function Su(t,e,n,i){void 0===i&&(i={});var o=vu(t),r=hu(o[0]),s=hu(o[1]),a=hu(n),l=uu(e,i.units),u=Math.asin(Math.sin(s)*Math.cos(l)+Math.cos(s)*Math.sin(l)*Math.cos(a));return ru([cu(r+Math.atan2(Math.sin(a)*Math.sin(l)*Math.cos(s),Math.cos(l)-Math.sin(s)*Math.sin(u))),cu(u)],i.properties)}function Iu(t,e,n){if(void 0===n&&(n={}),!0===n.final)return function(t,e){var n=Iu(e,t);return n=(n+180)%360}(t,e);var i=vu(t),o=vu(e),r=hu(i[0]),s=hu(o[0]),a=hu(i[1]),l=hu(o[1]),u=Math.sin(s-r)*Math.cos(l),c=Math.cos(a)*Math.sin(l)-Math.sin(a)*Math.cos(l)*Math.cos(s-r);return cu(Math.atan2(u,c))}function Lu(t,e){void 0===e&&(e={});var n=yu(t);return ru([(n[0]+n[2])/2,(n[1]+n[3])/2],e.properties,e)}function Pu(t){if(!t)throw new Error("geojson is required");var e=[];return _u(t,(function(t){!function(t,e){var n=[],i=t.geometry;if(null!==i){switch(i.type){case"Polygon":n=xu(i);break;case"LineString":n=[xu(i)]}n.forEach((function(n){(function(t,e){var n=[];return t.reduce((function(t,i){var o,r,s,a,l,u,c=su([t,i],e);return c.bbox=(r=i,s=(o=t)[0],a=o[1],l=r[0],u=r[1],[s<l?s:l,a<u?a:u,s>l?s:l,a>u?a:u]),n.push(c),i})),n})(n,t.properties).forEach((function(t){t.id=e.length,e.push(t)}))}))}}(t,e)})),au(e)}yu.default=yu;var Mu={exports:{}};function Nu(t,e,n,i,o){Tu(t,e,n||0,i||t.length-1,o||Au)}function Tu(t,e,n,i,o){for(;i>n;){if(i-n>600){var r=i-n+1,s=e-n+1,a=Math.log(r),l=.5*Math.exp(2*a/3),u=.5*Math.sqrt(a*l*(r-l)/r)*(s-r/2<0?-1:1);Tu(t,e,Math.max(n,Math.floor(e-s*l/r+u)),Math.min(i,Math.floor(e+(r-s)*l/r+u)),o)}var c=t[e],h=n,p=i;for(Ou(t,n,e),o(t[i],c)>0&&Ou(t,n,i);h<p;){for(Ou(t,h,p),h++,p--;o(t[h],c)<0;)h++;for(;o(t[p],c)>0;)p--}0===o(t[n],c)?Ou(t,n,p):Ou(t,++p,i),p<=e&&(n=p+1),e<=p&&(i=p-1)}}function Ou(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function Au(t,e){return t<e?-1:t>e?1:0}function Ru(t,e,n){if(!n)return e.indexOf(t);for(let i=0;i<e.length;i++)if(n(t,e[i]))return i;return-1}function Du(t,e){ku(t,0,t.children.length,e,t)}function ku(t,e,n,i,o){o||(o=Hu(null)),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(let r=e;r<n;r++){const e=t.children[r];Fu(o,t.leaf?i(e):e)}return o}function Fu(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function zu(t,e){return t.minX-e.minX}function Bu(t,e){return t.minY-e.minY}function ju(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function Vu(t){return t.maxX-t.minX+(t.maxY-t.minY)}function Gu(t,e){const n=Math.max(t.minX,e.minX),i=Math.max(t.minY,e.minY),o=Math.min(t.maxX,e.maxX),r=Math.min(t.maxY,e.maxY);return Math.max(0,o-n)*Math.max(0,r-i)}function Uu(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function qu(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function Hu(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Wu(t,e,n,i,o){const r=[e,n];for(;r.length;){if((n=r.pop())-(e=r.pop())<=i)continue;const s=e+Math.ceil((n-e)/i/2)*i;Nu(t,s,e,n,o),r.push(e,s,s,n)}}var Zu=Nl(Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:class{constructor(t=9){this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()}all(){return this._all(this.data,[])}search(t){let e=this.data;const n=[];if(!qu(t,e))return n;const i=this.toBBox,o=[];for(;e;){for(let r=0;r<e.children.length;r++){const s=e.children[r],a=e.leaf?i(s):s;qu(t,a)&&(e.leaf?n.push(s):Uu(t,a)?this._all(s,n):o.push(s))}e=o.pop()}return n}collides(t){let e=this.data;if(!qu(t,e))return!1;const n=[];for(;e;){for(let i=0;i<e.children.length;i++){const o=e.children[i],r=e.leaf?this.toBBox(o):o;if(qu(t,r)){if(e.leaf||Uu(t,r))return!0;n.push(o)}}e=n.pop()}return!1}load(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(let e=0;e<t.length;e++)this.insert(t[e]);return this}let e=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===e.height)this._splitRoot(this.data,e);else{if(this.data.height<e.height){const t=this.data;this.data=e,e=t}this._insert(e,this.data.height-e.height-1,!0)}else this.data=e;return this}insert(t){return t&&this._insert(t,this.data.height-1),this}clear(){return this.data=Hu([]),this}remove(t,e){if(!t)return this;let n=this.data;const i=this.toBBox(t),o=[],r=[];let s,a,l;for(;n||o.length;){if(n||(n=o.pop(),a=o[o.length-1],s=r.pop(),l=!0),n.leaf){const i=Ru(t,n.children,e);if(-1!==i)return n.children.splice(i,1),o.push(n),this._condense(o),this}l||n.leaf||!Uu(n,i)?a?(s++,n=a.children[s],l=!1):n=null:(o.push(n),r.push(s),s=0,a=n,n=n.children[0])}return this}toBBox(t){return t}compareMinX(t,e){return t.minX-e.minX}compareMinY(t,e){return t.minY-e.minY}toJSON(){return this.data}fromJSON(t){return this.data=t,this}_all(t,e){const n=[];for(;t;)t.leaf?e.push(...t.children):n.push(...t.children),t=n.pop();return e}_build(t,e,n,i){const o=n-e+1;let r,s=this._maxEntries;if(o<=s)return r=Hu(t.slice(e,n+1)),Du(r,this.toBBox),r;i||(i=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,i-1))),r=Hu([]),r.leaf=!1,r.height=i;const a=Math.ceil(o/s),l=a*Math.ceil(Math.sqrt(s));Wu(t,e,n,l,this.compareMinX);for(let u=e;u<=n;u+=l){const e=Math.min(u+l-1,n);Wu(t,u,e,a,this.compareMinY);for(let n=u;n<=e;n+=a){const o=Math.min(n+a-1,e);r.children.push(this._build(t,n,o,i-1))}}return Du(r,this.toBBox),r}_chooseSubtree(t,e,n,i){for(;i.push(e),!e.leaf&&i.length-1!==n;){let n,i=1/0,s=1/0;for(let a=0;a<e.children.length;a++){const l=e.children[a],u=ju(l),c=(o=t,r=l,(Math.max(r.maxX,o.maxX)-Math.min(r.minX,o.minX))*(Math.max(r.maxY,o.maxY)-Math.min(r.minY,o.minY))-u);c<s?(s=c,i=u<i?u:i,n=l):c===s&&u<i&&(i=u,n=l)}e=n||e.children[0]}var o,r;return e}_insert(t,e,n){const i=n?t:this.toBBox(t),o=[],r=this._chooseSubtree(i,this.data,e,o);for(r.children.push(t),Fu(r,i);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(i,o,e)}_split(t,e){const n=t[e],i=n.children.length,o=this._minEntries;this._chooseSplitAxis(n,o,i);const r=this._chooseSplitIndex(n,o,i),s=Hu(n.children.splice(r,n.children.length-r));s.height=n.height,s.leaf=n.leaf,Du(n,this.toBBox),Du(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(n,s)}_splitRoot(t,e){this.data=Hu([t,e]),this.data.height=t.height+1,this.data.leaf=!1,Du(this.data,this.toBBox)}_chooseSplitIndex(t,e,n){let i,o=1/0,r=1/0;for(let s=e;s<=n-e;s++){const e=ku(t,0,s,this.toBBox),a=ku(t,s,n,this.toBBox),l=Gu(e,a),u=ju(e)+ju(a);l<o?(o=l,i=s,r=u<r?u:r):l===o&&u<r&&(r=u,i=s)}return i||n-e}_chooseSplitAxis(t,e,n){const i=t.leaf?this.compareMinX:zu,o=t.leaf?this.compareMinY:Bu;this._allDistMargin(t,e,n,i)<this._allDistMargin(t,e,n,o)&&t.children.sort(i)}_allDistMargin(t,e,n,i){t.children.sort(i);const o=this.toBBox,r=ku(t,0,e,o),s=ku(t,n-e,n,o);let a=Vu(r)+Vu(s);for(let l=e;l<n-e;l++){const e=t.children[l];Fu(r,t.leaf?o(e):e),a+=Vu(r)}for(let l=n-e-1;l>=e;l--){const e=t.children[l];Fu(s,t.leaf?o(e):e),a+=Vu(s)}return a}_adjustParentBBoxes(t,e,n){for(let i=n;i>=0;i--)Fu(e[i],t)}_condense(t){for(let e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children,e.splice(e.indexOf(t[n]),1)):this.clear():Du(t[n],this.toBBox)}}})),Yu={};!function(t){function e(t,e,n){void 0===n&&(n={});var i={type:"Feature"};return(0===n.id||n.id)&&(i.id=n.id),n.bbox&&(i.bbox=n.bbox),i.properties=e||{},i.geometry=t,i}function n(t,n,i){if(void 0===i&&(i={}),!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!p(t[0])||!p(t[1]))throw new Error("coordinates must contain numbers");return e({type:"Point",coordinates:t},n,i)}function i(t,n,i){void 0===i&&(i={});for(var o=0,r=t;o<r.length;o++){var s=r[o];if(s.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<s[s.length-1].length;a++)if(s[s.length-1][a]!==s[0][a])throw new Error("First and last Position are not equivalent.")}return e({type:"Polygon",coordinates:t},n,i)}function o(t,n,i){if(void 0===i&&(i={}),t.length<2)throw new Error("coordinates must be an array of two or more positions");return e({type:"LineString",coordinates:t},n,i)}function r(t,e){void 0===e&&(e={});var n={type:"FeatureCollection"};return e.id&&(n.id=e.id),e.bbox&&(n.bbox=e.bbox),n.features=t,n}function s(t,n,i){return void 0===i&&(i={}),e({type:"MultiLineString",coordinates:t},n,i)}function a(t,n,i){return void 0===i&&(i={}),e({type:"MultiPoint",coordinates:t},n,i)}function l(t,n,i){return void 0===i&&(i={}),e({type:"MultiPolygon",coordinates:t},n,i)}function u(e,n){void 0===n&&(n="kilometers");var i=t.factors[n];if(!i)throw new Error(n+" units is invalid");return e*i}function c(e,n){void 0===n&&(n="kilometers");var i=t.factors[n];if(!i)throw new Error(n+" units is invalid");return e/i}function h(t){return 180*(t%(2*Math.PI))/Math.PI}function p(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.earthRadius=6371008.8,t.factors={centimeters:100*t.earthRadius,centimetres:100*t.earthRadius,degrees:t.earthRadius/111325,feet:3.28084*t.earthRadius,inches:39.37*t.earthRadius,kilometers:t.earthRadius/1e3,kilometres:t.earthRadius/1e3,meters:t.earthRadius,metres:t.earthRadius,miles:t.earthRadius/1609.344,millimeters:1e3*t.earthRadius,millimetres:1e3*t.earthRadius,nauticalmiles:t.earthRadius/1852,radians:1,yards:1.0936*t.earthRadius},t.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/t.earthRadius,yards:1.0936133},t.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},t.feature=e,t.geometry=function(t,e,r){switch(t){case"Point":return n(e).geometry;case"LineString":return o(e).geometry;case"Polygon":return i(e).geometry;case"MultiPoint":return a(e).geometry;case"MultiLineString":return s(e).geometry;case"MultiPolygon":return l(e).geometry;default:throw new Error(t+" is invalid")}},t.point=n,t.points=function(t,e,i){return void 0===i&&(i={}),r(t.map((function(t){return n(t,e)})),i)},t.polygon=i,t.polygons=function(t,e,n){return void 0===n&&(n={}),r(t.map((function(t){return i(t,e)})),n)},t.lineString=o,t.lineStrings=function(t,e,n){return void 0===n&&(n={}),r(t.map((function(t){return o(t,e)})),n)},t.featureCollection=r,t.multiLineString=s,t.multiPoint=a,t.multiPolygon=l,t.geometryCollection=function(t,n,i){return void 0===i&&(i={}),e({type:"GeometryCollection",geometries:t},n,i)},t.round=function(t,e){if(void 0===e&&(e=0),e&&!(e>=0))throw new Error("precision must be a positive number");var n=Math.pow(10,e||0);return Math.round(t*n)/n},t.radiansToLength=u,t.lengthToRadians=c,t.lengthToDegrees=function(t,e){return h(c(t,e))},t.bearingToAzimuth=function(t){var e=t%360;return e<0&&(e+=360),e},t.radiansToDegrees=h,t.degreesToRadians=function(t){return t%360*Math.PI/180},t.convertLength=function(t,e,n){if(void 0===e&&(e="kilometers"),void 0===n&&(n="kilometers"),!(t>=0))throw new Error("length must be a positive number");return u(c(t,e),n)},t.convertArea=function(e,n,i){if(void 0===n&&(n="meters"),void 0===i&&(i="kilometers"),!(e>=0))throw new Error("area must be a positive number");var o=t.areaFactors[n];if(!o)throw new Error("invalid original units");var r=t.areaFactors[i];if(!r)throw new Error("invalid final units");return e/o*r},t.isNumber=p,t.isObject=function(t){return!!t&&t.constructor===Object},t.validateBBox=function(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(4!==t.length&&6!==t.length)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach((function(t){if(!p(t))throw new Error("bbox must only contain numbers")}))},t.validateId=function(t){if(!t)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof t))throw new Error("id must be a number or a string")}}(Yu);var Xu={};Object.defineProperty(Xu,"__esModule",{value:!0});var $u=Yu;function Ku(t,e,n){if(null!==t)for(var i,o,r,s,a,l,u,c,h=0,p=0,f=t.type,d="FeatureCollection"===f,g="Feature"===f,_=d?t.features.length:1,m=0;m<_;m++){a=(c=!!(u=d?t.features[m].geometry:g?t.geometry:t)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var y=0;y<a;y++){var v=0,x=0;if(null!==(s=c?u.geometries[y]:u)){l=s.coordinates;var b=s.type;switch(h=!n||"Polygon"!==b&&"MultiPolygon"!==b?0:1,b){case null:break;case"Point":if(!1===e(l,p,m,v,x))return!1;p++,v++;break;case"LineString":case"MultiPoint":for(i=0;i<l.length;i++){if(!1===e(l[i],p,m,v,x))return!1;p++,"MultiPoint"===b&&v++}"LineString"===b&&v++;break;case"Polygon":case"MultiLineString":for(i=0;i<l.length;i++){for(o=0;o<l[i].length-h;o++){if(!1===e(l[i][o],p,m,v,x))return!1;p++}"MultiLineString"===b&&v++,"Polygon"===b&&x++}"Polygon"===b&&v++;break;case"MultiPolygon":for(i=0;i<l.length;i++){for(x=0,o=0;o<l[i].length;o++){for(r=0;r<l[i][o].length-h;r++){if(!1===e(l[i][o][r],p,m,v,x))return!1;p++}x++}v++}break;case"GeometryCollection":for(i=0;i<s.geometries.length;i++)if(!1===Ku(s.geometries[i],e,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Ju(t,e){var n;switch(t.type){case"FeatureCollection":for(n=0;n<t.features.length&&!1!==e(t.features[n].properties,n);n++);break;case"Feature":e(t.properties,0)}}function Qu(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var n=0;n<t.features.length&&!1!==e(t.features[n],n);n++);}function tc(t,e){var n,i,o,r,s,a,l,u,c,h,p=0,f="FeatureCollection"===t.type,d="Feature"===t.type,g=f?t.features.length:1;for(n=0;n<g;n++){for(a=f?t.features[n].geometry:d?t.geometry:t,u=f?t.features[n].properties:d?t.properties:{},c=f?t.features[n].bbox:d?t.bbox:void 0,h=f?t.features[n].id:d?t.id:void 0,s=(l=!!a&&"GeometryCollection"===a.type)?a.geometries.length:1,o=0;o<s;o++)if(null!==(r=l?a.geometries[o]:a))switch(r.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===e(r,p,u,c,h))return!1;break;case"GeometryCollection":for(i=0;i<r.geometries.length;i++)if(!1===e(r.geometries[i],p,u,c,h))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===e(null,p,u,c,h))return!1;p++}}function ec(t,e){tc(t,(function(t,n,i,o,r){var s,a=null===t?null:t.type;switch(a){case null:case"Point":case"LineString":case"Polygon":return!1!==e($u.feature(t,i,{bbox:o,id:r}),n,0)&&void 0}switch(a){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var l=0;l<t.coordinates.length;l++){var u={type:s,coordinates:t.coordinates[l]};if(!1===e($u.feature(u,i),n,l))return!1}}))}function nc(t,e){ec(t,(function(t,n,i){var o=0;if(t.geometry){var r=t.geometry.type;if("Point"!==r&&"MultiPoint"!==r){var s,a=0,l=0,u=0;return!1!==Ku(t,(function(r,c,h,p,f){if(void 0===s||n>a||p>l||f>u)return s=r,a=n,l=p,u=f,void(o=0);var d=$u.lineString([s,r],t.properties);if(!1===e(d,n,i,f,o))return!1;o++,s=r}))&&void 0}}}))}function ic(t,e){if(!t)throw new Error("geojson is required");ec(t,(function(t,n,i){if(null!==t.geometry){var o=t.geometry.type,r=t.geometry.coordinates;switch(o){case"LineString":if(!1===e(t,n,i,0,0))return!1;break;case"Polygon":for(var s=0;s<r.length;s++)if(!1===e($u.lineString(r[s],t.properties),n,i,s))return!1}}}))}Xu.coordAll=function(t){var e=[];return Ku(t,(function(t){e.push(t)})),e},Xu.coordEach=Ku,Xu.coordReduce=function(t,e,n,i){var o=n;return Ku(t,(function(t,i,r,s,a){o=0===i&&void 0===n?t:e(o,t,i,r,s,a)}),i),o},Xu.featureEach=Qu,Xu.featureReduce=function(t,e,n){var i=n;return Qu(t,(function(t,o){i=0===o&&void 0===n?t:e(i,t,o)})),i},Xu.findPoint=function(t,e){if(e=e||{},!$u.isObject(e))throw new Error("options is invalid");var n,i=e.featureIndex||0,o=e.multiFeatureIndex||0,r=e.geometryIndex||0,s=e.coordIndex||0,a=e.properties;switch(t.type){case"FeatureCollection":i<0&&(i=t.features.length+i),a=a||t.features[i].properties,n=t.features[i].geometry;break;case"Feature":a=a||t.properties,n=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=t;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var l=n.coordinates;switch(n.type){case"Point":return $u.point(l,a,e);case"MultiPoint":return o<0&&(o=l.length+o),$u.point(l[o],a,e);case"LineString":return s<0&&(s=l.length+s),$u.point(l[s],a,e);case"Polygon":return r<0&&(r=l.length+r),s<0&&(s=l[r].length+s),$u.point(l[r][s],a,e);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s),$u.point(l[o][s],a,e);case"MultiPolygon":return o<0&&(o=l.length+o),r<0&&(r=l[o].length+r),s<0&&(s=l[o][r].length-s),$u.point(l[o][r][s],a,e)}throw new Error("geojson is invalid")},Xu.findSegment=function(t,e){if(e=e||{},!$u.isObject(e))throw new Error("options is invalid");var n,i=e.featureIndex||0,o=e.multiFeatureIndex||0,r=e.geometryIndex||0,s=e.segmentIndex||0,a=e.properties;switch(t.type){case"FeatureCollection":i<0&&(i=t.features.length+i),a=a||t.features[i].properties,n=t.features[i].geometry;break;case"Feature":a=a||t.properties,n=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=t;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var l=n.coordinates;switch(n.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=l.length+s-1),$u.lineString([l[s],l[s+1]],a,e);case"Polygon":return r<0&&(r=l.length+r),s<0&&(s=l[r].length+s-1),$u.lineString([l[r][s],l[r][s+1]],a,e);case"MultiLineString":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s-1),$u.lineString([l[o][s],l[o][s+1]],a,e);case"MultiPolygon":return o<0&&(o=l.length+o),r<0&&(r=l[o].length+r),s<0&&(s=l[o][r].length-s-1),$u.lineString([l[o][r][s],l[o][r][s+1]],a,e)}throw new Error("geojson is invalid")},Xu.flattenEach=ec,Xu.flattenReduce=function(t,e,n){var i=n;return ec(t,(function(t,o,r){i=0===o&&0===r&&void 0===n?t:e(i,t,o,r)})),i},Xu.geomEach=tc,Xu.geomReduce=function(t,e,n){var i=n;return tc(t,(function(t,o,r,s,a){i=0===o&&void 0===n?t:e(i,t,o,r,s,a)})),i},Xu.lineEach=ic,Xu.lineReduce=function(t,e,n){var i=n;return ic(t,(function(t,o,r,s){i=0===o&&void 0===n?t:e(i,t,o,r,s)})),i},Xu.propEach=Ju,Xu.propReduce=function(t,e,n){var i=n;return Ju(t,(function(t,o){i=0===o&&void 0===n?t:e(i,t,o)})),i},Xu.segmentEach=nc,Xu.segmentReduce=function(t,e,n){var i=n,o=!1;return nc(t,(function(t,r,s,a,l){i=!1===o&&void 0===n?t:e(i,t,r,s,a,l),o=!0})),i};var oc={};Object.defineProperty(oc,"__esModule",{value:!0});var rc=Xu;function sc(t){var e=[1/0,1/0,-1/0,-1/0];return rc.coordEach(t,(function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])})),e}sc.default=sc,oc.default=sc;var ac=Zu,lc=Yu,uc=Xu,cc=oc.default,hc=uc.featureEach;uc.coordEach;var pc=lc.featureCollection;function fc(t){var e=new ac(t);return e.insert=function(t){if("Feature"!==t.type)throw new Error("invalid feature");return t.bbox=t.bbox?t.bbox:cc(t),ac.prototype.insert.call(this,t)},e.load=function(t){var e=[];return Array.isArray(t)?t.forEach((function(t){if("Feature"!==t.type)throw new Error("invalid features");t.bbox=t.bbox?t.bbox:cc(t),e.push(t)})):hc(t,(function(t){if("Feature"!==t.type)throw new Error("invalid features");t.bbox=t.bbox?t.bbox:cc(t),e.push(t)})),ac.prototype.load.call(this,e)},e.remove=function(t,e){if("Feature"!==t.type)throw new Error("invalid feature");return t.bbox=t.bbox?t.bbox:cc(t),ac.prototype.remove.call(this,t,e)},e.clear=function(){return ac.prototype.clear.call(this)},e.search=function(t){var e=ac.prototype.search.call(this,this.toBBox(t));return pc(e)},e.collides=function(t){return ac.prototype.collides.call(this,this.toBBox(t))},e.all=function(){var t=ac.prototype.all.call(this);return pc(t)},e.toJSON=function(){return ac.prototype.toJSON.call(this)},e.fromJSON=function(t){return ac.prototype.fromJSON.call(this,t)},e.toBBox=function(t){var e;if(t.bbox)e=t.bbox;else if(Array.isArray(t)&&4===t.length)e=t;else if(Array.isArray(t)&&6===t.length)e=[t[0],t[1],t[3],t[4]];else if("Feature"===t.type)e=cc(t);else{if("FeatureCollection"!==t.type)throw new Error("invalid geojson");e=cc(t)}return{minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}},e}Mu.exports=fc,Mu.exports.default=fc;var dc=Mu.exports;function gc(t,e){var n={},i=[];if("LineString"===t.type&&(t=ou(t)),"LineString"===e.type&&(e=ou(e)),"Feature"===t.type&&"Feature"===e.type&&null!==t.geometry&&null!==e.geometry&&"LineString"===t.geometry.type&&"LineString"===e.geometry.type&&2===t.geometry.coordinates.length&&2===e.geometry.coordinates.length){var o=_c(t,e);return o&&i.push(o),au(i)}var r=dc();return r.load(Pu(e)),du(Pu(t),(function(t){du(r.search(t),(function(e){var o=_c(t,e);if(o){var r=xu(o).join(",");n[r]||(n[r]=!0,i.push(o))}}))})),au(i)}function _c(t,e){var n=xu(t),i=xu(e);if(2!==n.length)throw new Error("<intersects> line1 must only contain 2 coordinates");if(2!==i.length)throw new Error("<intersects> line2 must only contain 2 coordinates");var o=n[0][0],r=n[0][1],s=n[1][0],a=n[1][1],l=i[0][0],u=i[0][1],c=i[1][0],h=i[1][1],p=(h-u)*(s-o)-(c-l)*(a-r),f=(c-l)*(r-u)-(h-u)*(o-l),d=(s-o)*(r-u)-(a-r)*(o-l);if(0===p)return null;var g=f/p,_=d/p;return g>=0&&g<=1&&_>=0&&_<=1?ru([o+g*(s-o),r+g*(a-r)]):null}function mc(t,e,n){void 0===n&&(n={});var i=ru([1/0,1/0],{dist:1/0}),o=0;return _u(t,(function(t){for(var r=xu(t),s=0;s<r.length-1;s++){var a=ru(r[s]);a.properties.dist=Cu(e,a,n);var l=ru(r[s+1]);l.properties.dist=Cu(e,l,n);var u=Cu(a,l,n),c=Math.max(a.properties.dist,l.properties.dist),h=Iu(a,l),p=Su(e,c,h+90,n),f=Su(e,c,h-90,n),d=gc(su([p.geometry.coordinates,f.geometry.coordinates]),su([a.geometry.coordinates,l.geometry.coordinates])),g=null;d.features.length>0&&((g=d.features[0]).properties.dist=Cu(e,g,n),g.properties.location=o+Cu(a,g,n)),a.properties.dist<i.properties.dist&&((i=a).properties.index=s,i.properties.location=o),l.properties.dist<i.properties.dist&&((i=l).properties.index=s+1,i.properties.location=o+u),g&&g.properties.dist<i.properties.dist&&((i=g).properties.index=s),o+=u}})),i}function yc(t,e){return void 0===e&&(e={}),mu(t,(function(t,n){var i=n.geometry.coordinates;return t+Cu(i[0],i[1],e)}),0)}function vc(t,e,n){void 0===n&&(n={});for(var i=vu(t),o=xu(e),r=0;r<o.length-1;r++){var s=!1;if(n.ignoreEndVertices&&(0===r&&(s="start"),r===o.length-2&&(s="end"),0===r&&r+1===o.length-1&&(s="both")),xc(o[r],o[r+1],i,s,void 0===n.epsilon?null:n.epsilon))return!0}return!1}function xc(t,e,n,i,o){var r=n[0],s=n[1],a=t[0],l=t[1],u=e[0],c=e[1],h=u-a,p=c-l,f=(n[0]-a)*p-(n[1]-l)*h;if(null!==o){if(Math.abs(f)>o)return!1}else if(0!==f)return!1;return i?"start"===i?Math.abs(h)>=Math.abs(p)?h>0?a<r&&r<=u:u<=r&&r<a:p>0?l<s&&s<=c:c<=s&&s<l:"end"===i?Math.abs(h)>=Math.abs(p)?h>0?a<=r&&r<u:u<r&&r<=a:p>0?l<=s&&s<c:c<s&&s<=l:"both"===i&&(Math.abs(h)>=Math.abs(p)?h>0?a<r&&r<u:u<r&&r<a:p>0?l<s&&s<c:c<s&&s<l):Math.abs(h)>=Math.abs(p)?h>0?a<=r&&r<=u:u<=r&&r<=a:p>0?l<=s&&s<=c:c<=s&&s<=l}function bc(t,e){var n=bu(t),i=bu(e),o=n.type,r=i.type;switch(o){case"Point":switch(r){case"MultiPoint":return function(t,e){var n,i=!1;for(n=0;n<e.coordinates.length;n++)if(Ec(e.coordinates[n],t.coordinates)){i=!0;break}return i}(n,i);case"LineString":return vc(n,i,{ignoreEndVertices:!0});case"Polygon":case"MultiPolygon":return wu(n,i,{ignoreBoundary:!0});default:throw new Error("feature2 "+r+" geometry not supported")}case"MultiPoint":switch(r){case"MultiPoint":return function(t,e){for(var n=0;n<t.coordinates.length;n++){for(var i=!1,o=0;o<e.coordinates.length;o++)Ec(t.coordinates[n],e.coordinates[o])&&(i=!0);if(!i)return!1}return!0}(n,i);case"LineString":return function(t,e){for(var n=!1,i=0;i<t.coordinates.length;i++){if(!vc(t.coordinates[i],e))return!1;n||(n=vc(t.coordinates[i],e,{ignoreEndVertices:!0}))}return n}(n,i);case"Polygon":case"MultiPolygon":return function(t,e){for(var n=!0,i=!1,o=0;o<t.coordinates.length;o++){if(!(i=wu(t.coordinates[1],e))){n=!1;break}i=wu(t.coordinates[1],e,{ignoreBoundary:!0})}return n&&i}(n,i);default:throw new Error("feature2 "+r+" geometry not supported")}case"LineString":switch(r){case"LineString":return function(t,e){for(var n=0;n<t.coordinates.length;n++)if(!vc(t.coordinates[n],e))return!1;return!0}(n,i);case"Polygon":case"MultiPolygon":return function(t,e){var n=yu(e),i=yu(t);if(!wc(n,i))return!1;for(var o=!1,r=0;r<t.coordinates.length-1;r++){if(!wu(t.coordinates[r],e))return!1;if(o||(o=wu(t.coordinates[r],e,{ignoreBoundary:!0})),!o)o=wu(Cc(t.coordinates[r],t.coordinates[r+1]),e,{ignoreBoundary:!0})}return o}(n,i);default:throw new Error("feature2 "+r+" geometry not supported")}case"Polygon":switch(r){case"Polygon":case"MultiPolygon":return function(t,e){var n=yu(t);if(!wc(yu(e),n))return!1;for(var i=0;i<t.coordinates[0].length;i++)if(!wu(t.coordinates[0][i],e))return!1;return!0}(n,i);default:throw new Error("feature2 "+r+" geometry not supported")}default:throw new Error("feature1 "+o+" geometry not supported")}}function wc(t,e){return!(t[0]>e[0])&&(!(t[2]<e[2])&&(!(t[1]>e[1])&&!(t[3]<e[3])))}function Ec(t,e){return t[0]===e[0]&&t[1]===e[1]}function Cc(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]}function Sc(t,e){void 0===e&&(e={});var n=bu(t);switch(e.properties||"Feature"!==t.type||(e.properties=t.properties),n.type){case"Polygon":return function(t,e){void 0===e&&(e={});var n=bu(t).coordinates,i=e.properties?e.properties:"Feature"===t.type?t.properties:{};return Ic(n,i)}(n,e);case"MultiPolygon":return function(t,e){void 0===e&&(e={});var n=bu(t).coordinates,i=e.properties?e.properties:"Feature"===t.type?t.properties:{},o=[];return n.forEach((function(t){o.push(Ic(t,i))})),au(o)}(n,e);default:throw new Error("invalid poly")}}function Ic(t,e){return t.length>1?function(t,e,n){return void 0===n&&(n={}),ou({type:"MultiLineString",coordinates:t},e,n)}(t,e):su(t[0],e)}function Lc(t,e){var n=!0;return _u(t,(function(t){_u(e,(function(e){if(!1===n)return!1;n=function(t,e){switch(t.type){case"Point":switch(e.type){case"Point":return n=t.coordinates,i=e.coordinates,!(n[0]===i[0]&&n[1]===i[1]);case"LineString":return!Pc(e,t);case"Polygon":return!wu(t,e)}break;case"LineString":switch(e.type){case"Point":return!Pc(t,e);case"LineString":return!function(t,e){if(gc(t,e).features.length>0)return!0;return!1}(t,e);case"Polygon":return!Mc(e,t)}break;case"Polygon":switch(e.type){case"Point":return!wu(e,t);case"LineString":return!Mc(t,e);case"Polygon":return!function(t,e){for(var n=0,i=t.coordinates[0];n<i.length;n++){if(wu(i[n],e))return!0}for(var o=0,r=e.coordinates[0];o<r.length;o++){if(wu(r[o],t))return!0}if(gc(Sc(t),Sc(e)).features.length>0)return!0;return!1}(e,t)}}var n,i;return!1}(t.geometry,e.geometry)}))})),n}function Pc(t,e){for(var n=0;n<t.coordinates.length-1;n++)if(Nc(t.coordinates[n],t.coordinates[n+1],e.coordinates))return!0;return!1}function Mc(t,e){for(var n=0,i=e.coordinates;n<i.length;n++){if(wu(i[n],t))return!0}return gc(e,Sc(t)).features.length>0}function Nc(t,e,n){var i=n[0]-t[0],o=n[1]-t[1],r=e[0]-t[0],s=e[1]-t[1];return 0==i*s-o*r&&(Math.abs(r)>=Math.abs(s)?r>0?t[0]<=n[0]&&n[0]<=e[0]:e[0]<=n[0]&&n[0]<=t[0]:s>0?t[1]<=n[1]&&n[1]<=e[1]:e[1]<=n[1]&&n[1]<=t[1])}function Tc(t,e){var n=!1;return _u(t,(function(t){_u(e,(function(e){if(!0===n)return!0;n=!Lc(t.geometry,e.geometry)}))})),n}"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(t){if(null==this)throw new TypeError(this+" is not an object");var e=Object(this),n=Math.max(Math.min(e.length,9007199254740991),0)||0,i=1 in arguments&&parseInt(Number(arguments[1]),10)||0;i=i<0?Math.max(n+i,0):Math.min(i,n);var o=2 in arguments&&void 0!==arguments[2]?parseInt(Number(arguments[2]),10)||0:n;for(o=o<0?Math.max(n+arguments[2],0):Math.min(o,n);i<o;)e[i]=t,++i;return e},writable:!0}),Number.isFinite=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(t){return t!=t},Math.trunc=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)};var Oc=function(){};Oc.prototype.interfaces_=function(){return[]},Oc.prototype.getClass=function(){return Oc},Oc.prototype.equalsWithTolerance=function(t,e,n){return Math.abs(t-e)<=n};var Ac=function(t){function e(e){t.call(this,e),this.name="IllegalArgumentException",this.message=e,this.stack=(new t).stack}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),Rc=function(){},Dc={MAX_VALUE:{configurable:!0}};Rc.isNaN=function(t){return Number.isNaN(t)},Rc.doubleToLongBits=function(t){return t},Rc.longBitsToDouble=function(t){return t},Rc.isInfinite=function(t){return!Number.isFinite(t)},Dc.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(Rc,Dc);var kc=function(){},Fc=function(){},zc=function(){};function Bc(){}var jc=function t(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)this.x=0,this.y=0,this.z=t.NULL_ORDINATE;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.z=e.z}else 2===arguments.length?(this.x=arguments[0],this.y=arguments[1],this.z=t.NULL_ORDINATE):3===arguments.length&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},Vc={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};jc.prototype.setOrdinate=function(t,e){switch(t){case jc.X:this.x=e;break;case jc.Y:this.y=e;break;case jc.Z:this.z=e;break;default:throw new Ac("Invalid ordinate index: "+t)}},jc.prototype.equals2D=function(){if(1===arguments.length){var t=arguments[0];return this.x===t.x&&this.y===t.y}if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!Oc.equalsWithTolerance(this.x,e.x,n)&&!!Oc.equalsWithTolerance(this.y,e.y,n)}},jc.prototype.getOrdinate=function(t){switch(t){case jc.X:return this.x;case jc.Y:return this.y;case jc.Z:return this.z}throw new Ac("Invalid ordinate index: "+t)},jc.prototype.equals3D=function(t){return this.x===t.x&&this.y===t.y&&(this.z===t.z||Rc.isNaN(this.z))&&Rc.isNaN(t.z)},jc.prototype.equals=function(t){return t instanceof jc&&this.equals2D(t)},jc.prototype.equalInZ=function(t,e){return Oc.equalsWithTolerance(this.z,t.z,e)},jc.prototype.compareTo=function(t){var e=t;return this.x<e.x?-1:this.x>e.x?1:this.y<e.y?-1:this.y>e.y?1:0},jc.prototype.clone=function(){},jc.prototype.copy=function(){return new jc(this)},jc.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},jc.prototype.distance3D=function(t){var e=this.x-t.x,n=this.y-t.y,i=this.z-t.z;return Math.sqrt(e*e+n*n+i*i)},jc.prototype.distance=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},jc.prototype.hashCode=function(){var t=17;return t=37*(t=37*t+jc.hashCode(this.x))+jc.hashCode(this.y)},jc.prototype.setCoordinate=function(t){this.x=t.x,this.y=t.y,this.z=t.z},jc.prototype.interfaces_=function(){return[kc,Fc,Bc]},jc.prototype.getClass=function(){return jc},jc.hashCode=function(){if(1===arguments.length){var t=arguments[0],e=Rc.doubleToLongBits(t);return Math.trunc((e^e)>>>32)}},Vc.DimensionalComparator.get=function(){return Gc},Vc.serialVersionUID.get=function(){return 0x5cbf2c235c7e5800},Vc.NULL_ORDINATE.get=function(){return Rc.NaN},Vc.X.get=function(){return 0},Vc.Y.get=function(){return 1},Vc.Z.get=function(){return 2},Object.defineProperties(jc,Vc);var Gc=function(t){if(this._dimensionsToTest=2,0===arguments.length);else if(1===arguments.length){var e=arguments[0];if(2!==e&&3!==e)throw new Ac("only 2 or 3 dimensions may be specified");this._dimensionsToTest=e}};Gc.prototype.compare=function(t,e){var n=t,i=e,o=Gc.compare(n.x,i.x);if(0!==o)return o;var r=Gc.compare(n.y,i.y);return 0!==r?r:this._dimensionsToTest<=2?0:Gc.compare(n.z,i.z)},Gc.prototype.interfaces_=function(){return[zc]},Gc.prototype.getClass=function(){return Gc},Gc.compare=function(t,e){return t<e?-1:t>e?1:Rc.isNaN(t)?Rc.isNaN(e)?0:-1:Rc.isNaN(e)?1:0};var Uc=function(){};Uc.prototype.create=function(){},Uc.prototype.interfaces_=function(){return[]},Uc.prototype.getClass=function(){return Uc};var qc=function(){},Hc={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};qc.prototype.interfaces_=function(){return[]},qc.prototype.getClass=function(){return qc},qc.toLocationSymbol=function(t){switch(t){case qc.EXTERIOR:return"e";case qc.BOUNDARY:return"b";case qc.INTERIOR:return"i";case qc.NONE:return"-"}throw new Ac("Unknown location value: "+t)},Hc.INTERIOR.get=function(){return 0},Hc.BOUNDARY.get=function(){return 1},Hc.EXTERIOR.get=function(){return 2},Hc.NONE.get=function(){return-1},Object.defineProperties(qc,Hc);var Wc=function(t,e){return t.interfaces_&&t.interfaces_().indexOf(e)>-1},Zc=function(){},Yc={LOG_10:{configurable:!0}};Zc.prototype.interfaces_=function(){return[]},Zc.prototype.getClass=function(){return Zc},Zc.log10=function(t){var e=Math.log(t);return Rc.isInfinite(e)||Rc.isNaN(e)?e:e/Zc.LOG_10},Zc.min=function(t,e,n,i){var o=t;return e<o&&(o=e),n<o&&(o=n),i<o&&(o=i),o},Zc.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1],n=arguments[2];return t<e?e:t>n?n:t}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var i=arguments[0],o=arguments[1],r=arguments[2];return i<o?o:i>r?r:i}},Zc.wrap=function(t,e){return t<0?e- -t%e:t%e},Zc.max=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],i=t;return e>i&&(i=e),n>i&&(i=n),i}if(4===arguments.length){var o=arguments[0],r=arguments[1],s=arguments[2],a=arguments[3],l=o;return r>l&&(l=r),s>l&&(l=s),a>l&&(l=a),l}},Zc.average=function(t,e){return(t+e)/2},Yc.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(Zc,Yc);var Xc=function(t){this.str=t};Xc.prototype.append=function(t){this.str+=t},Xc.prototype.setCharAt=function(t,e){this.str=this.str.substr(0,t)+e+this.str.substr(t+1)},Xc.prototype.toString=function(t){return this.str};var $c=function(t){this.value=t};$c.prototype.intValue=function(){return this.value},$c.prototype.compareTo=function(t){return this.value<t?-1:this.value>t?1:0},$c.isNaN=function(t){return Number.isNaN(t)};var Kc=function(){};Kc.isWhitespace=function(t){return t<=32&&t>=0||127===t},Kc.toUpperCase=function(t){return t.toUpperCase()};var Jc=function t(){if(this._hi=0,this._lo=0,0===arguments.length)this.init(0);else if(1===arguments.length){if("number"==typeof arguments[0]){var e=arguments[0];this.init(e)}else if(arguments[0]instanceof t){var n=arguments[0];this.init(n)}else if("string"==typeof arguments[0]){var i=arguments[0];t.call(this,t.parse(i))}}else if(2===arguments.length){var o=arguments[0],r=arguments[1];this.init(o,r)}},Qc={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};Jc.prototype.le=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<=t._lo},Jc.prototype.extractSignificantDigits=function(t,e){var n=this.abs(),i=Jc.magnitude(n._hi),o=Jc.TEN.pow(i);(n=n.divide(o)).gt(Jc.TEN)?(n=n.divide(Jc.TEN),i+=1):n.lt(Jc.ONE)&&(n=n.multiply(Jc.TEN),i-=1);for(var r=i+1,s=new Xc,a=Jc.MAX_PRINT_DIGITS-1,l=0;l<=a;l++){t&&l===r&&s.append(".");var u=Math.trunc(n._hi);if(u<0)break;var c=!1,h=0;u>9?(c=!0,h="9"):h="0"+u,s.append(h),n=n.subtract(Jc.valueOf(u)).multiply(Jc.TEN),c&&n.selfAdd(Jc.TEN);var p=!0,f=Jc.magnitude(n._hi);if(f<0&&Math.abs(f)>=a-l&&(p=!1),!p)break}return e[0]=i,s.toString()},Jc.prototype.sqr=function(){return this.multiply(this)},Jc.prototype.doubleValue=function(){return this._hi+this._lo},Jc.prototype.subtract=function(){if(arguments[0]instanceof Jc){var t=arguments[0];return this.add(t.negate())}if("number"==typeof arguments[0]){var e=arguments[0];return this.add(-e)}},Jc.prototype.equals=function(){if(1===arguments.length){var t=arguments[0];return this._hi===t._hi&&this._lo===t._lo}},Jc.prototype.isZero=function(){return 0===this._hi&&0===this._lo},Jc.prototype.selfSubtract=function(){if(arguments[0]instanceof Jc){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t._hi,-t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e,0)}},Jc.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},Jc.prototype.min=function(t){return this.le(t)?this:t},Jc.prototype.selfDivide=function(){if(1===arguments.length){if(arguments[0]instanceof Jc){var t=arguments[0];return this.selfDivide(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfDivide(e,0)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1],o=null,r=null,s=null,a=null,l=null,u=null,c=null,h=null;return l=this._hi/n,h=(o=(u=Jc.SPLIT*l)-(o=u-l))*(s=(h=Jc.SPLIT*n)-(s=h-n))-(c=l*n)+o*(a=n-s)+(r=l-o)*s+r*a,h=l+(u=(this._hi-c-h+this._lo-l*i)/n),this._hi=h,this._lo=l-h+u,this}},Jc.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},Jc.prototype.divide=function(){if(arguments[0]instanceof Jc){var t=arguments[0],e=null,n=null,i=null,o=null,r=null,s=null,a=null,l=null;n=(r=this._hi/t._hi)-(e=(s=Jc.SPLIT*r)-(e=s-r)),l=e*(i=(l=Jc.SPLIT*t._hi)-(i=l-t._hi))-(a=r*t._hi)+e*(o=t._hi-i)+n*i+n*o;var u=l=r+(s=(this._hi-a-l+this._lo-r*t._lo)/t._hi),c=r-l+s;return new Jc(u,c)}if("number"==typeof arguments[0]){var h=arguments[0];return Rc.isNaN(h)?Jc.createNaN():Jc.copy(this).selfDivide(h,0)}},Jc.prototype.ge=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>=t._lo},Jc.prototype.pow=function(t){if(0===t)return Jc.valueOf(1);var e=new Jc(this),n=Jc.valueOf(1),i=Math.abs(t);if(i>1)for(;i>0;)i%2==1&&n.selfMultiply(e),(i/=2)>0&&(e=e.sqr());else n=e;return t<0?n.reciprocal():n},Jc.prototype.ceil=function(){if(this.isNaN())return Jc.NaN;var t=Math.ceil(this._hi),e=0;return t===this._hi&&(e=Math.ceil(this._lo)),new Jc(t,e)},Jc.prototype.compareTo=function(t){var e=t;return this._hi<e._hi?-1:this._hi>e._hi?1:this._lo<e._lo?-1:this._lo>e._lo?1:0},Jc.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},Jc.prototype.setValue=function(){if(arguments[0]instanceof Jc){var t=arguments[0];return this.init(t),this}if("number"==typeof arguments[0]){var e=arguments[0];return this.init(e),this}},Jc.prototype.max=function(t){return this.ge(t)?this:t},Jc.prototype.sqrt=function(){if(this.isZero())return Jc.valueOf(0);if(this.isNegative())return Jc.NaN;var t=1/Math.sqrt(this._hi),e=this._hi*t,n=Jc.valueOf(e),i=this.subtract(n.sqr())._hi*(.5*t);return n.add(i)},Jc.prototype.selfAdd=function(){if(1===arguments.length){if(arguments[0]instanceof Jc){var t=arguments[0];return this.selfAdd(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0],n=null,i=null,o=null,r=null,s=null,a=null;return r=(o=this._hi+e)-(s=o-this._hi),i=(a=(r=e-s+(this._hi-r))+this._lo)+(o-(n=o+a)),this._hi=n+i,this._lo=i+(n-this._hi),this}}else if(2===arguments.length){var l=arguments[0],u=arguments[1],c=null,h=null,p=null,f=null,d=null,g=null,_=null;f=this._hi+l,h=this._lo+u,d=f-(g=f-this._hi),p=h-(_=h-this._lo);var m=(c=f+(g=(d=l-g+(this._hi-d))+h))+(g=(p=u-_+(this._lo-p))+(g+(f-c))),y=g+(c-m);return this._hi=m,this._lo=y,this}},Jc.prototype.selfMultiply=function(){if(1===arguments.length){if(arguments[0]instanceof Jc){var t=arguments[0];return this.selfMultiply(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfMultiply(e,0)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1],o=null,r=null,s=null,a=null,l=null,u=null;o=(l=Jc.SPLIT*this._hi)-this._hi,u=Jc.SPLIT*n,o=l-o,r=this._hi-o,s=u-n;var c=(l=this._hi*n)+(u=o*(s=u-s)-l+o*(a=n-s)+r*s+r*a+(this._hi*i+this._lo*n)),h=u+(o=l-c);return this._hi=c,this._lo=h,this}},Jc.prototype.selfSqr=function(){return this.selfMultiply(this)},Jc.prototype.floor=function(){if(this.isNaN())return Jc.NaN;var t=Math.floor(this._hi),e=0;return t===this._hi&&(e=Math.floor(this._lo)),new Jc(t,e)},Jc.prototype.negate=function(){return this.isNaN()?this:new Jc(-this._hi,-this._lo)},Jc.prototype.clone=function(){},Jc.prototype.multiply=function(){if(arguments[0]instanceof Jc){var t=arguments[0];return t.isNaN()?Jc.createNaN():Jc.copy(this).selfMultiply(t)}if("number"==typeof arguments[0]){var e=arguments[0];return Rc.isNaN(e)?Jc.createNaN():Jc.copy(this).selfMultiply(e,0)}},Jc.prototype.isNaN=function(){return Rc.isNaN(this._hi)},Jc.prototype.intValue=function(){return Math.trunc(this._hi)},Jc.prototype.toString=function(){var t=Jc.magnitude(this._hi);return t>=-3&&t<=20?this.toStandardNotation():this.toSciNotation()},Jc.prototype.toStandardNotation=function(){var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!0,e),i=e[0]+1,o=n;if("."===n.charAt(0))o="0"+n;else if(i<0)o="0."+Jc.stringOfChar("0",-i)+n;else if(-1===n.indexOf(".")){var r=i-n.length;o=n+Jc.stringOfChar("0",r)+".0"}return this.isNegative()?"-"+o:o},Jc.prototype.reciprocal=function(){var t,e,n,i,o=null,r=null,s=null,a=null;t=(n=1/this._hi)-(o=(s=Jc.SPLIT*n)-(o=s-n)),r=(a=Jc.SPLIT*this._hi)-this._hi;var l=n+(s=(1-(i=n*this._hi)-(a=o*(r=a-r)-i+o*(e=this._hi-r)+t*r+t*e)-n*this._lo)/this._hi);return new Jc(l,n-l+s)},Jc.prototype.toSciNotation=function(){if(this.isZero())return Jc.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!1,e),i=Jc.SCI_NOT_EXPONENT_CHAR+e[0];if("0"===n.charAt(0))throw new Error("Found leading zero: "+n);var o="";n.length>1&&(o=n.substring(1));var r=n.charAt(0)+"."+o;return this.isNegative()?"-"+r+i:r+i},Jc.prototype.abs=function(){return this.isNaN()?Jc.NaN:this.isNegative()?this.negate():new Jc(this)},Jc.prototype.isPositive=function(){return(this._hi>0||0===this._hi)&&this._lo>0},Jc.prototype.lt=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<t._lo},Jc.prototype.add=function(){if(arguments[0]instanceof Jc){var t=arguments[0];return Jc.copy(this).selfAdd(t)}if("number"==typeof arguments[0]){var e=arguments[0];return Jc.copy(this).selfAdd(e)}},Jc.prototype.init=function(){if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];this._hi=t,this._lo=0}else if(arguments[0]instanceof Jc){var e=arguments[0];this._hi=e._hi,this._lo=e._lo}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this._hi=n,this._lo=i}},Jc.prototype.gt=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>t._lo},Jc.prototype.isNegative=function(){return(this._hi<0||0===this._hi)&&this._lo<0},Jc.prototype.trunc=function(){return this.isNaN()?Jc.NaN:this.isPositive()?this.floor():this.ceil()},Jc.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},Jc.prototype.interfaces_=function(){return[Bc,kc,Fc]},Jc.prototype.getClass=function(){return Jc},Jc.sqr=function(t){return Jc.valueOf(t).selfMultiply(t)},Jc.valueOf=function(){if("string"==typeof arguments[0]){var t=arguments[0];return Jc.parse(t)}if("number"==typeof arguments[0]){var e=arguments[0];return new Jc(e)}},Jc.sqrt=function(t){return Jc.valueOf(t).sqrt()},Jc.parse=function(t){for(var e=0,n=t.length;Kc.isWhitespace(t.charAt(e));)e++;var i=!1;if(e<n){var o=t.charAt(e);"-"!==o&&"+"!==o||(e++,"-"===o&&(i=!0))}for(var r=new Jc,s=0,a=0,l=0;!(e>=n);){var u=t.charAt(e);if(e++,Kc.isDigit(u)){var c=u-"0";r.selfMultiply(Jc.TEN),r.selfAdd(c),s++}else{if("."!==u){if("e"===u||"E"===u){var h=t.substring(e);try{l=$c.parseInt(h)}catch(_){throw _ instanceof Error?new Error("Invalid exponent "+h+" in string "+t):_}break}throw new Error("Unexpected character '"+u+"' at position "+e+" in string "+t)}a=s}}var p=r,f=s-a-l;if(0===f)p=r;else if(f>0){var d=Jc.TEN.pow(f);p=r.divide(d)}else if(f<0){var g=Jc.TEN.pow(-f);p=r.multiply(g)}return i?p.negate():p},Jc.createNaN=function(){return new Jc(Rc.NaN,Rc.NaN)},Jc.copy=function(t){return new Jc(t)},Jc.magnitude=function(t){var e=Math.abs(t),n=Math.log(e)/Math.log(10),i=Math.trunc(Math.floor(n));return 10*Math.pow(10,i)<=e&&(i+=1),i},Jc.stringOfChar=function(t,e){for(var n=new Xc,i=0;i<e;i++)n.append(t);return n.toString()},Qc.PI.get=function(){return new Jc(3.141592653589793,12246467991473532e-32)},Qc.TWO_PI.get=function(){return new Jc(6.283185307179586,24492935982947064e-32)},Qc.PI_2.get=function(){return new Jc(1.5707963267948966,6123233995736766e-32)},Qc.E.get=function(){return new Jc(2.718281828459045,14456468917292502e-32)},Qc.NaN.get=function(){return new Jc(Rc.NaN,Rc.NaN)},Qc.EPS.get=function(){return 123259516440783e-46},Qc.SPLIT.get=function(){return 134217729},Qc.MAX_PRINT_DIGITS.get=function(){return 32},Qc.TEN.get=function(){return Jc.valueOf(10)},Qc.ONE.get=function(){return Jc.valueOf(1)},Qc.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},Qc.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(Jc,Qc);var th=function(){},eh={DP_SAFE_EPSILON:{configurable:!0}};th.prototype.interfaces_=function(){return[]},th.prototype.getClass=function(){return th},th.orientationIndex=function(t,e,n){var i=th.orientationIndexFilter(t,e,n);if(i<=1)return i;var o=Jc.valueOf(e.x).selfAdd(-t.x),r=Jc.valueOf(e.y).selfAdd(-t.y),s=Jc.valueOf(n.x).selfAdd(-e.x),a=Jc.valueOf(n.y).selfAdd(-e.y);return o.selfMultiply(a).selfSubtract(r.selfMultiply(s)).signum()},th.signOfDet2x2=function(t,e,n,i){return t.multiply(i).selfSubtract(e.multiply(n)).signum()},th.intersection=function(t,e,n,i){var o=Jc.valueOf(i.y).selfSubtract(n.y).selfMultiply(Jc.valueOf(e.x).selfSubtract(t.x)),r=Jc.valueOf(i.x).selfSubtract(n.x).selfMultiply(Jc.valueOf(e.y).selfSubtract(t.y)),s=o.subtract(r),a=Jc.valueOf(i.x).selfSubtract(n.x).selfMultiply(Jc.valueOf(t.y).selfSubtract(n.y)),l=Jc.valueOf(i.y).selfSubtract(n.y).selfMultiply(Jc.valueOf(t.x).selfSubtract(n.x)),u=a.subtract(l).selfDivide(s).doubleValue(),c=Jc.valueOf(t.x).selfAdd(Jc.valueOf(e.x).selfSubtract(t.x).selfMultiply(u)).doubleValue(),h=Jc.valueOf(e.x).selfSubtract(t.x).selfMultiply(Jc.valueOf(t.y).selfSubtract(n.y)),p=Jc.valueOf(e.y).selfSubtract(t.y).selfMultiply(Jc.valueOf(t.x).selfSubtract(n.x)),f=h.subtract(p).selfDivide(s).doubleValue(),d=Jc.valueOf(n.y).selfAdd(Jc.valueOf(i.y).selfSubtract(n.y).selfMultiply(f)).doubleValue();return new jc(c,d)},th.orientationIndexFilter=function(t,e,n){var i=null,o=(t.x-n.x)*(e.y-n.y),r=(t.y-n.y)*(e.x-n.x),s=o-r;if(o>0){if(r<=0)return th.signum(s);i=o+r}else{if(!(o<0))return th.signum(s);if(r>=0)return th.signum(s);i=-o-r}var a=th.DP_SAFE_EPSILON*i;return s>=a||-s>=a?th.signum(s):2},th.signum=function(t){return t>0?1:t<0?-1:0},eh.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(th,eh);var nh=function(){},ih={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};ih.X.get=function(){return 0},ih.Y.get=function(){return 1},ih.Z.get=function(){return 2},ih.M.get=function(){return 3},nh.prototype.setOrdinate=function(t,e,n){},nh.prototype.size=function(){},nh.prototype.getOrdinate=function(t,e){},nh.prototype.getCoordinate=function(){},nh.prototype.getCoordinateCopy=function(t){},nh.prototype.getDimension=function(){},nh.prototype.getX=function(t){},nh.prototype.clone=function(){},nh.prototype.expandEnvelope=function(t){},nh.prototype.copy=function(){},nh.prototype.getY=function(t){},nh.prototype.toCoordinateArray=function(){},nh.prototype.interfaces_=function(){return[Fc]},nh.prototype.getClass=function(){return nh},Object.defineProperties(nh,ih);var oh=function(){},rh=function(t){function e(){t.call(this,"Projective point not representable on the Cartesian plane.")}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(oh),sh=function(){};sh.arraycopy=function(t,e,n,i,o){for(var r=0,s=e;s<e+o;s++)n[i+r]=t[s],r++},sh.getProperty=function(t){return{"line.separator":"\n"}[t]};var ah=function t(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var n=arguments[0],i=arguments[1];this.x=n,this.y=i,this.w=1}else if(arguments[0]instanceof t&&arguments[1]instanceof t){var o=arguments[0],r=arguments[1];this.x=o.y*r.w-r.y*o.w,this.y=r.x*o.w-o.x*r.w,this.w=o.x*r.y-r.x*o.y}else if(arguments[0]instanceof jc&&arguments[1]instanceof jc){var s=arguments[0],a=arguments[1];this.x=s.y-a.y,this.y=a.x-s.x,this.w=s.x*a.y-a.x*s.y}}else if(3===arguments.length){var l=arguments[0],u=arguments[1],c=arguments[2];this.x=l,this.y=u,this.w=c}else if(4===arguments.length){var h=arguments[0],p=arguments[1],f=arguments[2],d=arguments[3],g=h.y-p.y,_=p.x-h.x,m=h.x*p.y-p.x*h.y,y=f.y-d.y,v=d.x-f.x,x=f.x*d.y-d.x*f.y;this.x=_*x-v*m,this.y=y*m-g*x,this.w=g*v-y*_}};ah.prototype.getY=function(){var t=this.y/this.w;if(Rc.isNaN(t)||Rc.isInfinite(t))throw new rh;return t},ah.prototype.getX=function(){var t=this.x/this.w;if(Rc.isNaN(t)||Rc.isInfinite(t))throw new rh;return t},ah.prototype.getCoordinate=function(){var t=new jc;return t.x=this.getX(),t.y=this.getY(),t},ah.prototype.interfaces_=function(){return[]},ah.prototype.getClass=function(){return ah},ah.intersection=function(t,e,n,i){var o=t.y-e.y,r=e.x-t.x,s=t.x*e.y-e.x*t.y,a=n.y-i.y,l=i.x-n.x,u=n.x*i.y-i.x*n.y,c=o*l-a*r,h=(r*u-l*s)/c,p=(a*s-o*u)/c;if(Rc.isNaN(h)||Rc.isInfinite(h)||Rc.isNaN(p)||Rc.isInfinite(p))throw new rh;return new jc(h,p)};var lh=function t(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length){if(arguments[0]instanceof jc){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof t){var n=arguments[0];this.init(n)}}else if(2===arguments.length){var i=arguments[0],o=arguments[1];this.init(i.x,o.x,i.y,o.y)}else if(4===arguments.length){var r=arguments[0],s=arguments[1],a=arguments[2],l=arguments[3];this.init(r,s,a,l)}},uh={serialVersionUID:{configurable:!0}};lh.prototype.getArea=function(){return this.getWidth()*this.getHeight()},lh.prototype.equals=function(t){if(!(t instanceof lh))return!1;var e=t;return this.isNull()?e.isNull():this._maxx===e.getMaxX()&&this._maxy===e.getMaxY()&&this._minx===e.getMinX()&&this._miny===e.getMinY()},lh.prototype.intersection=function(t){if(this.isNull()||t.isNull()||!this.intersects(t))return new lh;var e=this._minx>t._minx?this._minx:t._minx,n=this._miny>t._miny?this._miny:t._miny,i=this._maxx<t._maxx?this._maxx:t._maxx,o=this._maxy<t._maxy?this._maxy:t._maxy;return new lh(e,i,n,o)},lh.prototype.isNull=function(){return this._maxx<this._minx},lh.prototype.getMaxX=function(){return this._maxx},lh.prototype.covers=function(){if(1===arguments.length){if(arguments[0]instanceof jc){var t=arguments[0];return this.covers(t.x,t.y)}if(arguments[0]instanceof lh){var e=arguments[0];return!this.isNull()&&!e.isNull()&&(e.getMinX()>=this._minx&&e.getMaxX()<=this._maxx&&e.getMinY()>=this._miny&&e.getMaxY()<=this._maxy)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return!this.isNull()&&(n>=this._minx&&n<=this._maxx&&i>=this._miny&&i<=this._maxy)}},lh.prototype.intersects=function(){if(1===arguments.length){if(arguments[0]instanceof lh){var t=arguments[0];return!this.isNull()&&!t.isNull()&&!(t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny)}if(arguments[0]instanceof jc){var e=arguments[0];return this.intersects(e.x,e.y)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return!this.isNull()&&!(n>this._maxx||n<this._minx||i>this._maxy||i<this._miny)}},lh.prototype.getMinY=function(){return this._miny},lh.prototype.getMinX=function(){return this._minx},lh.prototype.expandToInclude=function(){if(1===arguments.length){if(arguments[0]instanceof jc){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof lh){var e=arguments[0];if(e.isNull())return null;this.isNull()?(this._minx=e.getMinX(),this._maxx=e.getMaxX(),this._miny=e.getMinY(),this._maxy=e.getMaxY()):(e._minx<this._minx&&(this._minx=e._minx),e._maxx>this._maxx&&(this._maxx=e._maxx),e._miny<this._miny&&(this._miny=e._miny),e._maxy>this._maxy&&(this._maxy=e._maxy))}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.isNull()?(this._minx=n,this._maxx=n,this._miny=i,this._maxy=i):(n<this._minx&&(this._minx=n),n>this._maxx&&(this._maxx=n),i<this._miny&&(this._miny=i),i>this._maxy&&(this._maxy=i))}},lh.prototype.minExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t<e?t:e},lh.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},lh.prototype.compareTo=function(t){var e=t;return this.isNull()?e.isNull()?0:-1:e.isNull()?1:this._minx<e._minx?-1:this._minx>e._minx?1:this._miny<e._miny?-1:this._miny>e._miny?1:this._maxx<e._maxx?-1:this._maxx>e._maxx?1:this._maxy<e._maxy?-1:this._maxy>e._maxy?1:0},lh.prototype.translate=function(t,e){if(this.isNull())return null;this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+e,this.getMaxY()+e)},lh.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},lh.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},lh.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},lh.prototype.maxExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t>e?t:e},lh.prototype.expandBy=function(){if(1===arguments.length){var t=arguments[0];this.expandBy(t,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this.isNull())return null;this._minx-=e,this._maxx+=e,this._miny-=n,this._maxy+=n,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},lh.prototype.contains=function(){if(1===arguments.length){if(arguments[0]instanceof lh){var t=arguments[0];return this.covers(t)}if(arguments[0]instanceof jc){var e=arguments[0];return this.covers(e)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return this.covers(n,i)}},lh.prototype.centre=function(){return this.isNull()?null:new jc((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},lh.prototype.init=function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof jc){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof lh){var e=arguments[0];this._minx=e._minx,this._maxx=e._maxx,this._miny=e._miny,this._maxy=e._maxy}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.init(n.x,i.x,n.y,i.y)}else if(4===arguments.length){var o=arguments[0],r=arguments[1],s=arguments[2],a=arguments[3];o<r?(this._minx=o,this._maxx=r):(this._minx=r,this._maxx=o),s<a?(this._miny=s,this._maxy=a):(this._miny=a,this._maxy=s)}},lh.prototype.getMaxY=function(){return this._maxy},lh.prototype.distance=function(t){if(this.intersects(t))return 0;var e=0;this._maxx<t._minx?e=t._minx-this._maxx:this._minx>t._maxx&&(e=this._minx-t._maxx);var n=0;return this._maxy<t._miny?n=t._miny-this._maxy:this._miny>t._maxy&&(n=this._miny-t._maxy),0===e?n:0===n?e:Math.sqrt(e*e+n*n)},lh.prototype.hashCode=function(){var t=17;return t=37*(t=37*(t=37*(t=37*t+jc.hashCode(this._minx))+jc.hashCode(this._maxx))+jc.hashCode(this._miny))+jc.hashCode(this._maxy)},lh.prototype.interfaces_=function(){return[kc,Bc]},lh.prototype.getClass=function(){return lh},lh.intersects=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];return n.x>=(t.x<e.x?t.x:e.x)&&n.x<=(t.x>e.x?t.x:e.x)&&n.y>=(t.y<e.y?t.y:e.y)&&n.y<=(t.y>e.y?t.y:e.y)}if(4===arguments.length){var i=arguments[0],o=arguments[1],r=arguments[2],s=arguments[3],a=Math.min(r.x,s.x),l=Math.max(r.x,s.x),u=Math.min(i.x,o.x),c=Math.max(i.x,o.x);return!(u>l)&&(!(c<a)&&(a=Math.min(r.y,s.y),l=Math.max(r.y,s.y),u=Math.min(i.y,o.y),c=Math.max(i.y,o.y),!(u>l)&&!(c<a)))}},uh.serialVersionUID.get=function(){return 0x51845cd552189800},Object.defineProperties(lh,uh);var ch={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},hh=function(t){this.geometryFactory=t||new $p};hh.prototype.read=function(t){var e,n,i;t=t.replace(/[\n\r]/g," ");var o=ch.typeStr.exec(t);if(-1!==t.search("EMPTY")&&((o=ch.emptyTypeStr.exec(t))[2]=void 0),o&&(n=o[1].toLowerCase(),i=o[2],fh[n]&&(e=fh[n].apply(this,[i]))),void 0===e)throw new Error("Could not parse WKT "+t);return e},hh.prototype.write=function(t){return this.extractGeometry(t)},hh.prototype.extractGeometry=function(t){var e=t.getGeometryType().toLowerCase();if(!ph[e])return null;var n=e.toUpperCase();return t.isEmpty()?n+" EMPTY":n+"("+ph[e].apply(this,[t])+")"};var ph={coordinate:function(t){return t.x+" "+t.y},point:function(t){return ph.coordinate.call(this,t._coordinates._coordinates[0])},multipoint:function(t){for(var e=[],n=0,i=t._geometries.length;n<i;++n)e.push("("+ph.point.apply(this,[t._geometries[n]])+")");return e.join(",")},linestring:function(t){for(var e=[],n=0,i=t._points._coordinates.length;n<i;++n)e.push(ph.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(",")},linearring:function(t){for(var e=[],n=0,i=t._points._coordinates.length;n<i;++n)e.push(ph.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(",")},multilinestring:function(t){for(var e=[],n=0,i=t._geometries.length;n<i;++n)e.push("("+ph.linestring.apply(this,[t._geometries[n]])+")");return e.join(",")},polygon:function(t){var e=[];e.push("("+ph.linestring.apply(this,[t._shell])+")");for(var n=0,i=t._holes.length;n<i;++n)e.push("("+ph.linestring.apply(this,[t._holes[n]])+")");return e.join(",")},multipolygon:function(t){for(var e=[],n=0,i=t._geometries.length;n<i;++n)e.push("("+ph.polygon.apply(this,[t._geometries[n]])+")");return e.join(",")},geometrycollection:function(t){for(var e=[],n=0,i=t._geometries.length;n<i;++n)e.push(this.extractGeometry(t._geometries[n]));return e.join(",")}},fh={point:function(t){if(void 0===t)return this.geometryFactory.createPoint();var e=t.trim().split(ch.spaces);return this.geometryFactory.createPoint(new jc(Number.parseFloat(e[0]),Number.parseFloat(e[1])))},multipoint:function(t){var e;if(void 0===t)return this.geometryFactory.createMultiPoint();for(var n=t.trim().split(","),i=[],o=0,r=n.length;o<r;++o)e=n[o].replace(ch.trimParens,"$1"),i.push(fh.point.apply(this,[e]));return this.geometryFactory.createMultiPoint(i)},linestring:function(t){if(void 0===t)return this.geometryFactory.createLineString();for(var e,n=t.trim().split(","),i=[],o=0,r=n.length;o<r;++o)e=n[o].trim().split(ch.spaces),i.push(new jc(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLineString(i)},linearring:function(t){if(void 0===t)return this.geometryFactory.createLinearRing();for(var e,n=t.trim().split(","),i=[],o=0,r=n.length;o<r;++o)e=n[o].trim().split(ch.spaces),i.push(new jc(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLinearRing(i)},multilinestring:function(t){var e;if(void 0===t)return this.geometryFactory.createMultiLineString();for(var n=t.trim().split(ch.parenComma),i=[],o=0,r=n.length;o<r;++o)e=n[o].replace(ch.trimParens,"$1"),i.push(fh.linestring.apply(this,[e]));return this.geometryFactory.createMultiLineString(i)},polygon:function(t){var e,n,i;if(void 0===t)return this.geometryFactory.createPolygon();for(var o,r=t.trim().split(ch.parenComma),s=[],a=0,l=r.length;a<l;++a)e=r[a].replace(ch.trimParens,"$1"),n=fh.linestring.apply(this,[e]),i=this.geometryFactory.createLinearRing(n._points),0===a?o=i:s.push(i);return this.geometryFactory.createPolygon(o,s)},multipolygon:function(t){var e;if(void 0===t)return this.geometryFactory.createMultiPolygon();for(var n=t.trim().split(ch.doubleParenComma),i=[],o=0,r=n.length;o<r;++o)e=n[o].replace(ch.trimParens,"$1"),i.push(fh.polygon.apply(this,[e]));return this.geometryFactory.createMultiPolygon(i)},geometrycollection:function(t){if(void 0===t)return this.geometryFactory.createGeometryCollection();for(var e=(t=t.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),n=[],i=0,o=e.length;i<o;++i)n.push(this.read(e[i]));return this.geometryFactory.createGeometryCollection(n)}},dh=function(t){this.parser=new hh(t)};dh.prototype.write=function(t){return this.parser.write(t)},dh.toLineString=function(t,e){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+t.x+" "+t.y+", "+e.x+" "+e.y+" )"};var gh=function(t){function e(e){t.call(this,e),this.name="RuntimeException",this.message=e,this.stack=(new t).stack}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),_h=function(t){function e(){if(t.call(this),0===arguments.length)t.call(this);else if(1===arguments.length){var e=arguments[0];t.call(this,e)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(gh),mh=function(){};mh.prototype.interfaces_=function(){return[]},mh.prototype.getClass=function(){return mh},mh.shouldNeverReachHere=function(){if(0===arguments.length)mh.shouldNeverReachHere(null);else if(1===arguments.length){var t=arguments[0];throw new _h("Should never reach here"+(null!==t?": "+t:""))}},mh.isTrue=function(){var t;if(1===arguments.length)mh.isTrue(arguments[0],null);else if(2===arguments.length&&(t=arguments[1],!arguments[0]))throw null===t?new _h:new _h(t)},mh.equals=function(){var t,e,n;if(2===arguments.length)mh.equals(t=arguments[0],e=arguments[1],null);else if(3===arguments.length&&(t=arguments[0],n=arguments[2],!(e=arguments[1]).equals(t)))throw new _h("Expected "+t+" but encountered "+e+(null!==n?": "+n:""))};var yh=function(){this._result=null,this._inputLines=Array(2).fill().map((function(){return Array(2)})),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new jc,this._intPt[1]=new jc,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},vh={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};yh.prototype.getIndexAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intLineIndex[t][e]},yh.prototype.getTopologySummary=function(){var t=new Xc;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()},yh.prototype.computeIntersection=function(t,e,n,i){this._inputLines[0][0]=t,this._inputLines[0][1]=e,this._inputLines[1][0]=n,this._inputLines[1][1]=i,this._result=this.computeIntersect(t,e,n,i)},yh.prototype.getIntersectionNum=function(){return this._result},yh.prototype.computeIntLineIndex=function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map((function(){return Array(2)})),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var t=arguments[0],e=this.getEdgeDistance(t,0),n=this.getEdgeDistance(t,1);e>n?(this._intLineIndex[t][0]=0,this._intLineIndex[t][1]=1):(this._intLineIndex[t][0]=1,this._intLineIndex[t][1]=0)}},yh.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},yh.prototype.setPrecisionModel=function(t){this._precisionModel=t},yh.prototype.isInteriorIntersection=function(){var t=this;if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var e=arguments[0],n=0;n<this._result;n++)if(!t._intPt[n].equals2D(t._inputLines[e][0])&&!t._intPt[n].equals2D(t._inputLines[e][1]))return!0;return!1}},yh.prototype.getIntersection=function(t){return this._intPt[t]},yh.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},yh.prototype.hasIntersection=function(){return this._result!==yh.NO_INTERSECTION},yh.prototype.getEdgeDistance=function(t,e){return yh.computeEdgeDistance(this._intPt[e],this._inputLines[t][0],this._inputLines[t][1])},yh.prototype.isCollinear=function(){return this._result===yh.COLLINEAR_INTERSECTION},yh.prototype.toString=function(){return dh.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+dh.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},yh.prototype.getEndpoint=function(t,e){return this._inputLines[t][e]},yh.prototype.isIntersection=function(t){for(var e=0;e<this._result;e++)if(this._intPt[e].equals2D(t))return!0;return!1},yh.prototype.getIntersectionAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[t][e]]},yh.prototype.interfaces_=function(){return[]},yh.prototype.getClass=function(){return yh},yh.computeEdgeDistance=function(t,e,n){var i=Math.abs(n.x-e.x),o=Math.abs(n.y-e.y),r=-1;if(t.equals(e))r=0;else if(t.equals(n))r=i>o?i:o;else{var s=Math.abs(t.x-e.x),a=Math.abs(t.y-e.y);0!==(r=i>o?s:a)||t.equals(e)||(r=Math.max(s,a))}return mh.isTrue(!(0===r&&!t.equals(e)),"Bad distance calculation"),r},yh.nonRobustComputeEdgeDistance=function(t,e,n){var i=t.x-e.x,o=t.y-e.y,r=Math.sqrt(i*i+o*o);return mh.isTrue(!(0===r&&!t.equals(e)),"Invalid distance calculation"),r},vh.DONT_INTERSECT.get=function(){return 0},vh.DO_INTERSECT.get=function(){return 1},vh.COLLINEAR.get=function(){return 2},vh.NO_INTERSECTION.get=function(){return 0},vh.POINT_INTERSECTION.get=function(){return 1},vh.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(yh,vh);var xh=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isInSegmentEnvelopes=function(t){var e=new lh(this._inputLines[0][0],this._inputLines[0][1]),n=new lh(this._inputLines[1][0],this._inputLines[1][1]);return e.contains(t)&&n.contains(t)},e.prototype.computeIntersection=function(){if(3!==arguments.length)return t.prototype.computeIntersection.apply(this,arguments);var e=arguments[0],n=arguments[1],i=arguments[2];if(this._isProper=!1,lh.intersects(n,i,e)&&0===Eh.orientationIndex(n,i,e)&&0===Eh.orientationIndex(i,n,e))return this._isProper=!0,(e.equals(n)||e.equals(i))&&(this._isProper=!1),this._result=t.POINT_INTERSECTION,null;this._result=t.NO_INTERSECTION},e.prototype.normalizeToMinimum=function(t,e,n,i,o){o.x=this.smallestInAbsValue(t.x,e.x,n.x,i.x),o.y=this.smallestInAbsValue(t.y,e.y,n.y,i.y),t.x-=o.x,t.y-=o.y,e.x-=o.x,e.y-=o.y,n.x-=o.x,n.y-=o.y,i.x-=o.x,i.y-=o.y},e.prototype.safeHCoordinateIntersection=function(t,n,i,o){var r=null;try{r=ah.intersection(t,n,i,o)}catch(s){if(!(s instanceof rh))throw s;r=e.nearestEndpoint(t,n,i,o)}return r},e.prototype.intersection=function(t,n,i,o){var r=this.intersectionWithNormalization(t,n,i,o);return this.isInSegmentEnvelopes(r)||(r=new jc(e.nearestEndpoint(t,n,i,o))),null!==this._precisionModel&&this._precisionModel.makePrecise(r),r},e.prototype.smallestInAbsValue=function(t,e,n,i){var o=t,r=Math.abs(o);return Math.abs(e)<r&&(o=e,r=Math.abs(e)),Math.abs(n)<r&&(o=n,r=Math.abs(n)),Math.abs(i)<r&&(o=i),o},e.prototype.checkDD=function(t,e,n,i,o){var r=th.intersection(t,e,n,i),s=this.isInSegmentEnvelopes(r);sh.out.println("DD in env = "+s+"  --------------------- "+r),o.distance(r)>1e-4&&sh.out.println("Distance = "+o.distance(r))},e.prototype.intersectionWithNormalization=function(t,e,n,i){var o=new jc(t),r=new jc(e),s=new jc(n),a=new jc(i),l=new jc;this.normalizeToEnvCentre(o,r,s,a,l);var u=this.safeHCoordinateIntersection(o,r,s,a);return u.x+=l.x,u.y+=l.y,u},e.prototype.computeCollinearIntersection=function(e,n,i,o){var r=lh.intersects(e,n,i),s=lh.intersects(e,n,o),a=lh.intersects(i,o,e),l=lh.intersects(i,o,n);return r&&s?(this._intPt[0]=i,this._intPt[1]=o,t.COLLINEAR_INTERSECTION):a&&l?(this._intPt[0]=e,this._intPt[1]=n,t.COLLINEAR_INTERSECTION):r&&a?(this._intPt[0]=i,this._intPt[1]=e,!i.equals(e)||s||l?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):r&&l?(this._intPt[0]=i,this._intPt[1]=n,!i.equals(n)||s||a?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):s&&a?(this._intPt[0]=o,this._intPt[1]=e,!o.equals(e)||r||l?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):s&&l?(this._intPt[0]=o,this._intPt[1]=n,!o.equals(n)||r||a?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):t.NO_INTERSECTION},e.prototype.normalizeToEnvCentre=function(t,e,n,i,o){var r=t.x<e.x?t.x:e.x,s=t.y<e.y?t.y:e.y,a=t.x>e.x?t.x:e.x,l=t.y>e.y?t.y:e.y,u=n.x<i.x?n.x:i.x,c=n.y<i.y?n.y:i.y,h=n.x>i.x?n.x:i.x,p=n.y>i.y?n.y:i.y,f=((r>u?r:u)+(a<h?a:h))/2,d=((s>c?s:c)+(l<p?l:p))/2;o.x=f,o.y=d,t.x-=o.x,t.y-=o.y,e.x-=o.x,e.y-=o.y,n.x-=o.x,n.y-=o.y,i.x-=o.x,i.y-=o.y},e.prototype.computeIntersect=function(e,n,i,o){if(this._isProper=!1,!lh.intersects(e,n,i,o))return t.NO_INTERSECTION;var r=Eh.orientationIndex(e,n,i),s=Eh.orientationIndex(e,n,o);if(r>0&&s>0||r<0&&s<0)return t.NO_INTERSECTION;var a=Eh.orientationIndex(i,o,e),l=Eh.orientationIndex(i,o,n);return a>0&&l>0||a<0&&l<0?t.NO_INTERSECTION:0===r&&0===s&&0===a&&0===l?this.computeCollinearIntersection(e,n,i,o):(0===r||0===s||0===a||0===l?(this._isProper=!1,e.equals2D(i)||e.equals2D(o)?this._intPt[0]=e:n.equals2D(i)||n.equals2D(o)?this._intPt[0]=n:0===r?this._intPt[0]=new jc(i):0===s?this._intPt[0]=new jc(o):0===a?this._intPt[0]=new jc(e):0===l&&(this._intPt[0]=new jc(n))):(this._isProper=!0,this._intPt[0]=this.intersection(e,n,i,o)),t.POINT_INTERSECTION)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.nearestEndpoint=function(t,e,n,i){var o=t,r=Eh.distancePointLine(t,n,i),s=Eh.distancePointLine(e,n,i);return s<r&&(r=s,o=e),(s=Eh.distancePointLine(n,t,e))<r&&(r=s,o=n),(s=Eh.distancePointLine(i,t,e))<r&&(r=s,o=i),o},e}(yh),bh=function(){};bh.prototype.interfaces_=function(){return[]},bh.prototype.getClass=function(){return bh},bh.orientationIndex=function(t,e,n){var i=e.x-t.x,o=e.y-t.y,r=n.x-e.x,s=n.y-e.y;return bh.signOfDet2x2(i,o,r,s)},bh.signOfDet2x2=function(t,e,n,i){var o=null,r=null,s=null;if(o=1,0===t||0===i)return 0===e||0===n?0:e>0?n>0?-o:o:n>0?o:-o;if(0===e||0===n)return i>0?t>0?o:-o:t>0?-o:o;if(e>0?i>0?e<=i||(o=-o,r=t,t=n,n=r,r=e,e=i,i=r):e<=-i?(o=-o,n=-n,i=-i):(r=t,t=-n,n=r,r=e,e=-i,i=r):i>0?-e<=i?(o=-o,t=-t,e=-e):(r=-t,t=n,n=r,r=-e,e=i,i=r):e>=i?(t=-t,e=-e,n=-n,i=-i):(o=-o,r=-t,t=-n,n=r,r=-e,e=-i,i=r),t>0){if(!(n>0))return o;if(!(t<=n))return o}else{if(n>0)return-o;if(!(t>=n))return-o;o=-o,t=-t,n=-n}for(;;){if((i-=(s=Math.floor(n/t))*e)<0)return-o;if(i>e)return o;if(t>(n-=s*t)+n){if(e<i+i)return o}else{if(e>i+i)return-o;n=t-n,i=e-i,o=-o}if(0===i)return 0===n?0:-o;if(0===n)return o;if((e-=(s=Math.floor(t/n))*i)<0)return o;if(e>i)return-o;if(n>(t-=s*n)+t){if(i<e+e)return-o}else{if(i>e+e)return o;t=n-t,e=i-e,o=-o}if(0===e)return 0===t?0:o;if(0===t)return-o}};var wh=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var t=arguments[0];this._p=t};wh.prototype.countSegment=function(t,e){if(t.x<this._p.x&&e.x<this._p.x)return null;if(this._p.x===e.x&&this._p.y===e.y)return this._isPointOnSegment=!0,null;if(t.y===this._p.y&&e.y===this._p.y){var n=t.x,i=e.x;return n>i&&(n=e.x,i=t.x),this._p.x>=n&&this._p.x<=i&&(this._isPointOnSegment=!0),null}if(t.y>this._p.y&&e.y<=this._p.y||e.y>this._p.y&&t.y<=this._p.y){var o=t.x-this._p.x,r=t.y-this._p.y,s=e.x-this._p.x,a=e.y-this._p.y,l=bh.signOfDet2x2(o,r,s,a);if(0===l)return this._isPointOnSegment=!0,null;a<r&&(l=-l),l>0&&this._crossingCount++}},wh.prototype.isPointInPolygon=function(){return this.getLocation()!==qc.EXTERIOR},wh.prototype.getLocation=function(){return this._isPointOnSegment?qc.BOUNDARY:this._crossingCount%2==1?qc.INTERIOR:qc.EXTERIOR},wh.prototype.isOnSegment=function(){return this._isPointOnSegment},wh.prototype.interfaces_=function(){return[]},wh.prototype.getClass=function(){return wh},wh.locatePointInRing=function(){if(arguments[0]instanceof jc&&Wc(arguments[1],nh)){for(var t=arguments[0],e=arguments[1],n=new wh(t),i=new jc,o=new jc,r=1;r<e.size();r++)if(e.getCoordinate(r,i),e.getCoordinate(r-1,o),n.countSegment(i,o),n.isOnSegment())return n.getLocation();return n.getLocation()}if(arguments[0]instanceof jc&&arguments[1]instanceof Array){for(var s=arguments[0],a=arguments[1],l=new wh(s),u=1;u<a.length;u++){var c=a[u],h=a[u-1];if(l.countSegment(c,h),l.isOnSegment())return l.getLocation()}return l.getLocation()}};var Eh=function(){},Ch={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};Eh.prototype.interfaces_=function(){return[]},Eh.prototype.getClass=function(){return Eh},Eh.orientationIndex=function(t,e,n){return th.orientationIndex(t,e,n)},Eh.signedArea=function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var e=0,n=t[0].x,i=1;i<t.length-1;i++){var o=t[i].x-n,r=t[i+1].y,s=t[i-1].y;e+=o*(s-r)}return e/2}if(Wc(arguments[0],nh)){var a=arguments[0],l=a.size();if(l<3)return 0;var u=new jc,c=new jc,h=new jc;a.getCoordinate(0,c),a.getCoordinate(1,h);var p=c.x;h.x-=p;for(var f=0,d=1;d<l-1;d++)u.y=c.y,c.x=h.x,c.y=h.y,a.getCoordinate(d+1,h),h.x-=p,f+=c.x*(u.y-h.y);return f/2}},Eh.distanceLineLine=function(t,e,n,i){if(t.equals(e))return Eh.distancePointLine(t,n,i);if(n.equals(i))return Eh.distancePointLine(i,t,e);var o=!1;if(lh.intersects(t,e,n,i)){var r=(e.x-t.x)*(i.y-n.y)-(e.y-t.y)*(i.x-n.x);if(0===r)o=!0;else{var s=(t.y-n.y)*(i.x-n.x)-(t.x-n.x)*(i.y-n.y),a=((t.y-n.y)*(e.x-t.x)-(t.x-n.x)*(e.y-t.y))/r,l=s/r;(l<0||l>1||a<0||a>1)&&(o=!0)}}else o=!0;return o?Zc.min(Eh.distancePointLine(t,n,i),Eh.distancePointLine(e,n,i),Eh.distancePointLine(n,t,e),Eh.distancePointLine(i,t,e)):0},Eh.isPointInRing=function(t,e){return Eh.locatePointInRing(t,e)!==qc.EXTERIOR},Eh.computeLength=function(t){var e=t.size();if(e<=1)return 0;var n=0,i=new jc;t.getCoordinate(0,i);for(var o=i.x,r=i.y,s=1;s<e;s++){t.getCoordinate(s,i);var a=i.x,l=i.y,u=a-o,c=l-r;n+=Math.sqrt(u*u+c*c),o=a,r=l}return n},Eh.isCCW=function(t){var e=t.length-1;if(e<3)throw new Ac("Ring has fewer than 4 points, so orientation cannot be determined");for(var n=t[0],i=0,o=1;o<=e;o++){var r=t[o];r.y>n.y&&(n=r,i=o)}var s=i;do{(s-=1)<0&&(s=e)}while(t[s].equals2D(n)&&s!==i);var a=i;do{a=(a+1)%e}while(t[a].equals2D(n)&&a!==i);var l=t[s],u=t[a];if(l.equals2D(n)||u.equals2D(n)||l.equals2D(u))return!1;var c=Eh.computeOrientation(l,n,u);return 0===c?l.x>u.x:c>0},Eh.locatePointInRing=function(t,e){return wh.locatePointInRing(t,e)},Eh.distancePointLinePerpendicular=function(t,e,n){var i=(n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y),o=((e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y))/i;return Math.abs(o)*Math.sqrt(i)},Eh.computeOrientation=function(t,e,n){return Eh.orientationIndex(t,e,n)},Eh.distancePointLine=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(0===e.length)throw new Ac("Line array must contain at least one vertex");for(var n=t.distance(e[0]),i=0;i<e.length-1;i++){var o=Eh.distancePointLine(t,e[i],e[i+1]);o<n&&(n=o)}return n}if(3===arguments.length){var r=arguments[0],s=arguments[1],a=arguments[2];if(s.x===a.x&&s.y===a.y)return r.distance(s);var l=(a.x-s.x)*(a.x-s.x)+(a.y-s.y)*(a.y-s.y),u=((r.x-s.x)*(a.x-s.x)+(r.y-s.y)*(a.y-s.y))/l;if(u<=0)return r.distance(s);if(u>=1)return r.distance(a);var c=((s.y-r.y)*(a.x-s.x)-(s.x-r.x)*(a.y-s.y))/l;return Math.abs(c)*Math.sqrt(l)}},Eh.isOnLine=function(t,e){for(var n=new xh,i=1;i<e.length;i++){var o=e[i-1],r=e[i];if(n.computeIntersection(t,o,r),n.hasIntersection())return!0}return!1},Ch.CLOCKWISE.get=function(){return-1},Ch.RIGHT.get=function(){return Eh.CLOCKWISE},Ch.COUNTERCLOCKWISE.get=function(){return 1},Ch.LEFT.get=function(){return Eh.COUNTERCLOCKWISE},Ch.COLLINEAR.get=function(){return 0},Ch.STRAIGHT.get=function(){return Eh.COLLINEAR},Object.defineProperties(Eh,Ch);var Sh=function(){};Sh.prototype.filter=function(t){},Sh.prototype.interfaces_=function(){return[]},Sh.prototype.getClass=function(){return Sh};var Ih=function(){var t=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=t,this._SRID=t.getSRID()},Lh={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};Ih.prototype.isGeometryCollection=function(){return this.getSortIndex()===Ih.SORTINDEX_GEOMETRYCOLLECTION},Ih.prototype.getFactory=function(){return this._factory},Ih.prototype.getGeometryN=function(t){return this},Ih.prototype.getArea=function(){return 0},Ih.prototype.isRectangle=function(){return!1},Ih.prototype.equals=function(){if(arguments[0]instanceof Ih){var t=arguments[0];return null!==t&&this.equalsTopo(t)}if(arguments[0]instanceof Object){var e=arguments[0];if(!(e instanceof Ih))return!1;var n=e;return this.equalsExact(n)}},Ih.prototype.equalsExact=function(t){return this===t||this.equalsExact(t,0)},Ih.prototype.geometryChanged=function(){this.apply(Ih.geometryChangedFilter)},Ih.prototype.geometryChangedAction=function(){this._envelope=null},Ih.prototype.equalsNorm=function(t){return null!==t&&this.norm().equalsExact(t.norm())},Ih.prototype.getLength=function(){return 0},Ih.prototype.getNumGeometries=function(){return 1},Ih.prototype.compareTo=function(){if(1===arguments.length){var t=arguments[0],e=t;return this.getSortIndex()!==e.getSortIndex()?this.getSortIndex()-e.getSortIndex():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(t)}if(2===arguments.length){var n=arguments[0],i=arguments[1];return this.getSortIndex()!==n.getSortIndex()?this.getSortIndex()-n.getSortIndex():this.isEmpty()&&n.isEmpty()?0:this.isEmpty()?-1:n.isEmpty()?1:this.compareToSameClass(n,i)}},Ih.prototype.getUserData=function(){return this._userData},Ih.prototype.getSRID=function(){return this._SRID},Ih.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},Ih.prototype.checkNotGeometryCollection=function(t){if(t.getSortIndex()===Ih.SORTINDEX_GEOMETRYCOLLECTION)throw new Ac("This method does not support GeometryCollection arguments")},Ih.prototype.equal=function(t,e,n){return 0===n?t.equals(e):t.distance(e)<=n},Ih.prototype.norm=function(){var t=this.copy();return t.normalize(),t},Ih.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},Ih.prototype.getEnvelopeInternal=function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new lh(this._envelope)},Ih.prototype.setSRID=function(t){this._SRID=t},Ih.prototype.setUserData=function(t){this._userData=t},Ih.prototype.compare=function(t,e){for(var n=t.iterator(),i=e.iterator();n.hasNext()&&i.hasNext();){var o=n.next(),r=i.next(),s=o.compareTo(r);if(0!==s)return s}return n.hasNext()?1:i.hasNext()?-1:0},Ih.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},Ih.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===Ih.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===Ih.SORTINDEX_MULTIPOINT||this.getSortIndex()===Ih.SORTINDEX_MULTILINESTRING||this.getSortIndex()===Ih.SORTINDEX_MULTIPOLYGON},Ih.prototype.interfaces_=function(){return[Fc,kc,Bc]},Ih.prototype.getClass=function(){return Ih},Ih.hasNonEmptyElements=function(t){for(var e=0;e<t.length;e++)if(!t[e].isEmpty())return!0;return!1},Ih.hasNullElements=function(t){for(var e=0;e<t.length;e++)if(null===t[e])return!0;return!1},Lh.serialVersionUID.get=function(){return 0x799ea46522854c00},Lh.SORTINDEX_POINT.get=function(){return 0},Lh.SORTINDEX_MULTIPOINT.get=function(){return 1},Lh.SORTINDEX_LINESTRING.get=function(){return 2},Lh.SORTINDEX_LINEARRING.get=function(){return 3},Lh.SORTINDEX_MULTILINESTRING.get=function(){return 4},Lh.SORTINDEX_POLYGON.get=function(){return 5},Lh.SORTINDEX_MULTIPOLYGON.get=function(){return 6},Lh.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},Lh.geometryChangedFilter.get=function(){return Ph},Object.defineProperties(Ih,Lh);var Ph=function(){};Ph.interfaces_=function(){return[Sh]},Ph.filter=function(t){t.geometryChangedAction()};var Mh=function(){};Mh.prototype.filter=function(t){},Mh.prototype.interfaces_=function(){return[]},Mh.prototype.getClass=function(){return Mh};var Nh=function(){},Th={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};Nh.prototype.isInBoundary=function(t){},Nh.prototype.interfaces_=function(){return[]},Nh.prototype.getClass=function(){return Nh},Th.Mod2BoundaryNodeRule.get=function(){return Oh},Th.EndPointBoundaryNodeRule.get=function(){return Ah},Th.MultiValentEndPointBoundaryNodeRule.get=function(){return Rh},Th.MonoValentEndPointBoundaryNodeRule.get=function(){return Dh},Th.MOD2_BOUNDARY_RULE.get=function(){return new Oh},Th.ENDPOINT_BOUNDARY_RULE.get=function(){return new Ah},Th.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new Rh},Th.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new Dh},Th.OGC_SFS_BOUNDARY_RULE.get=function(){return Nh.MOD2_BOUNDARY_RULE},Object.defineProperties(Nh,Th);var Oh=function(){};Oh.prototype.isInBoundary=function(t){return t%2==1},Oh.prototype.interfaces_=function(){return[Nh]},Oh.prototype.getClass=function(){return Oh};var Ah=function(){};Ah.prototype.isInBoundary=function(t){return t>0},Ah.prototype.interfaces_=function(){return[Nh]},Ah.prototype.getClass=function(){return Ah};var Rh=function(){};Rh.prototype.isInBoundary=function(t){return t>1},Rh.prototype.interfaces_=function(){return[Nh]},Rh.prototype.getClass=function(){return Rh};var Dh=function(){};Dh.prototype.isInBoundary=function(t){return 1===t},Dh.prototype.interfaces_=function(){return[Nh]},Dh.prototype.getClass=function(){return Dh};var kh=function(){};function Fh(t){this.message=t||""}kh.prototype.add=function(){},kh.prototype.addAll=function(){},kh.prototype.isEmpty=function(){},kh.prototype.iterator=function(){},kh.prototype.size=function(){},kh.prototype.toArray=function(){},kh.prototype.remove=function(){},Fh.prototype=new Error,Fh.prototype.name="IndexOutOfBoundsException";var zh=function(){};zh.prototype.hasNext=function(){},zh.prototype.next=function(){},zh.prototype.remove=function(){};var Bh=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(){},e.prototype.set=function(){},e.prototype.isEmpty=function(){},e}(kh);function jh(t){this.message=t||""}jh.prototype=new Error,jh.prototype.name="NoSuchElementException";var Vh=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof kh&&this.addAll(arguments[0])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.ensureCapacity=function(){},e.prototype.interfaces_=function(){return[t,kh]},e.prototype.add=function(t){return 1===arguments.length?this.array_.push(t):this.array_.splice(arguments[0],arguments[1]),!0},e.prototype.clear=function(){this.array_=[]},e.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},e.prototype.set=function(t,e){var n=this.array_[t];return this.array_[t]=e,n},e.prototype.iterator=function(){return new Gh(this)},e.prototype.get=function(t){if(t<0||t>=this.size())throw new Fh;return this.array_[t]},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.size=function(){return this.array_.length},e.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},e.prototype.remove=function(t){for(var e=!1,n=0,i=this.array_.length;n<i;n++)if(this.array_[n]===t){this.array_.splice(n,1),e=!0;break}return e},e}(Bh),Gh=function(t){function e(e){t.call(this),this.arrayList_=e,this.position_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new jh;return this.arrayList_.get(this.position_++)},e.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},e.prototype.set=function(t){return this.arrayList_.set(this.position_-1,t)},e.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},e}(zh),Uh=function(t){function e(){if(t.call(this),0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.ensureCapacity(e.length),this.add(e,!0)}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.ensureCapacity(n.length),this.add(n,i)}}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={coordArrayType:{configurable:!0}};return n.coordArrayType.get=function(){return new Array(0).fill(null)},e.prototype.getCoordinate=function(t){return this.get(t)},e.prototype.addAll=function(){var e=this;if(2===arguments.length){for(var n=arguments[0],i=arguments[1],o=!1,r=n.iterator();r.hasNext();)e.add(r.next(),i),o=!0;return o}return t.prototype.addAll.apply(this,arguments)},e.prototype.clone=function(){for(var e=t.prototype.clone.call(this),n=0;n<this.size();n++)e.add(n,this.get(n).copy());return e},e.prototype.toCoordinateArray=function(){return this.toArray(e.coordArrayType)},e.prototype.add=function(){var e=this;if(1===arguments.length){var n=arguments[0];t.prototype.add.call(this,n)}else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var i=arguments[0],o=arguments[1];return this.add(i,o,!0),!0}if(arguments[0]instanceof jc&&"boolean"==typeof arguments[1]){var r=arguments[0],s=arguments[1];if(!s&&this.size()>=1){var a=this.get(this.size()-1);if(a.equals2D(r))return null}t.prototype.add.call(this,r)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1]){var l=arguments[0],u=arguments[1];return this.add(l,u),!0}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var c=arguments[0],h=arguments[1],p=arguments[2];if(p)for(var f=0;f<c.length;f++)e.add(c[f],h);else for(var d=c.length-1;d>=0;d--)e.add(c[d],h);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof jc){var g=arguments[0],_=arguments[1],m=arguments[2];if(!m){var y=this.size();if(y>0){if(g>0){var v=this.get(g-1);if(v.equals2D(_))return null}if(g<y){var x=this.get(g);if(x.equals2D(_))return null}}}t.prototype.add.call(this,g,_)}}else if(4===arguments.length){var b=arguments[0],w=arguments[1],E=arguments[2],C=arguments[3],S=1;E>C&&(S=-1);for(var I=E;I!==C;I+=S)e.add(b[I],w);return!0}},e.prototype.closeRing=function(){this.size()>0&&this.add(new jc(this.get(0)),!1)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},Object.defineProperties(e,n),e}(Vh),qh=function(){},Hh={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};Hh.ForwardComparator.get=function(){return Wh},Hh.BidirectionalComparator.get=function(){return Zh},Hh.coordArrayType.get=function(){return new Array(0).fill(null)},qh.prototype.interfaces_=function(){return[]},qh.prototype.getClass=function(){return qh},qh.isRing=function(t){return!(t.length<4)&&!!t[0].equals2D(t[t.length-1])},qh.ptNotInList=function(t,e){for(var n=0;n<t.length;n++){var i=t[n];if(qh.indexOf(i,e)<0)return i}return null},qh.scroll=function(t,e){var n=qh.indexOf(e,t);if(n<0)return null;var i=new Array(t.length).fill(null);sh.arraycopy(t,n,i,0,t.length-n),sh.arraycopy(t,0,i,t.length-n,n),sh.arraycopy(i,0,t,0,t.length)},qh.equals=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(t===e)return!0;if(null===t||null===e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].equals(e[n]))return!1;return!0}if(3===arguments.length){var i=arguments[0],o=arguments[1],r=arguments[2];if(i===o)return!0;if(null===i||null===o)return!1;if(i.length!==o.length)return!1;for(var s=0;s<i.length;s++)if(0!==r.compare(i[s],o[s]))return!1;return!0}},qh.intersection=function(t,e){for(var n=new Uh,i=0;i<t.length;i++)e.intersects(t[i])&&n.add(t[i],!0);return n.toCoordinateArray()},qh.hasRepeatedPoints=function(t){for(var e=1;e<t.length;e++)if(t[e-1].equals(t[e]))return!0;return!1},qh.removeRepeatedPoints=function(t){return qh.hasRepeatedPoints(t)?new Uh(t,!1).toCoordinateArray():t},qh.reverse=function(t){for(var e=t.length-1,n=Math.trunc(e/2),i=0;i<=n;i++){var o=t[i];t[i]=t[e-i],t[e-i]=o}},qh.removeNull=function(t){for(var e=0,n=0;n<t.length;n++)null!==t[n]&&e++;var i=new Array(e).fill(null);if(0===e)return i;for(var o=0,r=0;r<t.length;r++)null!==t[r]&&(i[o++]=t[r]);return i},qh.copyDeep=function(){if(1===arguments.length){for(var t=arguments[0],e=new Array(t.length).fill(null),n=0;n<t.length;n++)e[n]=new jc(t[n]);return e}if(5===arguments.length)for(var i=arguments[0],o=arguments[1],r=arguments[2],s=arguments[3],a=arguments[4],l=0;l<a;l++)r[s+l]=new jc(i[o+l])},qh.isEqualReversed=function(t,e){for(var n=0;n<t.length;n++){var i=t[n],o=e[t.length-n-1];if(0!==i.compareTo(o))return!1}return!0},qh.envelope=function(t){for(var e=new lh,n=0;n<t.length;n++)e.expandToInclude(t[n]);return e},qh.toCoordinateArray=function(t){return t.toArray(qh.coordArrayType)},qh.atLeastNCoordinatesOrNothing=function(t,e){return e.length>=t?e:[]},qh.indexOf=function(t,e){for(var n=0;n<e.length;n++)if(t.equals(e[n]))return n;return-1},qh.increasingDirection=function(t){for(var e=0;e<Math.trunc(t.length/2);e++){var n=t.length-1-e,i=t[e].compareTo(t[n]);if(0!==i)return i}return 1},qh.compare=function(t,e){for(var n=0;n<t.length&&n<e.length;){var i=t[n].compareTo(e[n]);if(0!==i)return i;n++}return n<e.length?-1:n<t.length?1:0},qh.minCoordinate=function(t){for(var e=null,n=0;n<t.length;n++)(null===e||e.compareTo(t[n])>0)&&(e=t[n]);return e},qh.extract=function(t,e,n){e=Zc.clamp(e,0,t.length);var i=(n=Zc.clamp(n,-1,t.length))-e+1;n<0&&(i=0),e>=t.length&&(i=0),n<e&&(i=0);var o=new Array(i).fill(null);if(0===i)return o;for(var r=0,s=e;s<=n;s++)o[r++]=t[s];return o},Object.defineProperties(qh,Hh);var Wh=function(){};Wh.prototype.compare=function(t,e){return qh.compare(t,e)},Wh.prototype.interfaces_=function(){return[zc]},Wh.prototype.getClass=function(){return Wh};var Zh=function(){};Zh.prototype.compare=function(t,e){var n=t,i=e;if(n.length<i.length)return-1;if(n.length>i.length)return 1;if(0===n.length)return 0;var o=qh.compare(n,i);return qh.isEqualReversed(n,i)?0:o},Zh.prototype.OLDcompare=function(t,e){var n=t,i=e;if(n.length<i.length)return-1;if(n.length>i.length)return 1;if(0===n.length)return 0;for(var o=qh.increasingDirection(n),r=qh.increasingDirection(i),s=o>0?0:n.length-1,a=r>0?0:n.length-1,l=0;l<n.length;l++){var u=n[s].compareTo(i[a]);if(0!==u)return u;s+=o,a+=r}return 0},Zh.prototype.interfaces_=function(){return[zc]},Zh.prototype.getClass=function(){return Zh};var Yh=function(){};Yh.prototype.get=function(){},Yh.prototype.put=function(){},Yh.prototype.size=function(){},Yh.prototype.values=function(){},Yh.prototype.entrySet=function(){};var Xh=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Yh);function $h(t){this.message=t||""}function Kh(){}$h.prototype=new Error,$h.prototype.name="OperationNotSupported",Kh.prototype=new kh,Kh.prototype.contains=function(){};var Jh=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof kh&&this.addAll(arguments[0])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contains=function(t){for(var e=0,n=this.array_.length;e<n;e++){if(this.array_[e]===t)return!0}return!1},e.prototype.add=function(t){return!this.contains(t)&&(this.array_.push(t),!0)},e.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},e.prototype.remove=function(t){throw new Error},e.prototype.size=function(){return this.array_.length},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},e.prototype.iterator=function(){return new Qh(this)},e}(Kh),Qh=function(t){function e(e){t.call(this),this.hashSet_=e,this.position_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new jh;return this.hashSet_.array_[this.position_++]},e.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},e.prototype.remove=function(){throw new $h},e}(zh);function tp(t){return null===t?0:t.color}function ep(t){return null===t?null:t.parent}function np(t,e){null!==t&&(t.color=e)}function ip(t){return null===t?null:t.left}function op(t){return null===t?null:t.right}function rp(){this.root_=null,this.size_=0}rp.prototype=new Xh,rp.prototype.get=function(t){for(var e=this.root_;null!==e;){var n=t.compareTo(e.key);if(n<0)e=e.left;else{if(!(n>0))return e.value;e=e.right}}return null},rp.prototype.put=function(t,e){if(null===this.root_)return this.root_={key:t,value:e,left:null,right:null,parent:null,color:0,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var n,i,o=this.root_;do{if(n=o,(i=t.compareTo(o.key))<0)o=o.left;else{if(!(i>0)){var r=o.value;return o.value=e,r}o=o.right}}while(null!==o);var s={key:t,left:null,right:null,value:e,parent:n,color:0,getValue:function(){return this.value},getKey:function(){return this.key}};return i<0?n.left=s:n.right=s,this.fixAfterInsertion(s),this.size_++,null},rp.prototype.fixAfterInsertion=function(t){var e=this;for(t.color=1;null!=t&&t!==this.root_&&1===t.parent.color;)if(ep(t)===ip(ep(ep(t)))){var n=op(ep(ep(t)));1===tp(n)?(np(ep(t),0),np(n,0),np(ep(ep(t)),1),t=ep(ep(t))):(t===op(ep(t))&&(t=ep(t),e.rotateLeft(t)),np(ep(t),0),np(ep(ep(t)),1),e.rotateRight(ep(ep(t))))}else{var i=ip(ep(ep(t)));1===tp(i)?(np(ep(t),0),np(i,0),np(ep(ep(t)),1),t=ep(ep(t))):(t===ip(ep(t))&&(t=ep(t),e.rotateRight(t)),np(ep(t),0),np(ep(ep(t)),1),e.rotateLeft(ep(ep(t))))}this.root_.color=0},rp.prototype.values=function(){var t=new Vh,e=this.getFirstEntry();if(null!==e)for(t.add(e.value);null!==(e=rp.successor(e));)t.add(e.value);return t},rp.prototype.entrySet=function(){var t=new Jh,e=this.getFirstEntry();if(null!==e)for(t.add(e);null!==(e=rp.successor(e));)t.add(e);return t},rp.prototype.rotateLeft=function(t){if(null!=t){var e=t.right;t.right=e.left,null!=e.left&&(e.left.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.left===t?t.parent.left=e:t.parent.right=e,e.left=t,t.parent=e}},rp.prototype.rotateRight=function(t){if(null!=t){var e=t.left;t.left=e.right,null!=e.right&&(e.right.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.right===t?t.parent.right=e:t.parent.left=e,e.right=t,t.parent=e}},rp.prototype.getFirstEntry=function(){var t=this.root_;if(null!=t)for(;null!=t.left;)t=t.left;return t},rp.successor=function(t){if(null===t)return null;if(null!==t.right){for(var e=t.right;null!==e.left;)e=e.left;return e}for(var n=t.parent,i=t;null!==n&&i===n.right;)i=n,n=n.parent;return n},rp.prototype.size=function(){return this.size_};var sp=function(){};function ap(){}function lp(){this.array_=[],arguments[0]instanceof kh&&this.addAll(arguments[0])}sp.prototype.interfaces_=function(){return[]},sp.prototype.getClass=function(){return sp},ap.prototype=new Kh,lp.prototype=new ap,lp.prototype.contains=function(t){for(var e=0,n=this.array_.length;e<n;e++){if(0===this.array_[e].compareTo(t))return!0}return!1},lp.prototype.add=function(t){if(this.contains(t))return!1;for(var e=0,n=this.array_.length;e<n;e++){if(1===this.array_[e].compareTo(t))return this.array_.splice(e,0,t),!0}return this.array_.push(t),!0},lp.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},lp.prototype.remove=function(t){throw new $h},lp.prototype.size=function(){return this.array_.length},lp.prototype.isEmpty=function(){return 0===this.array_.length},lp.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},lp.prototype.iterator=function(){return new up(this)};var up=function(t){this.treeSet_=t,this.position_=0};up.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new jh;return this.treeSet_.array_[this.position_++]},up.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},up.prototype.remove=function(){throw new $h};var cp=function(){};cp.sort=function(){var t,e,n,i,o=arguments[0];if(1===arguments.length)i=function(t,e){return t.compareTo(e)},o.sort(i);else if(2===arguments.length)n=arguments[1],i=function(t,e){return n.compare(t,e)},o.sort(i);else if(3===arguments.length){(e=o.slice(arguments[1],arguments[2])).sort();var r=o.slice(0,arguments[1]).concat(e,o.slice(arguments[2],o.length));for(o.splice(0,o.length),t=0;t<r.length;t++)o.push(r[t])}else if(4===arguments.length)for(e=o.slice(arguments[1],arguments[2]),n=arguments[3],i=function(t,e){return n.compare(t,e)},e.sort(i),r=o.slice(0,arguments[1]).concat(e,o.slice(arguments[2],o.length)),o.splice(0,o.length),t=0;t<r.length;t++)o.push(r[t])},cp.asList=function(t){for(var e=new Vh,n=0,i=t.length;n<i;n++)e.add(t[n]);return e};var hp=function(){},pp={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};pp.P.get=function(){return 0},pp.L.get=function(){return 1},pp.A.get=function(){return 2},pp.FALSE.get=function(){return-1},pp.TRUE.get=function(){return-2},pp.DONTCARE.get=function(){return-3},pp.SYM_FALSE.get=function(){return"F"},pp.SYM_TRUE.get=function(){return"T"},pp.SYM_DONTCARE.get=function(){return"*"},pp.SYM_P.get=function(){return"0"},pp.SYM_L.get=function(){return"1"},pp.SYM_A.get=function(){return"2"},hp.prototype.interfaces_=function(){return[]},hp.prototype.getClass=function(){return hp},hp.toDimensionSymbol=function(t){switch(t){case hp.FALSE:return hp.SYM_FALSE;case hp.TRUE:return hp.SYM_TRUE;case hp.DONTCARE:return hp.SYM_DONTCARE;case hp.P:return hp.SYM_P;case hp.L:return hp.SYM_L;case hp.A:return hp.SYM_A}throw new Ac("Unknown dimension value: "+t)},hp.toDimensionValue=function(t){switch(Kc.toUpperCase(t)){case hp.SYM_FALSE:return hp.FALSE;case hp.SYM_TRUE:return hp.TRUE;case hp.SYM_DONTCARE:return hp.DONTCARE;case hp.SYM_P:return hp.P;case hp.SYM_L:return hp.L;case hp.SYM_A:return hp.A}throw new Ac("Unknown dimension symbol: "+t)},Object.defineProperties(hp,pp);var fp=function(){};fp.prototype.filter=function(t){},fp.prototype.interfaces_=function(){return[]},fp.prototype.getClass=function(){return fp};var dp=function(){};dp.prototype.filter=function(t,e){},dp.prototype.isDone=function(){},dp.prototype.isGeometryChanged=function(){},dp.prototype.interfaces_=function(){return[]},dp.prototype.getClass=function(){return dp};var gp=function(t){function e(e,n){if(t.call(this,n),this._geometries=e||[],t.hasNullElements(this._geometries))throw new Ac("geometries must not contain null elements")}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){for(var t=new lh,e=0;e<this._geometries.length;e++)t.expandToInclude(this._geometries[e].getEnvelopeInternal());return t},e.prototype.getGeometryN=function(t){return this._geometries[t]},e.prototype.getSortIndex=function(){return t.SORTINDEX_GEOMETRYCOLLECTION},e.prototype.getCoordinates=function(){for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=0;n<this._geometries.length;n++)for(var i=this._geometries[n].getCoordinates(),o=0;o<i.length;o++)t[++e]=i[o];return t},e.prototype.getArea=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getArea();return t},e.prototype.equalsExact=function(){var e=this;if(2===arguments.length){var n=arguments[0],i=arguments[1];if(!this.isEquivalentClass(n))return!1;var o=n;if(this._geometries.length!==o._geometries.length)return!1;for(var r=0;r<this._geometries.length;r++)if(!e._geometries[r].equalsExact(o._geometries[r],i))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var t=0;t<this._geometries.length;t++)this._geometries[t].normalize();cp.sort(this._geometries)},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},e.prototype.getBoundaryDimension=function(){for(var t=hp.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getBoundaryDimension());return t},e.prototype.getDimension=function(){for(var t=hp.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getDimension());return t},e.prototype.getLength=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getLength();return t},e.prototype.getNumPoints=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getNumPoints();return t},e.prototype.getNumGeometries=function(){return this._geometries.length},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[n]=this._geometries[n].reverse();return this.getFactory().createGeometryCollection(e)},e.prototype.compareToSameClass=function(){var t=this;if(1===arguments.length){var e=arguments[0],n=new lp(cp.asList(this._geometries)),i=new lp(cp.asList(e._geometries));return this.compare(n,i)}if(2===arguments.length){for(var o=arguments[0],r=arguments[1],s=o,a=this.getNumGeometries(),l=s.getNumGeometries(),u=0;u<a&&u<l;){var c=t.getGeometryN(u),h=s.getGeometryN(u),p=c.compareToSameClass(h,r);if(0!==p)return p;u++}return u<a?1:u<l?-1:0}},e.prototype.apply=function(){var t=this;if(Wc(arguments[0],Mh))for(var e=arguments[0],n=0;n<this._geometries.length;n++)t._geometries[n].apply(e);else if(Wc(arguments[0],dp)){var i=arguments[0];if(0===this._geometries.length)return null;for(var o=0;o<this._geometries.length&&(t._geometries[o].apply(i),!i.isDone());o++);i.isGeometryChanged()&&this.geometryChanged()}else if(Wc(arguments[0],fp)){var r=arguments[0];r.filter(this);for(var s=0;s<this._geometries.length;s++)t._geometries[s].apply(r)}else if(Wc(arguments[0],Sh)){var a=arguments[0];a.filter(this);for(var l=0;l<this._geometries.length;l++)t._geometries[l].apply(a)}},e.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),mh.shouldNeverReachHere(),null},e.prototype.clone=function(){var e=t.prototype.clone.call(this);e._geometries=new Array(this._geometries.length).fill(null);for(var n=0;n<this._geometries.length;n++)e._geometries[n]=this._geometries[n].clone();return e},e.prototype.getGeometryType=function(){return"GeometryCollection"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.isEmpty=function(){for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isEmpty())return!1;return!0},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x4f07bcb1f857d800},Object.defineProperties(e,n),e}(Ih),_p=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return Ih.SORTINDEX_MULTILINESTRING},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?hp.FALSE:0},e.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isClosed())return!1;return!0},e.prototype.getDimension=function(){return 1},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[t-1-n]=this._geometries[n].reverse();return this.getFactory().createMultiLineString(e)},e.prototype.getBoundary=function(){return new mp(this).getBoundary()},e.prototype.getGeometryType=function(){return"MultiLineString"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[sp]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x7155d2ab4afa8000},Object.defineProperties(e,n),e}(gp),mp=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length){var t=arguments[0],e=Nh.MOD2_BOUNDARY_RULE;this._geom=t,this._geomFact=t.getFactory(),this._bnRule=e}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this._geom=n,this._geomFact=n.getFactory(),this._bnRule=i}};mp.prototype.boundaryMultiLineString=function(t){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var e=this.computeBoundaryCoordinates(t);return 1===e.length?this._geomFact.createPoint(e[0]):this._geomFact.createMultiPointFromCoords(e)},mp.prototype.getBoundary=function(){return this._geom instanceof Pp?this.boundaryLineString(this._geom):this._geom instanceof _p?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},mp.prototype.boundaryLineString=function(t){return this._geom.isEmpty()?this.getEmptyMultiPoint():t.isClosed()?this._bnRule.isInBoundary(2)?t.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([t.getStartPoint(),t.getEndPoint()])},mp.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},mp.prototype.computeBoundaryCoordinates=function(t){var e=this,n=new Vh;this._endpointMap=new rp;for(var i=0;i<t.getNumGeometries();i++){var o=t.getGeometryN(i);0!==o.getNumPoints()&&(e.addEndpoint(o.getCoordinateN(0)),e.addEndpoint(o.getCoordinateN(o.getNumPoints()-1)))}for(var r=this._endpointMap.entrySet().iterator();r.hasNext();){var s=r.next(),a=s.getValue().count;e._bnRule.isInBoundary(a)&&n.add(s.getKey())}return qh.toCoordinateArray(n)},mp.prototype.addEndpoint=function(t){var e=this._endpointMap.get(t);null===e&&(e=new yp,this._endpointMap.put(t,e)),e.count++},mp.prototype.interfaces_=function(){return[]},mp.prototype.getClass=function(){return mp},mp.getBoundary=function(){if(1===arguments.length){var t=arguments[0],e=new mp(t);return e.getBoundary()}if(2===arguments.length){var n=arguments[0],i=arguments[1],o=new mp(n,i);return o.getBoundary()}};var yp=function(){this.count=null};function vp(){}function xp(){}yp.prototype.interfaces_=function(){return[]},yp.prototype.getClass=function(){return yp};var bp=function(){};function wp(){}function Ep(){}function Cp(){}var Sp=function(){},Ip={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};Sp.prototype.interfaces_=function(){return[]},Sp.prototype.getClass=function(){return Sp},Sp.chars=function(t,e){for(var n=new Array(e).fill(null),i=0;i<e;i++)n[i]=t;return String(n)},Sp.getStackTrace=function(){if(1===arguments.length){var t=arguments[0],e=new wp,n=new vp(e);return t.printStackTrace(n),e.toString()}if(2===arguments.length){for(var i=arguments[0],o=arguments[1],r="",s=new xp(Sp.getStackTrace(i)),a=new Cp(s),l=0;l<o;l++)try{r+=a.readLine()+Sp.NEWLINE}catch(u){if(!(u instanceof Ep))throw u;mh.shouldNeverReachHere()}return r}},Sp.split=function(t,e){for(var n=e.length,i=new Vh,o=""+t,r=o.indexOf(e);r>=0;){var s=o.substring(0,r);i.add(s),r=(o=o.substring(r+n)).indexOf(e)}o.length>0&&i.add(o);for(var a=new Array(i.size()).fill(null),l=0;l<a.length;l++)a[l]=i.get(l);return a},Sp.toString=function(){if(1===arguments.length){var t=arguments[0];return Sp.SIMPLE_ORDINATE_FORMAT.format(t)}},Sp.spaces=function(t){return Sp.chars(" ",t)},Ip.NEWLINE.get=function(){return sh.getProperty("line.separator")},Ip.SIMPLE_ORDINATE_FORMAT.get=function(){return new bp("0.#")},Object.defineProperties(Sp,Ip);var Lp=function(){};Lp.prototype.interfaces_=function(){return[]},Lp.prototype.getClass=function(){return Lp},Lp.copyCoord=function(t,e,n,i){for(var o=Math.min(t.getDimension(),n.getDimension()),r=0;r<o;r++)n.setOrdinate(i,r,t.getOrdinate(e,r))},Lp.isRing=function(t){var e=t.size();return 0===e||!(e<=3)&&(t.getOrdinate(0,nh.X)===t.getOrdinate(e-1,nh.X)&&t.getOrdinate(0,nh.Y)===t.getOrdinate(e-1,nh.Y))},Lp.isEqual=function(t,e){var n=t.size();if(n!==e.size())return!1;for(var i=Math.min(t.getDimension(),e.getDimension()),o=0;o<n;o++)for(var r=0;r<i;r++){var s=t.getOrdinate(o,r),a=e.getOrdinate(o,r);if(t.getOrdinate(o,r)!==e.getOrdinate(o,r)&&(!Rc.isNaN(s)||!Rc.isNaN(a)))return!1}return!0},Lp.extend=function(t,e,n){var i=t.create(n,e.getDimension()),o=e.size();if(Lp.copy(e,0,i,0,o),o>0)for(var r=o;r<n;r++)Lp.copy(e,o-1,i,r,1);return i},Lp.reverse=function(t){for(var e=t.size()-1,n=Math.trunc(e/2),i=0;i<=n;i++)Lp.swap(t,i,e-i)},Lp.swap=function(t,e,n){if(e===n)return null;for(var i=0;i<t.getDimension();i++){var o=t.getOrdinate(e,i);t.setOrdinate(e,i,t.getOrdinate(n,i)),t.setOrdinate(n,i,o)}},Lp.copy=function(t,e,n,i,o){for(var r=0;r<o;r++)Lp.copyCoord(t,e+r,n,i+r)},Lp.toString=function(){if(1===arguments.length){var t=arguments[0],e=t.size();if(0===e)return"()";var n=t.getDimension(),i=new Xc;i.append("(");for(var o=0;o<e;o++){o>0&&i.append(" ");for(var r=0;r<n;r++)r>0&&i.append(","),i.append(Sp.toString(t.getOrdinate(o,r)))}return i.append(")"),i.toString()}},Lp.ensureValidRing=function(t,e){var n=e.size();return 0===n?e:n<=3?Lp.createClosedRing(t,e,4):e.getOrdinate(0,nh.X)===e.getOrdinate(n-1,nh.X)&&e.getOrdinate(0,nh.Y)===e.getOrdinate(n-1,nh.Y)?e:Lp.createClosedRing(t,e,n+1)},Lp.createClosedRing=function(t,e,n){var i=t.create(n,e.getDimension()),o=e.size();Lp.copy(e,0,i,0,o);for(var r=o;r<n;r++)Lp.copy(e,0,i,r,1);return i};var Pp=function(t){function e(e,n){t.call(this,n),this._points=null,this.init(e)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new lh:this._points.expandEnvelope(new lh)},e.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},e.prototype.getSortIndex=function(){return t.SORTINDEX_LINESTRING},e.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},e.prototype.equalsExact=function(){var e=this;if(2===arguments.length){var n=arguments[0],i=arguments[1];if(!this.isEquivalentClass(n))return!1;var o=n;if(this._points.size()!==o._points.size())return!1;for(var r=0;r<this._points.size();r++)if(!e.equal(e._points.getCoordinate(r),o._points.getCoordinate(r),i))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var t=this,e=0;e<Math.trunc(this._points.size()/2);e++){var n=t._points.size()-1-e;if(!t._points.getCoordinate(e).equals(t._points.getCoordinate(n)))return t._points.getCoordinate(e).compareTo(t._points.getCoordinate(n))>0&&Lp.reverse(t._points),null}},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?hp.FALSE:0},e.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},e.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},e.prototype.getDimension=function(){return 1},e.prototype.getLength=function(){return Eh.computeLength(this._points)},e.prototype.getNumPoints=function(){return this._points.size()},e.prototype.reverse=function(){var t=this._points.copy();return Lp.reverse(t),this.getFactory().createLineString(t)},e.prototype.compareToSameClass=function(){var t=this;if(1===arguments.length){for(var e=arguments[0],n=e,i=0,o=0;i<this._points.size()&&o<n._points.size();){var r=t._points.getCoordinate(i).compareTo(n._points.getCoordinate(o));if(0!==r)return r;i++,o++}return i<this._points.size()?1:o<n._points.size()?-1:0}if(2===arguments.length){var s=arguments[0],a=arguments[1],l=s;return a.compare(this._points,l._points)}},e.prototype.apply=function(){var t=this;if(Wc(arguments[0],Mh))for(var e=arguments[0],n=0;n<this._points.size();n++)e.filter(t._points.getCoordinate(n));else if(Wc(arguments[0],dp)){var i=arguments[0];if(0===this._points.size())return null;for(var o=0;o<this._points.size()&&(i.filter(t._points,o),!i.isDone());o++);i.isGeometryChanged()&&this.geometryChanged()}else if(Wc(arguments[0],fp)){var r=arguments[0];r.filter(this)}else if(Wc(arguments[0],Sh)){var s=arguments[0];s.filter(this)}},e.prototype.getBoundary=function(){return new mp(this).getBoundary()},e.prototype.isEquivalentClass=function(t){return t instanceof e},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._points=this._points.clone(),e},e.prototype.getCoordinateN=function(t){return this._points.getCoordinate(t)},e.prototype.getGeometryType=function(){return"LineString"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._points},e.prototype.isEmpty=function(){return 0===this._points.size()},e.prototype.init=function(t){if(null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),1===t.size())throw new Ac("Invalid number of points in LineString (found "+t.size()+" - must be 0 or >= 2)");this._points=t},e.prototype.isCoordinate=function(t){for(var e=0;e<this._points.size();e++)if(this._points.getCoordinate(e).equals(t))return!0;return!1},e.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},e.prototype.getPointN=function(t){return this.getFactory().createPoint(this._points.getCoordinate(t))},e.prototype.interfaces_=function(){return[sp]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(e,n),e}(Ih),Mp=function(){};Mp.prototype.interfaces_=function(){return[]},Mp.prototype.getClass=function(){return Mp};var Np=function(t){function e(e,n){t.call(this,n),this._coordinates=e||null,this.init(this._coordinates)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new lh;var t=new lh;return t.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),t},e.prototype.getSortIndex=function(){return t.SORTINDEX_POINT},e.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&(!(!this.isEmpty()||!e.isEmpty())||this.isEmpty()===e.isEmpty()&&this.equal(e.getCoordinate(),this.getCoordinate(),n))}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){},e.prototype.getCoordinate=function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null},e.prototype.getBoundaryDimension=function(){return hp.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getNumPoints=function(){return this.isEmpty()?0:1},e.prototype.reverse=function(){return this.copy()},e.prototype.getX=function(){if(null===this.getCoordinate())throw new Error("getX called on empty Point");return this.getCoordinate().x},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0],e=t;return this.getCoordinate().compareTo(e.getCoordinate())}if(2===arguments.length){var n=arguments[0],i=arguments[1],o=n;return i.compare(this._coordinates,o._coordinates)}},e.prototype.apply=function(){if(Wc(arguments[0],Mh)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this.getCoordinate())}else if(Wc(arguments[0],dp)){var e=arguments[0];if(this.isEmpty())return null;e.filter(this._coordinates,0),e.isGeometryChanged()&&this.geometryChanged()}else if(Wc(arguments[0],fp)){var n=arguments[0];n.filter(this)}else if(Wc(arguments[0],Sh)){var i=arguments[0];i.filter(this)}},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._coordinates=this._coordinates.clone(),e},e.prototype.getGeometryType=function(){return"Point"},e.prototype.copy=function(){return new e(this._coordinates.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._coordinates},e.prototype.getY=function(){if(null===this.getCoordinate())throw new Error("getY called on empty Point");return this.getCoordinate().y},e.prototype.isEmpty=function(){return 0===this._coordinates.size()},e.prototype.init=function(t){null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),mh.isTrue(t.size()<=1),this._coordinates=t},e.prototype.isSimple=function(){return!0},e.prototype.interfaces_=function(){return[Mp]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x44077bad161cbc00},Object.defineProperties(e,n),e}(Ih),Tp=function(){};Tp.prototype.interfaces_=function(){return[]},Tp.prototype.getClass=function(){return Tp};var Op=function(t){function e(e,n,i){if(t.call(this,i),this._shell=null,this._holes=null,null===e&&(e=this.getFactory().createLinearRing()),null===n&&(n=[]),t.hasNullElements(n))throw new Ac("holes must not contain null elements");if(e.isEmpty()&&t.hasNonEmptyElements(n))throw new Ac("shell is empty but holes are not");this._shell=e,this._holes=n}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},e.prototype.getSortIndex=function(){return t.SORTINDEX_POLYGON},e.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=this._shell.getCoordinates(),i=0;i<n.length;i++)t[++e]=n[i];for(var o=0;o<this._holes.length;o++)for(var r=this._holes[o].getCoordinates(),s=0;s<r.length;s++)t[++e]=r[s];return t},e.prototype.getArea=function(){var t=0;t+=Math.abs(Eh.signedArea(this._shell.getCoordinateSequence()));for(var e=0;e<this._holes.length;e++)t-=Math.abs(Eh.signedArea(this._holes[e].getCoordinateSequence()));return t},e.prototype.isRectangle=function(){if(0!==this.getNumInteriorRing())return!1;if(null===this._shell)return!1;if(5!==this._shell.getNumPoints())return!1;for(var t=this._shell.getCoordinateSequence(),e=this.getEnvelopeInternal(),n=0;n<5;n++){var i=t.getX(n);if(i!==e.getMinX()&&i!==e.getMaxX())return!1;var o=t.getY(n);if(o!==e.getMinY()&&o!==e.getMaxY())return!1}for(var r=t.getX(0),s=t.getY(0),a=1;a<=4;a++){var l=t.getX(a),u=t.getY(a);if(l!==r===(u!==s))return!1;r=l,s=u}return!0},e.prototype.equalsExact=function(){var e=this;if(2===arguments.length){var n=arguments[0],i=arguments[1];if(!this.isEquivalentClass(n))return!1;var o=n,r=this._shell,s=o._shell;if(!r.equalsExact(s,i))return!1;if(this._holes.length!==o._holes.length)return!1;for(var a=0;a<this._holes.length;a++)if(!e._holes[a].equalsExact(o._holes[a],i))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){var t=this;if(0===arguments.length){this.normalize(this._shell,!0);for(var e=0;e<this._holes.length;e++)t.normalize(t._holes[e],!1);cp.sort(this._holes)}else if(2===arguments.length){var n=arguments[0],i=arguments[1];if(n.isEmpty())return null;var o=new Array(n.getCoordinates().length-1).fill(null);sh.arraycopy(n.getCoordinates(),0,o,0,o.length);var r=qh.minCoordinate(n.getCoordinates());qh.scroll(o,r),sh.arraycopy(o,0,n.getCoordinates(),0,o.length),n.getCoordinates()[o.length]=o[0],Eh.isCCW(n.getCoordinates())===i&&qh.reverse(n.getCoordinates())}},e.prototype.getCoordinate=function(){return this._shell.getCoordinate()},e.prototype.getNumInteriorRing=function(){return this._holes.length},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.getLength=function(){var t=0;t+=this._shell.getLength();for(var e=0;e<this._holes.length;e++)t+=this._holes[e].getLength();return t},e.prototype.getNumPoints=function(){for(var t=this._shell.getNumPoints(),e=0;e<this._holes.length;e++)t+=this._holes[e].getNumPoints();return t},e.prototype.reverse=function(){var t=this.copy();t._shell=this._shell.copy().reverse(),t._holes=new Array(this._holes.length).fill(null);for(var e=0;e<this._holes.length;e++)t._holes[e]=this._holes[e].copy().reverse();return t},e.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},e.prototype.compareToSameClass=function(){var t=this;if(1===arguments.length){var e=arguments[0],n=this._shell,i=e._shell;return n.compareToSameClass(i)}if(2===arguments.length){var o=arguments[0],r=arguments[1],s=o,a=this._shell,l=s._shell,u=a.compareToSameClass(l,r);if(0!==u)return u;for(var c=this.getNumInteriorRing(),h=s.getNumInteriorRing(),p=0;p<c&&p<h;){var f=t.getInteriorRingN(p),d=s.getInteriorRingN(p),g=f.compareToSameClass(d,r);if(0!==g)return g;p++}return p<c?1:p<h?-1:0}},e.prototype.apply=function(t){var e=this;if(Wc(t,Mh)){this._shell.apply(t);for(var n=0;n<this._holes.length;n++)e._holes[n].apply(t)}else if(Wc(t,dp)){if(this._shell.apply(t),!t.isDone())for(var i=0;i<this._holes.length&&(e._holes[i].apply(t),!t.isDone());i++);t.isGeometryChanged()&&this.geometryChanged()}else if(Wc(t,fp))t.filter(this);else if(Wc(t,Sh)){t.filter(this),this._shell.apply(t);for(var o=0;o<this._holes.length;o++)e._holes[o].apply(t)}},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var t=new Array(this._holes.length+1).fill(null);t[0]=this._shell;for(var e=0;e<this._holes.length;e++)t[e+1]=this._holes[e];return t.length<=1?this.getFactory().createLinearRing(t[0].getCoordinateSequence()):this.getFactory().createMultiLineString(t)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);e._shell=this._shell.clone(),e._holes=new Array(this._holes.length).fill(null);for(var n=0;n<this._holes.length;n++)e._holes[n]=this._holes[n].clone();return e},e.prototype.getGeometryType=function(){return"Polygon"},e.prototype.copy=function(){for(var t=this._shell.copy(),n=new Array(this._holes.length).fill(null),i=0;i<n.length;i++)n[i]=this._holes[i].copy();return new e(t,n,this._factory)},e.prototype.getExteriorRing=function(){return this._shell},e.prototype.isEmpty=function(){return this._shell.isEmpty()},e.prototype.getInteriorRingN=function(t){return this._holes[t]},e.prototype.interfaces_=function(){return[Tp]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(e,n),e}(Ih),Ap=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return Ih.SORTINDEX_MULTIPOINT},e.prototype.isValid=function(){return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getCoordinate=function(){if(1===arguments.length){var e=arguments[0];return this._geometries[e].getCoordinate()}return t.prototype.getCoordinate.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return hp.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.getGeometryType=function(){return"MultiPoint"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Mp]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x6fb1ed4162e0fc00},Object.defineProperties(e,n),e}(gp),Rp=function(t){function e(e,n){e instanceof jc&&n instanceof $p&&(e=n.getCoordinateSequenceFactory().create(e)),t.call(this,e,n),this.validateConstruction()}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return Ih.SORTINDEX_LINEARRING},e.prototype.getBoundaryDimension=function(){return hp.FALSE},e.prototype.isClosed=function(){return!!this.isEmpty()||t.prototype.isClosed.call(this)},e.prototype.reverse=function(){var t=this._points.copy();return Lp.reverse(t),this.getFactory().createLinearRing(t)},e.prototype.validateConstruction=function(){if(!this.isEmpty()&&!t.prototype.isClosed.call(this))throw new Ac("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<e.MINIMUM_VALID_SIZE)throw new Ac("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},e.prototype.getGeometryType=function(){return"LinearRing"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.MINIMUM_VALID_SIZE.get=function(){return 4},n.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(e,n),e}(Pp),Dp=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return Ih.SORTINDEX_MULTIPOLYGON},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[n]=this._geometries[n].reverse();return this.getFactory().createMultiPolygon(e)},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var t=new Vh,e=0;e<this._geometries.length;e++)for(var n=this._geometries[e].getBoundary(),i=0;i<n.getNumGeometries();i++)t.add(n.getGeometryN(i));var o=new Array(t.size()).fill(null);return this.getFactory().createMultiLineString(t.toArray(o))},e.prototype.getGeometryType=function(){return"MultiPolygon"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Tp]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(e,n),e}(gp),kp=function(t){this._factory=t||null,this._isUserDataCopied=!1},Fp={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};kp.prototype.setCopyUserData=function(t){this._isUserDataCopied=t},kp.prototype.edit=function(t,e){if(null===t)return null;var n=this.editInternal(t,e);return this._isUserDataCopied&&n.setUserData(t.getUserData()),n},kp.prototype.editInternal=function(t,e){return null===this._factory&&(this._factory=t.getFactory()),t instanceof gp?this.editGeometryCollection(t,e):t instanceof Op?this.editPolygon(t,e):t instanceof Np||t instanceof Pp?e.edit(t,this._factory):(mh.shouldNeverReachHere("Unsupported Geometry class: "+t.getClass().getName()),null)},kp.prototype.editGeometryCollection=function(t,e){for(var n=e.edit(t,this._factory),i=new Vh,o=0;o<n.getNumGeometries();o++){var r=this.edit(n.getGeometryN(o),e);null===r||r.isEmpty()||i.add(r)}return n.getClass()===Ap?this._factory.createMultiPoint(i.toArray([])):n.getClass()===_p?this._factory.createMultiLineString(i.toArray([])):n.getClass()===Dp?this._factory.createMultiPolygon(i.toArray([])):this._factory.createGeometryCollection(i.toArray([]))},kp.prototype.editPolygon=function(t,e){var n=e.edit(t,this._factory);if(null===n&&(n=this._factory.createPolygon(null)),n.isEmpty())return n;var i=this.edit(n.getExteriorRing(),e);if(null===i||i.isEmpty())return this._factory.createPolygon();for(var o=new Vh,r=0;r<n.getNumInteriorRing();r++){var s=this.edit(n.getInteriorRingN(r),e);null===s||s.isEmpty()||o.add(s)}return this._factory.createPolygon(i,o.toArray([]))},kp.prototype.interfaces_=function(){return[]},kp.prototype.getClass=function(){return kp},kp.GeometryEditorOperation=function(){},Fp.NoOpGeometryOperation.get=function(){return zp},Fp.CoordinateOperation.get=function(){return Bp},Fp.CoordinateSequenceOperation.get=function(){return jp},Object.defineProperties(kp,Fp);var zp=function(){};zp.prototype.edit=function(t,e){return t},zp.prototype.interfaces_=function(){return[kp.GeometryEditorOperation]},zp.prototype.getClass=function(){return zp};var Bp=function(){};Bp.prototype.edit=function(t,e){var n=this.editCoordinates(t.getCoordinates(),t);return null===n?t:t instanceof Rp?e.createLinearRing(n):t instanceof Pp?e.createLineString(n):t instanceof Np?n.length>0?e.createPoint(n[0]):e.createPoint():t},Bp.prototype.interfaces_=function(){return[kp.GeometryEditorOperation]},Bp.prototype.getClass=function(){return Bp};var jp=function(){};jp.prototype.edit=function(t,e){return t instanceof Rp?e.createLinearRing(this.edit(t.getCoordinateSequence(),t)):t instanceof Pp?e.createLineString(this.edit(t.getCoordinateSequence(),t)):t instanceof Np?e.createPoint(this.edit(t.getCoordinateSequence(),t)):t},jp.prototype.interfaces_=function(){return[kp.GeometryEditorOperation]},jp.prototype.getClass=function(){return jp};var Vp=function(){var t=this;if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var e=arguments[0];this._coordinates=new Array(e).fill(null);for(var n=0;n<e;n++)t._coordinates[n]=new jc}else if(Wc(arguments[0],nh)){var i=arguments[0];if(null===i)return this._coordinates=new Array(0).fill(null),null;this._dimension=i.getDimension(),this._coordinates=new Array(i.size()).fill(null);for(var o=0;o<this._coordinates.length;o++)t._coordinates[o]=i.getCoordinateCopy(o)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var r=arguments[0],s=arguments[1];this._coordinates=r,this._dimension=s,null===r&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var a=arguments[0],l=arguments[1];this._coordinates=new Array(a).fill(null),this._dimension=l;for(var u=0;u<a;u++)t._coordinates[u]=new jc}},Gp={serialVersionUID:{configurable:!0}};Vp.prototype.setOrdinate=function(t,e,n){switch(e){case nh.X:this._coordinates[t].x=n;break;case nh.Y:this._coordinates[t].y=n;break;case nh.Z:this._coordinates[t].z=n;break;default:throw new Ac("invalid ordinateIndex")}},Vp.prototype.size=function(){return this._coordinates.length},Vp.prototype.getOrdinate=function(t,e){switch(e){case nh.X:return this._coordinates[t].x;case nh.Y:return this._coordinates[t].y;case nh.Z:return this._coordinates[t].z}return Rc.NaN},Vp.prototype.getCoordinate=function(){if(1===arguments.length){var t=arguments[0];return this._coordinates[t]}if(2===arguments.length){var e=arguments[0],n=arguments[1];n.x=this._coordinates[e].x,n.y=this._coordinates[e].y,n.z=this._coordinates[e].z}},Vp.prototype.getCoordinateCopy=function(t){return new jc(this._coordinates[t])},Vp.prototype.getDimension=function(){return this._dimension},Vp.prototype.getX=function(t){return this._coordinates[t].x},Vp.prototype.clone=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].clone();return new Vp(t,this._dimension)},Vp.prototype.expandEnvelope=function(t){for(var e=0;e<this._coordinates.length;e++)t.expandToInclude(this._coordinates[e]);return t},Vp.prototype.copy=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].copy();return new Vp(t,this._dimension)},Vp.prototype.toString=function(){if(this._coordinates.length>0){var t=new Xc(17*this._coordinates.length);t.append("("),t.append(this._coordinates[0]);for(var e=1;e<this._coordinates.length;e++)t.append(", "),t.append(this._coordinates[e]);return t.append(")"),t.toString()}return"()"},Vp.prototype.getY=function(t){return this._coordinates[t].y},Vp.prototype.toCoordinateArray=function(){return this._coordinates},Vp.prototype.interfaces_=function(){return[nh,Bc]},Vp.prototype.getClass=function(){return Vp},Gp.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(Vp,Gp);var Up=function(){},qp={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};Up.prototype.readResolve=function(){return Up.instance()},Up.prototype.create=function(){if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return new Vp(t)}if(Wc(arguments[0],nh)){var e=arguments[0];return new Vp(e)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return i>3&&(i=3),i<2?new Vp(n):new Vp(n,i)}},Up.prototype.interfaces_=function(){return[Uc,Bc]},Up.prototype.getClass=function(){return Up},Up.instance=function(){return Up.instanceObject},qp.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},qp.instanceObject.get=function(){return new Up},Object.defineProperties(Up,qp);var Hp=function(t){function e(){t.call(this),this.map_=new Map}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){return this.map_.get(t)||null},e.prototype.put=function(t,e){return this.map_.set(t,e),e},e.prototype.values=function(){for(var t=new Vh,e=this.map_.values(),n=e.next();!n.done;)t.add(n.value),n=e.next();return t},e.prototype.entrySet=function(){var t=new Jh;return this.map_.entries().forEach((function(e){return t.add(e)})),t},e.prototype.size=function(){return this.map_.size()},e}(Yh),Wp=function t(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=t.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof Yp){var e=arguments[0];this._modelType=e,e===t.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var n=arguments[0];this._modelType=t.FIXED,this.setScale(n)}else if(arguments[0]instanceof t){var i=arguments[0];this._modelType=i._modelType,this._scale=i._scale}},Zp={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};Wp.prototype.equals=function(t){if(!(t instanceof Wp))return!1;var e=t;return this._modelType===e._modelType&&this._scale===e._scale},Wp.prototype.compareTo=function(t){var e=t,n=this.getMaximumSignificantDigits(),i=e.getMaximumSignificantDigits();return new $c(n).compareTo(new $c(i))},Wp.prototype.getScale=function(){return this._scale},Wp.prototype.isFloating=function(){return this._modelType===Wp.FLOATING||this._modelType===Wp.FLOATING_SINGLE},Wp.prototype.getType=function(){return this._modelType},Wp.prototype.toString=function(){var t="UNKNOWN";return this._modelType===Wp.FLOATING?t="Floating":this._modelType===Wp.FLOATING_SINGLE?t="Floating-Single":this._modelType===Wp.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t},Wp.prototype.makePrecise=function(){if("number"==typeof arguments[0]){var t=arguments[0];if(Rc.isNaN(t))return t;if(this._modelType===Wp.FLOATING_SINGLE){return t}return this._modelType===Wp.FIXED?Math.round(t*this._scale)/this._scale:t}if(arguments[0]instanceof jc){var e=arguments[0];if(this._modelType===Wp.FLOATING)return null;e.x=this.makePrecise(e.x),e.y=this.makePrecise(e.y)}},Wp.prototype.getMaximumSignificantDigits=function(){var t=16;return this._modelType===Wp.FLOATING?t=16:this._modelType===Wp.FLOATING_SINGLE?t=6:this._modelType===Wp.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t},Wp.prototype.setScale=function(t){this._scale=Math.abs(t)},Wp.prototype.interfaces_=function(){return[Bc,kc]},Wp.prototype.getClass=function(){return Wp},Wp.mostPrecise=function(t,e){return t.compareTo(e)>=0?t:e},Zp.serialVersionUID.get=function(){return 0x6bee6404e9a25c00},Zp.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(Wp,Zp);var Yp=function t(e){this._name=e||null,t.nameToTypeMap.put(e,this)},Xp={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};Yp.prototype.readResolve=function(){return Yp.nameToTypeMap.get(this._name)},Yp.prototype.toString=function(){return this._name},Yp.prototype.interfaces_=function(){return[Bc]},Yp.prototype.getClass=function(){return Yp},Xp.serialVersionUID.get=function(){return-552860263173159e4},Xp.nameToTypeMap.get=function(){return new Hp},Object.defineProperties(Yp,Xp),Wp.Type=Yp,Wp.FIXED=new Yp("FIXED"),Wp.FLOATING=new Yp("FLOATING"),Wp.FLOATING_SINGLE=new Yp("FLOATING SINGLE");var $p=function t(){this._precisionModel=new Wp,this._SRID=0,this._coordinateSequenceFactory=t.getDefaultCoordinateSequenceFactory(),0===arguments.length||(1===arguments.length?Wc(arguments[0],Uc)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof Wp&&(this._precisionModel=arguments[0]):2===arguments.length?(this._precisionModel=arguments[0],this._SRID=arguments[1]):3===arguments.length&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},Kp={serialVersionUID:{configurable:!0}};$p.prototype.toGeometry=function(t){return t.isNull()?this.createPoint(null):t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new jc(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new jc(t.getMinX(),t.getMinY()),new jc(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new jc(t.getMinX(),t.getMinY()),new jc(t.getMinX(),t.getMaxY()),new jc(t.getMaxX(),t.getMaxY()),new jc(t.getMaxX(),t.getMinY()),new jc(t.getMinX(),t.getMinY())]),null)},$p.prototype.createLineString=function(t){return t?t instanceof Array?new Pp(this.getCoordinateSequenceFactory().create(t),this):Wc(t,nh)?new Pp(t,this):void 0:new Pp(this.getCoordinateSequenceFactory().create([]),this)},$p.prototype.createMultiLineString=function(){if(0===arguments.length)return new _p(null,this);if(1===arguments.length){var t=arguments[0];return new _p(t,this)}},$p.prototype.buildGeometry=function(t){for(var e=null,n=!1,i=!1,o=t.iterator();o.hasNext();){var r=o.next(),s=r.getClass();null===e&&(e=s),s!==e&&(n=!0),r.isGeometryCollectionOrDerived()&&(i=!0)}if(null===e)return this.createGeometryCollection();if(n||i)return this.createGeometryCollection($p.toGeometryArray(t));var a=t.iterator().next();if(t.size()>1){if(a instanceof Op)return this.createMultiPolygon($p.toPolygonArray(t));if(a instanceof Pp)return this.createMultiLineString($p.toLineStringArray(t));if(a instanceof Np)return this.createMultiPoint($p.toPointArray(t));mh.shouldNeverReachHere("Unhandled class: "+a.getClass().getName())}return a},$p.prototype.createMultiPointFromCoords=function(t){return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)},$p.prototype.createPoint=function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof jc){var t=arguments[0];return this.createPoint(null!==t?this.getCoordinateSequenceFactory().create([t]):null)}if(Wc(arguments[0],nh)){var e=arguments[0];return new Np(e,this)}}},$p.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},$p.prototype.createPolygon=function(){if(0===arguments.length)return new Op(null,null,this);if(1===arguments.length){if(Wc(arguments[0],nh)){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof Array){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof Rp){var n=arguments[0];return this.createPolygon(n,null)}}else if(2===arguments.length){var i=arguments[0],o=arguments[1];return new Op(i,o,this)}},$p.prototype.getSRID=function(){return this._SRID},$p.prototype.createGeometryCollection=function(){if(0===arguments.length)return new gp(null,this);if(1===arguments.length){var t=arguments[0];return new gp(t,this)}},$p.prototype.createGeometry=function(t){return new kp(this).edit(t,{edit:function(){if(2===arguments.length){var t=arguments[0];return this._coordinateSequenceFactory.create(t)}}})},$p.prototype.getPrecisionModel=function(){return this._precisionModel},$p.prototype.createLinearRing=function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(Wc(arguments[0],nh)){var e=arguments[0];return new Rp(e,this)}}},$p.prototype.createMultiPolygon=function(){if(0===arguments.length)return new Dp(null,this);if(1===arguments.length){var t=arguments[0];return new Dp(t,this)}},$p.prototype.createMultiPoint=function(){var t=this;if(0===arguments.length)return new Ap(null,this);if(1===arguments.length){if(arguments[0]instanceof Array){var e=arguments[0];return new Ap(e,this)}if(arguments[0]instanceof Array){var n=arguments[0];return this.createMultiPoint(null!==n?this.getCoordinateSequenceFactory().create(n):null)}if(Wc(arguments[0],nh)){var i=arguments[0];if(null===i)return this.createMultiPoint(new Array(0).fill(null));for(var o=new Array(i.size()).fill(null),r=0;r<i.size();r++){var s=t.getCoordinateSequenceFactory().create(1,i.getDimension());Lp.copy(i,r,s,0,1),o[r]=t.createPoint(s)}return this.createMultiPoint(o)}}},$p.prototype.interfaces_=function(){return[Bc]},$p.prototype.getClass=function(){return $p},$p.toMultiPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},$p.toGeometryArray=function(t){if(null===t)return null;var e=new Array(t.size()).fill(null);return t.toArray(e)},$p.getDefaultCoordinateSequenceFactory=function(){return Up.instance()},$p.toMultiLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},$p.toLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},$p.toMultiPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},$p.toLinearRingArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},$p.toPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},$p.toPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},$p.createPointFromInternalCoord=function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)},Kp.serialVersionUID.get=function(){return-0x5ea75f2051eeb400},Object.defineProperties($p,Kp);var Jp=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],Qp=function(t){this.geometryFactory=t||new $p};Qp.prototype.read=function(t){var e,n=(e="string"==typeof t?JSON.parse(t):t).type;if(!tf[n])throw new Error("Unknown GeoJSON type: "+e.type);return-1!==Jp.indexOf(n)?tf[n].apply(this,[e.coordinates]):"GeometryCollection"===n?tf[n].apply(this,[e.geometries]):tf[n].apply(this,[e])},Qp.prototype.write=function(t){var e=t.getGeometryType();if(!ef[e])throw new Error("Geometry is not supported");return ef[e].apply(this,[t])};var tf={Feature:function(t){var e={};for(var n in t)e[n]=t[n];if(t.geometry){var i=t.geometry.type;if(!tf[i])throw new Error("Unknown GeoJSON type: "+t.type);e.geometry=this.read(t.geometry)}return t.bbox&&(e.bbox=tf.bbox.apply(this,[t.bbox])),e},FeatureCollection:function(t){var e={};if(t.features){e.features=[];for(var n=0;n<t.features.length;++n)e.features.push(this.read(t.features[n]))}return t.bbox&&(e.bbox=this.parse.bbox.apply(this,[t.bbox])),e},coordinates:function(t){for(var e=[],n=0;n<t.length;++n){var i=t[n];e.push(new jc(i[0],i[1]))}return e},bbox:function(t){return this.geometryFactory.createLinearRing([new jc(t[0],t[1]),new jc(t[2],t[1]),new jc(t[2],t[3]),new jc(t[0],t[3]),new jc(t[0],t[1])])},Point:function(t){var e=new jc(t[0],t[1]);return this.geometryFactory.createPoint(e)},MultiPoint:function(t){for(var e=[],n=0;n<t.length;++n)e.push(tf.Point.apply(this,[t[n]]));return this.geometryFactory.createMultiPoint(e)},LineString:function(t){var e=tf.coordinates.apply(this,[t]);return this.geometryFactory.createLineString(e)},MultiLineString:function(t){for(var e=[],n=0;n<t.length;++n)e.push(tf.LineString.apply(this,[t[n]]));return this.geometryFactory.createMultiLineString(e)},Polygon:function(t){for(var e=tf.coordinates.apply(this,[t[0]]),n=this.geometryFactory.createLinearRing(e),i=[],o=1;o<t.length;++o){var r=t[o],s=tf.coordinates.apply(this,[r]),a=this.geometryFactory.createLinearRing(s);i.push(a)}return this.geometryFactory.createPolygon(n,i)},MultiPolygon:function(t){for(var e=[],n=0;n<t.length;++n){var i=t[n];e.push(tf.Polygon.apply(this,[i]))}return this.geometryFactory.createMultiPolygon(e)},GeometryCollection:function(t){for(var e=[],n=0;n<t.length;++n){var i=t[n];e.push(this.read(i))}return this.geometryFactory.createGeometryCollection(e)}},ef={coordinate:function(t){return[t.x,t.y]},Point:function(t){return{type:"Point",coordinates:ef.coordinate.apply(this,[t.getCoordinate()])}},MultiPoint:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var i=t._geometries[n],o=ef.Point.apply(this,[i]);e.push(o.coordinates)}return{type:"MultiPoint",coordinates:e}},LineString:function(t){for(var e=[],n=t.getCoordinates(),i=0;i<n.length;++i){var o=n[i];e.push(ef.coordinate.apply(this,[o]))}return{type:"LineString",coordinates:e}},MultiLineString:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var i=t._geometries[n],o=ef.LineString.apply(this,[i]);e.push(o.coordinates)}return{type:"MultiLineString",coordinates:e}},Polygon:function(t){var e=[],n=ef.LineString.apply(this,[t._shell]);e.push(n.coordinates);for(var i=0;i<t._holes.length;++i){var o=t._holes[i],r=ef.LineString.apply(this,[o]);e.push(r.coordinates)}return{type:"Polygon",coordinates:e}},MultiPolygon:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var i=t._geometries[n],o=ef.Polygon.apply(this,[i]);e.push(o.coordinates)}return{type:"MultiPolygon",coordinates:e}},GeometryCollection:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var i=t._geometries[n],o=i.getGeometryType();e.push(ef[o].apply(this,[i]))}return{type:"GeometryCollection",geometries:e}}},nf=function(t){this.geometryFactory=t||new $p,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new Qp(this.geometryFactory)};nf.prototype.read=function(t){var e=this.parser.read(t);return this.precisionModel.getType()===Wp.FIXED&&this.reducePrecision(e),e},nf.prototype.reducePrecision=function(t){var e,n;if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(e=0,n=t.points.length;e<n;e++)this.precisionModel.makePrecise(t.points[e]);else if(t.geometries)for(e=0,n=t.geometries.length;e<n;e++)this.reducePrecision(t.geometries[e])};var of=function(){this.parser=new Qp(this.geometryFactory)};of.prototype.write=function(t){return this.parser.write(t)};var rf=function(){},sf={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};function af(t){this.message=t||""}function lf(){this.array_=[]}rf.prototype.interfaces_=function(){return[]},rf.prototype.getClass=function(){return rf},rf.opposite=function(t){return t===rf.LEFT?rf.RIGHT:t===rf.RIGHT?rf.LEFT:t},sf.ON.get=function(){return 0},sf.LEFT.get=function(){return 1},sf.RIGHT.get=function(){return 2},Object.defineProperties(rf,sf),af.prototype=new Error,af.prototype.name="EmptyStackException",lf.prototype=new Bh,lf.prototype.add=function(t){return this.array_.push(t),!0},lf.prototype.get=function(t){if(t<0||t>=this.size())throw new Error;return this.array_[t]},lf.prototype.push=function(t){return this.array_.push(t),t},lf.prototype.pop=function(t){if(0===this.array_.length)throw new af;return this.array_.pop()},lf.prototype.peek=function(){if(0===this.array_.length)throw new af;return this.array_[this.array_.length-1]},lf.prototype.empty=function(){return 0===this.array_.length},lf.prototype.isEmpty=function(){return this.empty()},lf.prototype.search=function(t){return this.array_.indexOf(t)},lf.prototype.size=function(){return this.array_.length},lf.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t};var uf=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};uf.prototype.getCoordinate=function(){return this._minCoord},uf.prototype.getRightmostSide=function(t,e){var n=this.getRightmostSideOfSegment(t,e);return n<0&&(n=this.getRightmostSideOfSegment(t,e-1)),n<0&&(this._minCoord=null,this.checkForRightmostCoordinate(t)),n},uf.prototype.findRightmostEdgeAtVertex=function(){var t=this._minDe.getEdge().getCoordinates();mh.isTrue(this._minIndex>0&&this._minIndex<t.length,"rightmost point expected to be interior vertex of edge");var e=t[this._minIndex-1],n=t[this._minIndex+1],i=Eh.computeOrientation(this._minCoord,n,e),o=!1;(e.y<this._minCoord.y&&n.y<this._minCoord.y&&i===Eh.COUNTERCLOCKWISE||e.y>this._minCoord.y&&n.y>this._minCoord.y&&i===Eh.CLOCKWISE)&&(o=!0),o&&(this._minIndex=this._minIndex-1)},uf.prototype.getRightmostSideOfSegment=function(t,e){var n=t.getEdge().getCoordinates();if(e<0||e+1>=n.length)return-1;if(n[e].y===n[e+1].y)return-1;var i=rf.LEFT;return n[e].y<n[e+1].y&&(i=rf.RIGHT),i},uf.prototype.getEdge=function(){return this._orientedDe},uf.prototype.checkForRightmostCoordinate=function(t){for(var e=this,n=t.getEdge().getCoordinates(),i=0;i<n.length-1;i++)(null===e._minCoord||n[i].x>e._minCoord.x)&&(e._minDe=t,e._minIndex=i,e._minCoord=n[i])},uf.prototype.findRightmostEdgeAtNode=function(){var t=this._minDe.getNode().getEdges();this._minDe=t.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},uf.prototype.findEdge=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();n.isForward()&&this.checkForRightmostCoordinate(n)}mh.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===rf.LEFT&&(this._orientedDe=this._minDe.getSym())},uf.prototype.interfaces_=function(){return[]},uf.prototype.getClass=function(){return uf};var cf=function(t){function e(n,i){t.call(this,e.msgWithCoord(n,i)),this.pt=i?new jc(i):null,this.name="TopologyException"}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getCoordinate=function(){return this.pt},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.msgWithCoord=function(t,e){return e?t:t+" [ "+e+" ]"},e}(gh),hf=function(){this.array_=[]};hf.prototype.addLast=function(t){this.array_.push(t)},hf.prototype.removeFirst=function(){return this.array_.shift()},hf.prototype.isEmpty=function(){return 0===this.array_.length};var pf=function(){this._finder=null,this._dirEdgeList=new Vh,this._nodes=new Vh,this._rightMostCoord=null,this._env=null,this._finder=new uf};pf.prototype.clearVisitedEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){t.next().setVisited(!1)}},pf.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},pf.prototype.computeNodeDepth=function(t){for(var e=null,n=t.getEdges().iterator();n.hasNext();){var i=n.next();if(i.isVisited()||i.getSym().isVisited()){e=i;break}}if(null===e)throw new cf("unable to find edge to compute depths at "+t.getCoordinate());t.getEdges().computeDepths(e);for(var o=t.getEdges().iterator();o.hasNext();){var r=o.next();r.setVisited(!0),this.copySymDepths(r)}},pf.prototype.computeDepth=function(t){this.clearVisitedEdges();var e=this._finder.getEdge();e.setEdgeDepths(rf.RIGHT,t),this.copySymDepths(e),this.computeDepths(e)},pf.prototype.create=function(t){this.addReachable(t),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},pf.prototype.findResultEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){var e=t.next();e.getDepth(rf.RIGHT)>=1&&e.getDepth(rf.LEFT)<=0&&!e.isInteriorAreaEdge()&&e.setInResult(!0)}},pf.prototype.computeDepths=function(t){var e=new Jh,n=new hf,i=t.getNode();for(n.addLast(i),e.add(i),t.setVisited(!0);!n.isEmpty();){var o=n.removeFirst();e.add(o),this.computeNodeDepth(o);for(var r=o.getEdges().iterator();r.hasNext();){var s=r.next().getSym();if(!s.isVisited()){var a=s.getNode();e.contains(a)||(n.addLast(a),e.add(a))}}}},pf.prototype.compareTo=function(t){var e=t;return this._rightMostCoord.x<e._rightMostCoord.x?-1:this._rightMostCoord.x>e._rightMostCoord.x?1:0},pf.prototype.getEnvelope=function(){if(null===this._env){for(var t=new lh,e=this._dirEdgeList.iterator();e.hasNext();)for(var n=e.next().getEdge().getCoordinates(),i=0;i<n.length-1;i++)t.expandToInclude(n[i]);this._env=t}return this._env},pf.prototype.addReachable=function(t){var e=new lf;for(e.add(t);!e.empty();){var n=e.pop();this.add(n,e)}},pf.prototype.copySymDepths=function(t){var e=t.getSym();e.setDepth(rf.LEFT,t.getDepth(rf.RIGHT)),e.setDepth(rf.RIGHT,t.getDepth(rf.LEFT))},pf.prototype.add=function(t,e){t.setVisited(!0),this._nodes.add(t);for(var n=t.getEdges().iterator();n.hasNext();){var i=n.next();this._dirEdgeList.add(i);var o=i.getSym().getNode();o.isVisited()||e.push(o)}},pf.prototype.getNodes=function(){return this._nodes},pf.prototype.getDirectedEdges=function(){return this._dirEdgeList},pf.prototype.interfaces_=function(){return[kc]},pf.prototype.getClass=function(){return pf};var ff=function t(){var e=this;if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){var n=arguments[0];this.init(n.length)}else if(Number.isInteger(arguments[0])){var i=arguments[0];this.init(1),this.location[rf.ON]=i}else if(arguments[0]instanceof t){var o=arguments[0];if(this.init(o.location.length),null!==o)for(var r=0;r<this.location.length;r++)e.location[r]=o.location[r]}}else if(3===arguments.length){var s=arguments[0],a=arguments[1],l=arguments[2];this.init(3),this.location[rf.ON]=s,this.location[rf.LEFT]=a,this.location[rf.RIGHT]=l}};ff.prototype.setAllLocations=function(t){for(var e=0;e<this.location.length;e++)this.location[e]=t},ff.prototype.isNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]!==qc.NONE)return!1;return!0},ff.prototype.setAllLocationsIfNull=function(t){for(var e=0;e<this.location.length;e++)this.location[e]===qc.NONE&&(this.location[e]=t)},ff.prototype.isLine=function(){return 1===this.location.length},ff.prototype.merge=function(t){if(t.location.length>this.location.length){var e=new Array(3).fill(null);e[rf.ON]=this.location[rf.ON],e[rf.LEFT]=qc.NONE,e[rf.RIGHT]=qc.NONE,this.location=e}for(var n=0;n<this.location.length;n++)this.location[n]===qc.NONE&&n<t.location.length&&(this.location[n]=t.location[n])},ff.prototype.getLocations=function(){return this.location},ff.prototype.flip=function(){if(this.location.length<=1)return null;var t=this.location[rf.LEFT];this.location[rf.LEFT]=this.location[rf.RIGHT],this.location[rf.RIGHT]=t},ff.prototype.toString=function(){var t=new Xc;return this.location.length>1&&t.append(qc.toLocationSymbol(this.location[rf.LEFT])),t.append(qc.toLocationSymbol(this.location[rf.ON])),this.location.length>1&&t.append(qc.toLocationSymbol(this.location[rf.RIGHT])),t.toString()},ff.prototype.setLocations=function(t,e,n){this.location[rf.ON]=t,this.location[rf.LEFT]=e,this.location[rf.RIGHT]=n},ff.prototype.get=function(t){return t<this.location.length?this.location[t]:qc.NONE},ff.prototype.isArea=function(){return this.location.length>1},ff.prototype.isAnyNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]===qc.NONE)return!0;return!1},ff.prototype.setLocation=function(){if(1===arguments.length){var t=arguments[0];this.setLocation(rf.ON,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.location[e]=n}},ff.prototype.init=function(t){this.location=new Array(t).fill(null),this.setAllLocations(qc.NONE)},ff.prototype.isEqualOnSide=function(t,e){return this.location[e]===t.location[e]},ff.prototype.allPositionsEqual=function(t){for(var e=0;e<this.location.length;e++)if(this.location[e]!==t)return!1;return!0},ff.prototype.interfaces_=function(){return[]},ff.prototype.getClass=function(){return ff};var df=function t(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var e=arguments[0];this.elt[0]=new ff(e),this.elt[1]=new ff(e)}else if(arguments[0]instanceof t){var n=arguments[0];this.elt[0]=new ff(n.elt[0]),this.elt[1]=new ff(n.elt[1])}}else if(2===arguments.length){var i=arguments[0],o=arguments[1];this.elt[0]=new ff(qc.NONE),this.elt[1]=new ff(qc.NONE),this.elt[i].setLocation(o)}else if(3===arguments.length){var r=arguments[0],s=arguments[1],a=arguments[2];this.elt[0]=new ff(r,s,a),this.elt[1]=new ff(r,s,a)}else if(4===arguments.length){var l=arguments[0],u=arguments[1],c=arguments[2],h=arguments[3];this.elt[0]=new ff(qc.NONE,qc.NONE,qc.NONE),this.elt[1]=new ff(qc.NONE,qc.NONE,qc.NONE),this.elt[l].setLocations(u,c,h)}};df.prototype.getGeometryCount=function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t},df.prototype.setAllLocations=function(t,e){this.elt[t].setAllLocations(e)},df.prototype.isNull=function(t){return this.elt[t].isNull()},df.prototype.setAllLocationsIfNull=function(){if(1===arguments.length){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.elt[e].setAllLocationsIfNull(n)}},df.prototype.isLine=function(t){return this.elt[t].isLine()},df.prototype.merge=function(t){for(var e=this,n=0;n<2;n++)null===e.elt[n]&&null!==t.elt[n]?e.elt[n]=new ff(t.elt[n]):e.elt[n].merge(t.elt[n])},df.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},df.prototype.getLocation=function(){if(1===arguments.length){var t=arguments[0];return this.elt[t].get(rf.ON)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return this.elt[e].get(n)}},df.prototype.toString=function(){var t=new Xc;return null!==this.elt[0]&&(t.append("A:"),t.append(this.elt[0].toString())),null!==this.elt[1]&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()},df.prototype.isArea=function(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){var t=arguments[0];return this.elt[t].isArea()}},df.prototype.isAnyNull=function(t){return this.elt[t].isAnyNull()},df.prototype.setLocation=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.elt[t].setLocation(rf.ON,e)}else if(3===arguments.length){var n=arguments[0],i=arguments[1],o=arguments[2];this.elt[n].setLocation(i,o)}},df.prototype.isEqualOnSide=function(t,e){return this.elt[0].isEqualOnSide(t.elt[0],e)&&this.elt[1].isEqualOnSide(t.elt[1],e)},df.prototype.allPositionsEqual=function(t,e){return this.elt[t].allPositionsEqual(e)},df.prototype.toLine=function(t){this.elt[t].isArea()&&(this.elt[t]=new ff(this.elt[t].location[0]))},df.prototype.interfaces_=function(){return[]},df.prototype.getClass=function(){return df},df.toLineLabel=function(t){for(var e=new df(qc.NONE),n=0;n<2;n++)e.setLocation(n,t.getLocation(n));return e};var gf=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new Vh,this._pts=new Vh,this._label=new df(qc.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new Vh,this._geometryFactory=null;var t=arguments[0],e=arguments[1];this._geometryFactory=e,this.computePoints(t),this.computeRing()};gf.prototype.computeRing=function(){if(null!==this._ring)return null;for(var t=new Array(this._pts.size()).fill(null),e=0;e<this._pts.size();e++)t[e]=this._pts.get(e);this._ring=this._geometryFactory.createLinearRing(t),this._isHole=Eh.isCCW(this._ring.getCoordinates())},gf.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},gf.prototype.computePoints=function(t){var e=this;this._startDe=t;var n=t,i=!0;do{if(null===n)throw new cf("Found null DirectedEdge");if(n.getEdgeRing()===e)throw new cf("Directed Edge visited twice during ring-building at "+n.getCoordinate());e._edges.add(n);var o=n.getLabel();mh.isTrue(o.isArea()),e.mergeLabel(o),e.addPoints(n.getEdge(),n.isForward(),i),i=!1,e.setEdgeRing(n,e),n=e.getNext(n)}while(n!==this._startDe)},gf.prototype.getLinearRing=function(){return this._ring},gf.prototype.getCoordinate=function(t){return this._pts.get(t)},gf.prototype.computeMaxNodeDegree=function(){var t=this;this._maxNodeDegree=0;var e=this._startDe;do{var n=e.getNode().getEdges().getOutgoingDegree(t);n>t._maxNodeDegree&&(t._maxNodeDegree=n),e=t.getNext(e)}while(e!==this._startDe);this._maxNodeDegree*=2},gf.prototype.addPoints=function(t,e,n){var i=t.getCoordinates();if(e){var o=1;n&&(o=0);for(var r=o;r<i.length;r++)this._pts.add(i[r])}else{var s=i.length-2;n&&(s=i.length-1);for(var a=s;a>=0;a--)this._pts.add(i[a])}},gf.prototype.isHole=function(){return this._isHole},gf.prototype.setInResult=function(){var t=this._startDe;do{t.getEdge().setInResult(!0),t=t.getNext()}while(t!==this._startDe)},gf.prototype.containsPoint=function(t){var e=this.getLinearRing();if(!e.getEnvelopeInternal().contains(t))return!1;if(!Eh.isPointInRing(t,e.getCoordinates()))return!1;for(var n=this._holes.iterator();n.hasNext();){if(n.next().containsPoint(t))return!1}return!0},gf.prototype.addHole=function(t){this._holes.add(t)},gf.prototype.isShell=function(){return null===this._shell},gf.prototype.getLabel=function(){return this._label},gf.prototype.getEdges=function(){return this._edges},gf.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},gf.prototype.getShell=function(){return this._shell},gf.prototype.mergeLabel=function(){if(1===arguments.length){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],i=e.getLocation(n,rf.RIGHT);if(i===qc.NONE)return null;if(this._label.getLocation(n)===qc.NONE)return this._label.setLocation(n,i),null}},gf.prototype.setShell=function(t){this._shell=t,null!==t&&t.addHole(this)},gf.prototype.toPolygon=function(t){for(var e=new Array(this._holes.size()).fill(null),n=0;n<this._holes.size();n++)e[n]=this._holes.get(n).getLinearRing();return t.createPolygon(this.getLinearRing(),e)},gf.prototype.interfaces_=function(){return[]},gf.prototype.getClass=function(){return gf};var _f=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setEdgeRing=function(t,e){t.setMinEdgeRing(e)},e.prototype.getNext=function(t){return t.getNextMin()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(gf),mf=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.buildMinimalRings=function(){var t=new Vh,e=this._startDe;do{if(null===e.getMinEdgeRing()){var n=new _f(e,this._geometryFactory);t.add(n)}e=e.getNext()}while(e!==this._startDe);return t},e.prototype.setEdgeRing=function(t,e){t.setEdgeRing(e)},e.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var t=this._startDe;do{t.getNode().getEdges().linkMinimalDirectedEdges(this),t=t.getNext()}while(t!==this._startDe)},e.prototype.getNext=function(t){return t.getNext()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(gf),yf=function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._label=t}};yf.prototype.setVisited=function(t){this._isVisited=t},yf.prototype.setInResult=function(t){this._isInResult=t},yf.prototype.isCovered=function(){return this._isCovered},yf.prototype.isCoveredSet=function(){return this._isCoveredSet},yf.prototype.setLabel=function(t){this._label=t},yf.prototype.getLabel=function(){return this._label},yf.prototype.setCovered=function(t){this._isCovered=t,this._isCoveredSet=!0},yf.prototype.updateIM=function(t){mh.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(t)},yf.prototype.isInResult=function(){return this._isInResult},yf.prototype.isVisited=function(){return this._isVisited},yf.prototype.interfaces_=function(){return[]},yf.prototype.getClass=function(){return yf};var vf=function(t){function e(){t.call(this),this._coord=null,this._edges=null;var e=arguments[0],n=arguments[1];this._coord=e,this._edges=n,this._label=new df(0,qc.NONE)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isIncidentEdgeInResult=function(){for(var t=this.getEdges().getEdges().iterator();t.hasNext();){if(t.next().getEdge().isInResult())return!0}return!1},e.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},e.prototype.getCoordinate=function(){return this._coord},e.prototype.print=function(t){t.println("node "+this._coord+" lbl: "+this._label)},e.prototype.computeIM=function(t){},e.prototype.computeMergedLocation=function(t,e){var n=qc.NONE;if(n=this._label.getLocation(e),!t.isNull(e)){var i=t.getLocation(e);n!==qc.BOUNDARY&&(n=i)}return n},e.prototype.setLabel=function(){if(2!==arguments.length)return t.prototype.setLabel.apply(this,arguments);var e=arguments[0],n=arguments[1];null===this._label?this._label=new df(e,n):this._label.setLocation(e,n)},e.prototype.getEdges=function(){return this._edges},e.prototype.mergeLabel=function(){var t=this;if(arguments[0]instanceof e){var n=arguments[0];this.mergeLabel(n._label)}else if(arguments[0]instanceof df)for(var i=arguments[0],o=0;o<2;o++){var r=t.computeMergedLocation(i,o),s=t._label.getLocation(o);s===qc.NONE&&t._label.setLocation(o,r)}},e.prototype.add=function(t){this._edges.insert(t),t.setNode(this)},e.prototype.setLabelBoundary=function(t){if(null===this._label)return null;var e=qc.NONE;null!==this._label&&(e=this._label.getLocation(t));var n=null;switch(e){case qc.BOUNDARY:n=qc.INTERIOR;break;case qc.INTERIOR:default:n=qc.BOUNDARY}this._label.setLocation(t,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(yf),xf=function(){this.nodeMap=new rp,this.nodeFact=null;var t=arguments[0];this.nodeFact=t};xf.prototype.find=function(t){return this.nodeMap.get(t)},xf.prototype.addNode=function(){if(arguments[0]instanceof jc){var t=arguments[0],e=this.nodeMap.get(t);return null===e&&(e=this.nodeFact.createNode(t),this.nodeMap.put(t,e)),e}if(arguments[0]instanceof vf){var n=arguments[0],i=this.nodeMap.get(n.getCoordinate());return null===i?(this.nodeMap.put(n.getCoordinate(),n),n):(i.mergeLabel(n),i)}},xf.prototype.print=function(t){for(var e=this.iterator();e.hasNext();){e.next().print(t)}},xf.prototype.iterator=function(){return this.nodeMap.values().iterator()},xf.prototype.values=function(){return this.nodeMap.values()},xf.prototype.getBoundaryNodes=function(t){for(var e=new Vh,n=this.iterator();n.hasNext();){var i=n.next();i.getLabel().getLocation(t)===qc.BOUNDARY&&e.add(i)}return e},xf.prototype.add=function(t){var e=t.getCoordinate();this.addNode(e).add(t)},xf.prototype.interfaces_=function(){return[]},xf.prototype.getClass=function(){return xf};var bf=function(){},wf={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};bf.prototype.interfaces_=function(){return[]},bf.prototype.getClass=function(){return bf},bf.isNorthern=function(t){return t===bf.NE||t===bf.NW},bf.isOpposite=function(t,e){return t!==e&&2===(t-e+4)%4},bf.commonHalfPlane=function(t,e){if(t===e)return t;if(2===(t-e+4)%4)return-1;var n=t<e?t:e;return 0===n&&3===(t>e?t:e)?3:n},bf.isInHalfPlane=function(t,e){return e===bf.SE?t===bf.SE||t===bf.SW:t===e||t===e+1},bf.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new Ac("Cannot compute the quadrant for point ( "+t+", "+e+" )");return t>=0?e>=0?bf.NE:bf.SE:e>=0?bf.NW:bf.SW}if(arguments[0]instanceof jc&&arguments[1]instanceof jc){var n=arguments[0],i=arguments[1];if(i.x===n.x&&i.y===n.y)throw new Ac("Cannot compute the quadrant for two identical points "+n);return i.x>=n.x?i.y>=n.y?bf.NE:bf.SE:i.y>=n.y?bf.NW:bf.SW}},wf.NE.get=function(){return 0},wf.NW.get=function(){return 1},wf.SW.get=function(){return 2},wf.SE.get=function(){return 3},Object.defineProperties(bf,wf);var Ef=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length){var t=arguments[0];this._edge=t}else if(3===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2],o=null;this._edge=e,this.init(n,i),this._label=o}else if(4===arguments.length){var r=arguments[0],s=arguments[1],a=arguments[2],l=arguments[3];this._edge=r,this.init(s,a),this._label=l}};Ef.prototype.compareDirection=function(t){return this._dx===t._dx&&this._dy===t._dy?0:this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:Eh.computeOrientation(t._p0,t._p1,this._p1)},Ef.prototype.getDy=function(){return this._dy},Ef.prototype.getCoordinate=function(){return this._p0},Ef.prototype.setNode=function(t){this._node=t},Ef.prototype.print=function(t){var e=Math.atan2(this._dy,this._dx),n=this.getClass().getName(),i=n.lastIndexOf("."),o=n.substring(i+1);t.print("  "+o+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label)},Ef.prototype.compareTo=function(t){var e=t;return this.compareDirection(e)},Ef.prototype.getDirectedCoordinate=function(){return this._p1},Ef.prototype.getDx=function(){return this._dx},Ef.prototype.getLabel=function(){return this._label},Ef.prototype.getEdge=function(){return this._edge},Ef.prototype.getQuadrant=function(){return this._quadrant},Ef.prototype.getNode=function(){return this._node},Ef.prototype.toString=function(){var t=Math.atan2(this._dy,this._dx),e=this.getClass().getName(),n=e.lastIndexOf(".");return"  "+e.substring(n+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label},Ef.prototype.computeLabel=function(t){},Ef.prototype.init=function(t,e){this._p0=t,this._p1=e,this._dx=e.x-t.x,this._dy=e.y-t.y,this._quadrant=bf.quadrant(this._dx,this._dy),mh.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")},Ef.prototype.interfaces_=function(){return[kc]},Ef.prototype.getClass=function(){return Ef};var Cf=function(t){function e(){var e=arguments[0],n=arguments[1];if(t.call(this,e),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=n,n)this.init(e.getCoordinate(0),e.getCoordinate(1));else{var i=e.getNumPoints()-1;this.init(e.getCoordinate(i),e.getCoordinate(i-1))}this.computeDirectedLabel()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getNextMin=function(){return this._nextMin},e.prototype.getDepth=function(t){return this._depth[t]},e.prototype.setVisited=function(t){this._isVisited=t},e.prototype.computeDirectedLabel=function(){this._label=new df(this._edge.getLabel()),this._isForward||this._label.flip()},e.prototype.getNext=function(){return this._next},e.prototype.setDepth=function(t,e){if(-999!==this._depth[t]&&this._depth[t]!==e)throw new cf("assigned depths do not match",this.getCoordinate());this._depth[t]=e},e.prototype.isInteriorAreaEdge=function(){for(var t=this,e=!0,n=0;n<2;n++)t._label.isArea(n)&&t._label.getLocation(n,rf.LEFT)===qc.INTERIOR&&t._label.getLocation(n,rf.RIGHT)===qc.INTERIOR||(e=!1);return e},e.prototype.setNextMin=function(t){this._nextMin=t},e.prototype.print=function(e){t.prototype.print.call(this,e),e.print(" "+this._depth[rf.LEFT]+"/"+this._depth[rf.RIGHT]),e.print(" ("+this.getDepthDelta()+")"),this._isInResult&&e.print(" inResult")},e.prototype.setMinEdgeRing=function(t){this._minEdgeRing=t},e.prototype.isLineEdge=function(){var t=this._label.isLine(0)||this._label.isLine(1),e=!this._label.isArea(0)||this._label.allPositionsEqual(0,qc.EXTERIOR),n=!this._label.isArea(1)||this._label.allPositionsEqual(1,qc.EXTERIOR);return t&&e&&n},e.prototype.setEdgeRing=function(t){this._edgeRing=t},e.prototype.getMinEdgeRing=function(){return this._minEdgeRing},e.prototype.getDepthDelta=function(){var t=this._edge.getDepthDelta();return this._isForward||(t=-t),t},e.prototype.setInResult=function(t){this._isInResult=t},e.prototype.getSym=function(){return this._sym},e.prototype.isForward=function(){return this._isForward},e.prototype.getEdge=function(){return this._edge},e.prototype.printEdge=function(t){this.print(t),t.print(" "),this._isForward?this._edge.print(t):this._edge.printReverse(t)},e.prototype.setSym=function(t){this._sym=t},e.prototype.setVisitedEdge=function(t){this.setVisited(t),this._sym.setVisited(t)},e.prototype.setEdgeDepths=function(t,e){var n=this.getEdge().getDepthDelta();this._isForward||(n=-n);var i=1;t===rf.LEFT&&(i=-1);var o=rf.opposite(t),r=e+n*i;this.setDepth(t,e),this.setDepth(o,r)},e.prototype.getEdgeRing=function(){return this._edgeRing},e.prototype.isInResult=function(){return this._isInResult},e.prototype.setNext=function(t){this._next=t},e.prototype.isVisited=function(){return this._isVisited},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.depthFactor=function(t,e){return t===qc.EXTERIOR&&e===qc.INTERIOR?1:t===qc.INTERIOR&&e===qc.EXTERIOR?-1:0},e}(Ef),Sf=function(){};Sf.prototype.createNode=function(t){return new vf(t,null)},Sf.prototype.interfaces_=function(){return[]},Sf.prototype.getClass=function(){return Sf};var If=function(){if(this._edges=new Vh,this._nodes=null,this._edgeEndList=new Vh,0===arguments.length)this._nodes=new xf(new Sf);else if(1===arguments.length){var t=arguments[0];this._nodes=new xf(t)}};If.prototype.printEdges=function(t){t.println("Edges:");for(var e=0;e<this._edges.size();e++){t.println("edge "+e+":");var n=this._edges.get(e);n.print(t),n.eiList.print(t)}},If.prototype.find=function(t){return this._nodes.find(t)},If.prototype.addNode=function(){if(arguments[0]instanceof vf){var t=arguments[0];return this._nodes.addNode(t)}if(arguments[0]instanceof jc){var e=arguments[0];return this._nodes.addNode(e)}},If.prototype.getNodeIterator=function(){return this._nodes.iterator()},If.prototype.linkResultDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();){t.next().getEdges().linkResultDirectedEdges()}},If.prototype.debugPrintln=function(t){sh.out.println(t)},If.prototype.isBoundaryNode=function(t,e){var n=this._nodes.find(e);if(null===n)return!1;var i=n.getLabel();return null!==i&&i.getLocation(t)===qc.BOUNDARY},If.prototype.linkAllDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();){t.next().getEdges().linkAllDirectedEdges()}},If.prototype.matchInSameDirection=function(t,e,n,i){return!!t.equals(n)&&(Eh.computeOrientation(t,e,i)===Eh.COLLINEAR&&bf.quadrant(t,e)===bf.quadrant(n,i))},If.prototype.getEdgeEnds=function(){return this._edgeEndList},If.prototype.debugPrint=function(t){sh.out.print(t)},If.prototype.getEdgeIterator=function(){return this._edges.iterator()},If.prototype.findEdgeInSameDirection=function(t,e){for(var n=this,i=0;i<this._edges.size();i++){var o=n._edges.get(i),r=o.getCoordinates();if(n.matchInSameDirection(t,e,r[0],r[1]))return o;if(n.matchInSameDirection(t,e,r[r.length-1],r[r.length-2]))return o}return null},If.prototype.insertEdge=function(t){this._edges.add(t)},If.prototype.findEdgeEnd=function(t){for(var e=this.getEdgeEnds().iterator();e.hasNext();){var n=e.next();if(n.getEdge()===t)return n}return null},If.prototype.addEdges=function(t){for(var e=this,n=t.iterator();n.hasNext();){var i=n.next();e._edges.add(i);var o=new Cf(i,!0),r=new Cf(i,!1);o.setSym(r),r.setSym(o),e.add(o),e.add(r)}},If.prototype.add=function(t){this._nodes.add(t),this._edgeEndList.add(t)},If.prototype.getNodes=function(){return this._nodes.values()},If.prototype.findEdge=function(t,e){for(var n=0;n<this._edges.size();n++){var i=this._edges.get(n),o=i.getCoordinates();if(t.equals(o[0])&&e.equals(o[1]))return i}return null},If.prototype.interfaces_=function(){return[]},If.prototype.getClass=function(){return If},If.linkResultDirectedEdges=function(t){for(var e=t.iterator();e.hasNext();){e.next().getEdges().linkResultDirectedEdges()}};var Lf=function(){this._geometryFactory=null,this._shellList=new Vh;var t=arguments[0];this._geometryFactory=t};Lf.prototype.sortShellsAndHoles=function(t,e,n){for(var i=t.iterator();i.hasNext();){var o=i.next();o.isHole()?n.add(o):e.add(o)}},Lf.prototype.computePolygons=function(t){for(var e=new Vh,n=t.iterator();n.hasNext();){var i=n.next().toPolygon(this._geometryFactory);e.add(i)}return e},Lf.prototype.placeFreeHoles=function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next();if(null===i.getShell()){var o=this.findEdgeRingContaining(i,t);if(null===o)throw new cf("unable to assign hole to a shell",i.getCoordinate(0));i.setShell(o)}}},Lf.prototype.buildMinimalEdgeRings=function(t,e,n){for(var i=new Vh,o=t.iterator();o.hasNext();){var r=o.next();if(r.getMaxNodeDegree()>2){r.linkDirectedEdgesForMinimalEdgeRings();var s=r.buildMinimalRings(),a=this.findShell(s);null!==a?(this.placePolygonHoles(a,s),e.add(a)):n.addAll(s)}else i.add(r)}return i},Lf.prototype.containsPoint=function(t){for(var e=this._shellList.iterator();e.hasNext();){if(e.next().containsPoint(t))return!0}return!1},Lf.prototype.buildMaximalEdgeRings=function(t){for(var e=new Vh,n=t.iterator();n.hasNext();){var i=n.next();if(i.isInResult()&&i.getLabel().isArea()&&null===i.getEdgeRing()){var o=new mf(i,this._geometryFactory);e.add(o),o.setInResult()}}return e},Lf.prototype.placePolygonHoles=function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next();i.isHole()&&i.setShell(t)}},Lf.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},Lf.prototype.findEdgeRingContaining=function(t,e){for(var n=t.getLinearRing(),i=n.getEnvelopeInternal(),o=n.getCoordinateN(0),r=null,s=null,a=e.iterator();a.hasNext();){var l=a.next(),u=l.getLinearRing(),c=u.getEnvelopeInternal();null!==r&&(s=r.getLinearRing().getEnvelopeInternal());var h=!1;c.contains(i)&&Eh.isPointInRing(o,u.getCoordinates())&&(h=!0),h&&(null===r||s.contains(c))&&(r=l)}return r},Lf.prototype.findShell=function(t){for(var e=0,n=null,i=t.iterator();i.hasNext();){var o=i.next();o.isHole()||(n=o,e++)}return mh.isTrue(e<=1,"found two shells in MinimalEdgeRing list"),n},Lf.prototype.add=function(){if(1===arguments.length){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(2===arguments.length){var e=arguments[0],n=arguments[1];If.linkResultDirectedEdges(n);var i=this.buildMaximalEdgeRings(e),o=new Vh,r=this.buildMinimalEdgeRings(i,this._shellList,o);this.sortShellsAndHoles(r,this._shellList,o),this.placeFreeHoles(this._shellList,o)}},Lf.prototype.interfaces_=function(){return[]},Lf.prototype.getClass=function(){return Lf};var Pf=function(){};Pf.prototype.getBounds=function(){},Pf.prototype.interfaces_=function(){return[]},Pf.prototype.getClass=function(){return Pf};var Mf=function(){this._bounds=null,this._item=null;var t=arguments[0],e=arguments[1];this._bounds=t,this._item=e};Mf.prototype.getItem=function(){return this._item},Mf.prototype.getBounds=function(){return this._bounds},Mf.prototype.interfaces_=function(){return[Pf,Bc]},Mf.prototype.getClass=function(){return Mf};var Nf=function(){this._size=null,this._items=null,this._size=0,this._items=new Vh,this._items.add(null)};Nf.prototype.poll=function(){if(this.isEmpty())return null;var t=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),t},Nf.prototype.size=function(){return this._size},Nf.prototype.reorder=function(t){for(var e=this,n=null,i=this._items.get(t);2*t<=this._size&&((n=2*t)!==e._size&&e._items.get(n+1).compareTo(e._items.get(n))<0&&n++,e._items.get(n).compareTo(i)<0);t=n)e._items.set(t,e._items.get(n));this._items.set(t,i)},Nf.prototype.clear=function(){this._size=0,this._items.clear()},Nf.prototype.isEmpty=function(){return 0===this._size},Nf.prototype.add=function(t){this._items.add(null),this._size+=1;var e=this._size;for(this._items.set(0,t);t.compareTo(this._items.get(Math.trunc(e/2)))<0;e/=2)this._items.set(e,this._items.get(Math.trunc(e/2)));this._items.set(e,t)},Nf.prototype.interfaces_=function(){return[]},Nf.prototype.getClass=function(){return Nf};var Tf=function(){};Tf.prototype.visitItem=function(t){},Tf.prototype.interfaces_=function(){return[]},Tf.prototype.getClass=function(){return Tf};var Of=function(){};Of.prototype.insert=function(t,e){},Of.prototype.remove=function(t,e){},Of.prototype.query=function(){},Of.prototype.interfaces_=function(){return[]},Of.prototype.getClass=function(){return Of};var Af=function(){if(this._childBoundables=new Vh,this._bounds=null,this._level=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._level=t}},Rf={serialVersionUID:{configurable:!0}};Af.prototype.getLevel=function(){return this._level},Af.prototype.size=function(){return this._childBoundables.size()},Af.prototype.getChildBoundables=function(){return this._childBoundables},Af.prototype.addChildBoundable=function(t){mh.isTrue(null===this._bounds),this._childBoundables.add(t)},Af.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},Af.prototype.getBounds=function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds},Af.prototype.interfaces_=function(){return[Pf,Bc]},Af.prototype.getClass=function(){return Af},Rf.serialVersionUID.get=function(){return 0x5a1e55ec41369800},Object.defineProperties(Af,Rf);var Df=function(){};Df.reverseOrder=function(){return{compare:function(t,e){return e.compareTo(t)}}},Df.min=function(t){return Df.sort(t),t.get(0)},Df.sort=function(t,e){var n=t.toArray();e?cp.sort(n,e):cp.sort(n);for(var i=t.iterator(),o=0,r=n.length;o<r;o++)i.next(),i.set(n[o])},Df.singletonList=function(t){var e=new Vh;return e.add(t),e};var kf=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var t=arguments[0],e=arguments[1],n=arguments[2];this._boundable1=t,this._boundable2=e,this._itemDistance=n,this._distance=this.distance()};kf.prototype.expandToQueue=function(t,e){var n=kf.isComposite(this._boundable1),i=kf.isComposite(this._boundable2);if(n&&i)return kf.area(this._boundable1)>kf.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,t,e),null):(this.expand(this._boundable2,this._boundable1,t,e),null);if(n)return this.expand(this._boundable1,this._boundable2,t,e),null;if(i)return this.expand(this._boundable2,this._boundable1,t,e),null;throw new Ac("neither boundable is composite")},kf.prototype.isLeaves=function(){return!(kf.isComposite(this._boundable1)||kf.isComposite(this._boundable2))},kf.prototype.compareTo=function(t){var e=t;return this._distance<e._distance?-1:this._distance>e._distance?1:0},kf.prototype.expand=function(t,e,n,i){for(var o=t.getChildBoundables().iterator();o.hasNext();){var r=o.next(),s=new kf(r,e,this._itemDistance);s.getDistance()<i&&n.add(s)}},kf.prototype.getBoundable=function(t){return 0===t?this._boundable1:this._boundable2},kf.prototype.getDistance=function(){return this._distance},kf.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},kf.prototype.interfaces_=function(){return[kc]},kf.prototype.getClass=function(){return kf},kf.area=function(t){return t.getBounds().getArea()},kf.isComposite=function(t){return t instanceof Af};var Ff=function t(){if(this._root=null,this._built=!1,this._itemBoundables=new Vh,this._nodeCapacity=null,0===arguments.length){var e=t.DEFAULT_NODE_CAPACITY;this._nodeCapacity=e}else if(1===arguments.length){var n=arguments[0];mh.isTrue(n>1,"Node capacity must be greater than 1"),this._nodeCapacity=n}},zf={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};Ff.prototype.getNodeCapacity=function(){return this._nodeCapacity},Ff.prototype.lastNode=function(t){return t.get(t.size()-1)},Ff.prototype.size=function(){var t=this;if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var e=arguments[0],n=0,i=e.getChildBoundables().iterator();i.hasNext();){var o=i.next();o instanceof Af?n+=t.size(o):o instanceof Mf&&(n+=1)}return n}},Ff.prototype.removeItem=function(t,e){for(var n=null,i=t.getChildBoundables().iterator();i.hasNext();){var o=i.next();o instanceof Mf&&o.getItem()===e&&(n=o)}return null!==n&&(t.getChildBoundables().remove(n),!0)},Ff.prototype.itemsTree=function(){var t=this;if(0===arguments.length){this.build();var e=this.itemsTree(this._root);return null===e?new Vh:e}if(1===arguments.length){for(var n=arguments[0],i=new Vh,o=n.getChildBoundables().iterator();o.hasNext();){var r=o.next();if(r instanceof Af){var s=t.itemsTree(r);null!==s&&i.add(s)}else r instanceof Mf?i.add(r.getItem()):mh.shouldNeverReachHere()}return i.size()<=0?null:i}},Ff.prototype.insert=function(t,e){mh.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new Mf(t,e))},Ff.prototype.boundablesAtLevel=function(){var t=this;if(1===arguments.length){var e=arguments[0],n=new Vh;return this.boundablesAtLevel(e,this._root,n),n}if(3===arguments.length){var i=arguments[0],o=arguments[1],r=arguments[2];if(mh.isTrue(i>-2),o.getLevel()===i)return r.add(o),null;for(var s=o.getChildBoundables().iterator();s.hasNext();){var a=s.next();a instanceof Af?t.boundablesAtLevel(i,a,r):(mh.isTrue(a instanceof Mf),-1===i&&r.add(a))}return null}},Ff.prototype.query=function(){var t=this;if(1===arguments.length){var e=arguments[0];this.build();var n=new Vh;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),e)&&this.query(e,this._root,n),n}if(2===arguments.length){var i=arguments[0],o=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),i)&&this.query(i,this._root,o)}else if(3===arguments.length)if(Wc(arguments[2],Tf)&&arguments[0]instanceof Object&&arguments[1]instanceof Af)for(var r=arguments[0],s=arguments[1],a=arguments[2],l=s.getChildBoundables(),u=0;u<l.size();u++){var c=l.get(u);t.getIntersectsOp().intersects(c.getBounds(),r)&&(c instanceof Af?t.query(r,c,a):c instanceof Mf?a.visitItem(c.getItem()):mh.shouldNeverReachHere())}else if(Wc(arguments[2],Bh)&&arguments[0]instanceof Object&&arguments[1]instanceof Af)for(var h=arguments[0],p=arguments[1],f=arguments[2],d=p.getChildBoundables(),g=0;g<d.size();g++){var _=d.get(g);t.getIntersectsOp().intersects(_.getBounds(),h)&&(_ instanceof Af?t.query(h,_,f):_ instanceof Mf?f.add(_.getItem()):mh.shouldNeverReachHere())}},Ff.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},Ff.prototype.getRoot=function(){return this.build(),this._root},Ff.prototype.remove=function(){var t=this;if(2===arguments.length){var e=arguments[0],n=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),e)&&this.remove(e,this._root,n)}if(3===arguments.length){var i=arguments[0],o=arguments[1],r=arguments[2],s=this.removeItem(o,r);if(s)return!0;for(var a=null,l=o.getChildBoundables().iterator();l.hasNext();){var u=l.next();if(t.getIntersectsOp().intersects(u.getBounds(),i)&&(u instanceof Af&&(s=t.remove(i,u,r)))){a=u;break}}return null!==a&&a.getChildBoundables().isEmpty()&&o.getChildBoundables().remove(a),s}},Ff.prototype.createHigherLevels=function(t,e){mh.isTrue(!t.isEmpty());var n=this.createParentBoundables(t,e+1);return 1===n.size()?n.get(0):this.createHigherLevels(n,e+1)},Ff.prototype.depth=function(){var t=this;if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var e=arguments[0],n=0,i=e.getChildBoundables().iterator();i.hasNext();){var o=i.next();if(o instanceof Af){var r=t.depth(o);r>n&&(n=r)}}return n+1}},Ff.prototype.createParentBoundables=function(t,e){var n=this;mh.isTrue(!t.isEmpty());var i=new Vh;i.add(this.createNode(e));var o=new Vh(t);Df.sort(o,this.getComparator());for(var r=o.iterator();r.hasNext();){var s=r.next();n.lastNode(i).getChildBoundables().size()===n.getNodeCapacity()&&i.add(n.createNode(e)),n.lastNode(i).addChildBoundable(s)}return i},Ff.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},Ff.prototype.interfaces_=function(){return[Bc]},Ff.prototype.getClass=function(){return Ff},Ff.compareDoubles=function(t,e){return t>e?1:t<e?-1:0},zf.IntersectsOp.get=function(){return Bf},zf.serialVersionUID.get=function(){return-0x35ef64c82d4c5400},zf.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(Ff,zf);var Bf=function(){},jf=function(){};jf.prototype.distance=function(t,e){},jf.prototype.interfaces_=function(){return[]},jf.prototype.getClass=function(){return jf};var Vf=function(t){function e(n){n=n||e.DEFAULT_NODE_CAPACITY,t.call(this,n)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return e.prototype.createParentBoundablesFromVerticalSlices=function(t,e){mh.isTrue(t.length>0);for(var n=new Vh,i=0;i<t.length;i++)n.addAll(this.createParentBoundablesFromVerticalSlice(t[i],e));return n},e.prototype.createNode=function(t){return new Gf(t)},e.prototype.size=function(){return 0===arguments.length?t.prototype.size.call(this):t.prototype.size.apply(this,arguments)},e.prototype.insert=function(){if(2!==arguments.length)return t.prototype.insert.apply(this,arguments);var e=arguments[0],n=arguments[1];if(e.isNull())return null;t.prototype.insert.call(this,e,n)},e.prototype.getIntersectsOp=function(){return e.intersectsOp},e.prototype.verticalSlices=function(t,e){for(var n=Math.trunc(Math.ceil(t.size()/e)),i=new Array(e).fill(null),o=t.iterator(),r=0;r<e;r++){i[r]=new Vh;for(var s=0;o.hasNext()&&s<n;){var a=o.next();i[r].add(a),s++}}return i},e.prototype.query=function(){if(1===arguments.length){var e=arguments[0];return t.prototype.query.call(this,e)}if(2===arguments.length){var n=arguments[0],i=arguments[1];t.prototype.query.call(this,n,i)}else if(3===arguments.length)if(Wc(arguments[2],Tf)&&arguments[0]instanceof Object&&arguments[1]instanceof Af){var o=arguments[0],r=arguments[1],s=arguments[2];t.prototype.query.call(this,o,r,s)}else if(Wc(arguments[2],Bh)&&arguments[0]instanceof Object&&arguments[1]instanceof Af){var a=arguments[0],l=arguments[1],u=arguments[2];t.prototype.query.call(this,a,l,u)}},e.prototype.getComparator=function(){return e.yComparator},e.prototype.createParentBoundablesFromVerticalSlice=function(e,n){return t.prototype.createParentBoundables.call(this,e,n)},e.prototype.remove=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return t.prototype.remove.call(this,e,n)}return t.prototype.remove.apply(this,arguments)},e.prototype.depth=function(){return 0===arguments.length?t.prototype.depth.call(this):t.prototype.depth.apply(this,arguments)},e.prototype.createParentBoundables=function(t,n){mh.isTrue(!t.isEmpty());var i=Math.trunc(Math.ceil(t.size()/this.getNodeCapacity())),o=new Vh(t);Df.sort(o,e.xComparator);var r=this.verticalSlices(o,Math.trunc(Math.ceil(Math.sqrt(i))));return this.createParentBoundablesFromVerticalSlices(r,n)},e.prototype.nearestNeighbour=function(){if(1===arguments.length){if(Wc(arguments[0],jf)){var t=arguments[0],n=new kf(this.getRoot(),this.getRoot(),t);return this.nearestNeighbour(n)}if(arguments[0]instanceof kf){var i=arguments[0];return this.nearestNeighbour(i,Rc.POSITIVE_INFINITY)}}else if(2===arguments.length){if(arguments[0]instanceof e&&Wc(arguments[1],jf)){var o=arguments[0],r=arguments[1],s=new kf(this.getRoot(),o.getRoot(),r);return this.nearestNeighbour(s)}if(arguments[0]instanceof kf&&"number"==typeof arguments[1]){var a=arguments[0],l=arguments[1],u=l,c=null,h=new Nf;for(h.add(a);!h.isEmpty()&&u>0;){var p=h.poll(),f=p.getDistance();if(f>=u)break;p.isLeaves()?(u=f,c=p):p.expandToQueue(h,u)}return[c.getBoundable(0).getItem(),c.getBoundable(1).getItem()]}}else if(3===arguments.length){var d=arguments[0],g=arguments[1],_=arguments[2],m=new Mf(d,g),y=new kf(this.getRoot(),m,_);return this.nearestNeighbour(y)[0]}},e.prototype.interfaces_=function(){return[Of,Bc]},e.prototype.getClass=function(){return e},e.centreX=function(t){return e.avg(t.getMinX(),t.getMaxX())},e.avg=function(t,e){return(t+e)/2},e.centreY=function(t){return e.avg(t.getMinY(),t.getMaxY())},n.STRtreeNode.get=function(){return Gf},n.serialVersionUID.get=function(){return 0x39920f7d5f261e0},n.xComparator.get=function(){return{interfaces_:function(){return[zc]},compare:function(n,i){return t.compareDoubles(e.centreX(n.getBounds()),e.centreX(i.getBounds()))}}},n.yComparator.get=function(){return{interfaces_:function(){return[zc]},compare:function(n,i){return t.compareDoubles(e.centreY(n.getBounds()),e.centreY(i.getBounds()))}}},n.intersectsOp.get=function(){return{interfaces_:function(){return[t.IntersectsOp]},intersects:function(t,e){return t.intersects(e)}}},n.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(e,n),e}(Ff),Gf=function(t){function e(){var e=arguments[0];t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.computeBounds=function(){for(var t=null,e=this.getChildBoundables().iterator();e.hasNext();){var n=e.next();null===t?t=new lh(n.getBounds()):t.expandToInclude(n.getBounds())}return t},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Af),Uf=function(){};Uf.prototype.interfaces_=function(){return[]},Uf.prototype.getClass=function(){return Uf},Uf.relativeSign=function(t,e){return t<e?-1:t>e?1:0},Uf.compare=function(t,e,n){if(e.equals2D(n))return 0;var i=Uf.relativeSign(e.x,n.x),o=Uf.relativeSign(e.y,n.y);switch(t){case 0:return Uf.compareValue(i,o);case 1:return Uf.compareValue(o,i);case 2:return Uf.compareValue(o,-i);case 3:return Uf.compareValue(-i,o);case 4:return Uf.compareValue(-i,-o);case 5:return Uf.compareValue(-o,-i);case 6:return Uf.compareValue(-o,i);case 7:return Uf.compareValue(i,-o)}return mh.shouldNeverReachHere("invalid octant value"),0},Uf.compareValue=function(t,e){return t<0?-1:t>0?1:e<0?-1:e>0?1:0};var qf=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this._segString=t,this.coord=new jc(e),this.segmentIndex=n,this._segmentOctant=i,this._isInterior=!e.equals2D(t.getCoordinate(n))};qf.prototype.getCoordinate=function(){return this.coord},qf.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex)},qf.prototype.compareTo=function(t){var e=t;return this.segmentIndex<e.segmentIndex?-1:this.segmentIndex>e.segmentIndex?1:this.coord.equals2D(e.coord)?0:Uf.compare(this._segmentOctant,this.coord,e.coord)},qf.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===t},qf.prototype.isInterior=function(){return this._isInterior},qf.prototype.interfaces_=function(){return[kc]},qf.prototype.getClass=function(){return qf};var Hf=function(){this._nodeMap=new rp,this._edge=null;var t=arguments[0];this._edge=t};Hf.prototype.getSplitCoordinates=function(){var t=new Uh;this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next();this.addEdgeCoordinates(n,i,t),n=i}return t.toCoordinateArray()},Hf.prototype.addCollapsedNodes=function(){var t=new Vh;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(var e=t.iterator();e.hasNext();){var n=e.next().intValue();this.add(this._edge.getCoordinate(n),n)}},Hf.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();){e.next().print(t)}},Hf.prototype.findCollapsesFromExistingVertices=function(t){for(var e=0;e<this._edge.size()-2;e++){var n=this._edge.getCoordinate(e),i=this._edge.getCoordinate(e+2);n.equals2D(i)&&t.add(new $c(e+1))}},Hf.prototype.addEdgeCoordinates=function(t,e,n){var i=this._edge.getCoordinate(e.segmentIndex),o=e.isInterior()||!e.coord.equals2D(i);n.add(new jc(t.coord),!1);for(var r=t.segmentIndex+1;r<=e.segmentIndex;r++)n.add(this._edge.getCoordinate(r));o&&n.add(new jc(e.coord))},Hf.prototype.iterator=function(){return this._nodeMap.values().iterator()},Hf.prototype.addSplitEdges=function(t){this.addEndpoints(),this.addCollapsedNodes();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next(),o=this.createSplitEdge(n,i);t.add(o),n=i}},Hf.prototype.findCollapseIndex=function(t,e,n){if(!t.coord.equals2D(e.coord))return!1;var i=e.segmentIndex-t.segmentIndex;return e.isInterior()||i--,1===i&&(n[0]=t.segmentIndex+1,!0)},Hf.prototype.findCollapsesFromInsertedNodes=function(t){for(var e=new Array(1).fill(null),n=this.iterator(),i=n.next();n.hasNext();){var o=n.next();this.findCollapseIndex(i,o,e)&&t.add(new $c(e[0])),i=o}},Hf.prototype.getEdge=function(){return this._edge},Hf.prototype.addEndpoints=function(){var t=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(t),t)},Hf.prototype.createSplitEdge=function(t,e){var n=e.segmentIndex-t.segmentIndex+2,i=this._edge.getCoordinate(e.segmentIndex),o=e.isInterior()||!e.coord.equals2D(i);o||n--;var r=new Array(n).fill(null),s=0;r[s++]=new jc(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)r[s++]=this._edge.getCoordinate(a);return o&&(r[s]=new jc(e.coord)),new Xf(r,this._edge.getData())},Hf.prototype.add=function(t,e){var n=new qf(this._edge,t,e,this._edge.getSegmentOctant(e)),i=this._nodeMap.get(n);return null!==i?(mh.isTrue(i.coord.equals2D(t),"Found equal nodes with different coordinates"),i):(this._nodeMap.put(n,n),n)},Hf.prototype.checkSplitEdgesCorrectness=function(t){var e=this._edge.getCoordinates(),n=t.get(0).getCoordinate(0);if(!n.equals2D(e[0]))throw new gh("bad split edge start point at "+n);var i=t.get(t.size()-1).getCoordinates(),o=i[i.length-1];if(!o.equals2D(e[e.length-1]))throw new gh("bad split edge end point at "+o)},Hf.prototype.interfaces_=function(){return[]},Hf.prototype.getClass=function(){return Hf};var Wf=function(){};Wf.prototype.interfaces_=function(){return[]},Wf.prototype.getClass=function(){return Wf},Wf.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new Ac("Cannot compute the octant for point ( "+t+", "+e+" )");var n=Math.abs(t),i=Math.abs(e);return t>=0?e>=0?n>=i?0:1:n>=i?7:6:e>=0?n>=i?3:2:n>=i?4:5}if(arguments[0]instanceof jc&&arguments[1]instanceof jc){var o=arguments[0],r=arguments[1],s=r.x-o.x,a=r.y-o.y;if(0===s&&0===a)throw new Ac("Cannot compute the octant for two identical points "+o);return Wf.octant(s,a)}};var Zf=function(){};Zf.prototype.getCoordinates=function(){},Zf.prototype.size=function(){},Zf.prototype.getCoordinate=function(t){},Zf.prototype.isClosed=function(){},Zf.prototype.setData=function(t){},Zf.prototype.getData=function(){},Zf.prototype.interfaces_=function(){return[]},Zf.prototype.getClass=function(){return Zf};var Yf=function(){};Yf.prototype.addIntersection=function(t,e){},Yf.prototype.interfaces_=function(){return[Zf]},Yf.prototype.getClass=function(){return Yf};var Xf=function(){this._nodeList=new Hf(this),this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e};Xf.prototype.getCoordinates=function(){return this._pts},Xf.prototype.size=function(){return this._pts.length},Xf.prototype.getCoordinate=function(t){return this._pts[t]},Xf.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},Xf.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))},Xf.prototype.setData=function(t){this._data=t},Xf.prototype.safeOctant=function(t,e){return t.equals2D(e)?0:Wf.octant(t,e)},Xf.prototype.getData=function(){return this._data},Xf.prototype.addIntersection=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.addIntersectionNode(t,e)}else if(4===arguments.length){var n=arguments[0],i=arguments[1],o=arguments[3],r=new jc(n.getIntersection(o));this.addIntersection(r,i)}},Xf.prototype.toString=function(){return dh.toLineString(new Vp(this._pts))},Xf.prototype.getNodeList=function(){return this._nodeList},Xf.prototype.addIntersectionNode=function(t,e){var n=e,i=n+1;if(i<this._pts.length){var o=this._pts[i];t.equals2D(o)&&(n=i)}return this._nodeList.add(t,n)},Xf.prototype.addIntersections=function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++)this.addIntersection(t,e,n,i)},Xf.prototype.interfaces_=function(){return[Yf]},Xf.prototype.getClass=function(){return Xf},Xf.getNodedSubstrings=function(){if(1===arguments.length){var t=arguments[0],e=new Vh;return Xf.getNodedSubstrings(t,e),e}if(2===arguments.length)for(var n=arguments[0],i=arguments[1],o=n.iterator();o.hasNext();){var r=o.next();r.getNodeList().addSplitEdges(i)}};var $f=function(){if(this.p0=null,this.p1=null,0===arguments.length)this.p0=new jc,this.p1=new jc;else if(1===arguments.length){var t=arguments[0];this.p0=new jc(t.p0),this.p1=new jc(t.p1)}else if(2===arguments.length)this.p0=arguments[0],this.p1=arguments[1];else if(4===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2],o=arguments[3];this.p0=new jc(e,n),this.p1=new jc(i,o)}},Kf={serialVersionUID:{configurable:!0}};$f.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},$f.prototype.orientationIndex=function(){if(arguments[0]instanceof $f){var t=arguments[0],e=Eh.orientationIndex(this.p0,this.p1,t.p0),n=Eh.orientationIndex(this.p0,this.p1,t.p1);return e>=0&&n>=0||e<=0&&n<=0?Math.max(e,n):0}if(arguments[0]instanceof jc){var i=arguments[0];return Eh.orientationIndex(this.p0,this.p1,i)}},$f.prototype.toGeometry=function(t){return t.createLineString([this.p0,this.p1])},$f.prototype.isVertical=function(){return this.p0.x===this.p1.x},$f.prototype.equals=function(t){if(!(t instanceof $f))return!1;var e=t;return this.p0.equals(e.p0)&&this.p1.equals(e.p1)},$f.prototype.intersection=function(t){var e=new xh;return e.computeIntersection(this.p0,this.p1,t.p0,t.p1),e.hasIntersection()?e.getIntersection(0):null},$f.prototype.project=function(){if(arguments[0]instanceof jc){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new jc(t);var e=this.projectionFactor(t),n=new jc;return n.x=this.p0.x+e*(this.p1.x-this.p0.x),n.y=this.p0.y+e*(this.p1.y-this.p0.y),n}if(arguments[0]instanceof $f){var i=arguments[0],o=this.projectionFactor(i.p0),r=this.projectionFactor(i.p1);if(o>=1&&r>=1)return null;if(o<=0&&r<=0)return null;var s=this.project(i.p0);o<0&&(s=this.p0),o>1&&(s=this.p1);var a=this.project(i.p1);return r<0&&(a=this.p0),r>1&&(a=this.p1),new $f(s,a)}},$f.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},$f.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},$f.prototype.getCoordinate=function(t){return 0===t?this.p0:this.p1},$f.prototype.distancePerpendicular=function(t){return Eh.distancePointLinePerpendicular(t,this.p0,this.p1)},$f.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},$f.prototype.midPoint=function(){return $f.midPoint(this.p0,this.p1)},$f.prototype.projectionFactor=function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var e=this.p1.x-this.p0.x,n=this.p1.y-this.p0.y,i=e*e+n*n;return i<=0?Rc.NaN:((t.x-this.p0.x)*e+(t.y-this.p0.y)*n)/i},$f.prototype.closestPoints=function(t){var e=this.intersection(t);if(null!==e)return[e,e];var n=new Array(2).fill(null),i=Rc.MAX_VALUE,o=null,r=this.closestPoint(t.p0);i=r.distance(t.p0),n[0]=r,n[1]=t.p0;var s=this.closestPoint(t.p1);(o=s.distance(t.p1))<i&&(i=o,n[0]=s,n[1]=t.p1);var a=t.closestPoint(this.p0);(o=a.distance(this.p0))<i&&(i=o,n[0]=this.p0,n[1]=a);var l=t.closestPoint(this.p1);return(o=l.distance(this.p1))<i&&(i=o,n[0]=this.p1,n[1]=l),n},$f.prototype.closestPoint=function(t){var e=this.projectionFactor(t);return e>0&&e<1?this.project(t):this.p0.distance(t)<this.p1.distance(t)?this.p0:this.p1},$f.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},$f.prototype.getLength=function(){return this.p0.distance(this.p1)},$f.prototype.compareTo=function(t){var e=t,n=this.p0.compareTo(e.p0);return 0!==n?n:this.p1.compareTo(e.p1)},$f.prototype.reverse=function(){var t=this.p0;this.p0=this.p1,this.p1=t},$f.prototype.equalsTopo=function(t){return this.p0.equals(t.p0)&&(this.p1.equals(t.p1)||this.p0.equals(t.p1))&&this.p1.equals(t.p0)},$f.prototype.lineIntersection=function(t){try{return ah.intersection(this.p0,this.p1,t.p0,t.p1)}catch(e){if(!(e instanceof rh))throw e}return null},$f.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},$f.prototype.pointAlongOffset=function(t,e){var n=this.p0.x+t*(this.p1.x-this.p0.x),i=this.p0.y+t*(this.p1.y-this.p0.y),o=this.p1.x-this.p0.x,r=this.p1.y-this.p0.y,s=Math.sqrt(o*o+r*r),a=0,l=0;if(0!==e){if(s<=0)throw new Error("Cannot compute offset from zero-length line segment");a=e*o/s,l=e*r/s}return new jc(n-l,i+a)},$f.prototype.setCoordinates=function(){if(1===arguments.length){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.p0.x=e.x,this.p0.y=e.y,this.p1.x=n.x,this.p1.y=n.y}},$f.prototype.segmentFraction=function(t){var e=this.projectionFactor(t);return e<0?e=0:(e>1||Rc.isNaN(e))&&(e=1),e},$f.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},$f.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},$f.prototype.distance=function(){if(arguments[0]instanceof $f){var t=arguments[0];return Eh.distanceLineLine(this.p0,this.p1,t.p0,t.p1)}if(arguments[0]instanceof jc){var e=arguments[0];return Eh.distancePointLine(e,this.p0,this.p1)}},$f.prototype.pointAlong=function(t){var e=new jc;return e.x=this.p0.x+t*(this.p1.x-this.p0.x),e.y=this.p0.y+t*(this.p1.y-this.p0.y),e},$f.prototype.hashCode=function(){var t=Rc.doubleToLongBits(this.p0.x);t^=31*Rc.doubleToLongBits(this.p0.y);var e=Math.trunc(t)^Math.trunc(t>>32),n=Rc.doubleToLongBits(this.p1.x);return n^=31*Rc.doubleToLongBits(this.p1.y),e^(Math.trunc(n)^Math.trunc(n>>32))},$f.prototype.interfaces_=function(){return[kc,Bc]},$f.prototype.getClass=function(){return $f},$f.midPoint=function(t,e){return new jc((t.x+e.x)/2,(t.y+e.y)/2)},Kf.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties($f,Kf);var Jf=function(){this.tempEnv1=new lh,this.tempEnv2=new lh,this._overlapSeg1=new $f,this._overlapSeg2=new $f};Jf.prototype.overlap=function(){if(2===arguments.length);else if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];t.getLineSegment(e,this._overlapSeg1),n.getLineSegment(i,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}},Jf.prototype.interfaces_=function(){return[]},Jf.prototype.getClass=function(){return Jf};var Qf=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this._pts=t,this._start=e,this._end=n,this._context=i};Qf.prototype.getLineSegment=function(t,e){e.p0=this._pts[t],e.p1=this._pts[t+1]},Qf.prototype.computeSelect=function(t,e,n,i){var o=this._pts[e],r=this._pts[n];if(i.tempEnv1.init(o,r),n-e==1)return i.select(this,e),null;if(!t.intersects(i.tempEnv1))return null;var s=Math.trunc((e+n)/2);e<s&&this.computeSelect(t,e,s,i),s<n&&this.computeSelect(t,s,n,i)},Qf.prototype.getCoordinates=function(){for(var t=new Array(this._end-this._start+1).fill(null),e=0,n=this._start;n<=this._end;n++)t[e++]=this._pts[n];return t},Qf.prototype.computeOverlaps=function(t,e){this.computeOverlapsInternal(this._start,this._end,t,t._start,t._end,e)},Qf.prototype.setId=function(t){this._id=t},Qf.prototype.select=function(t,e){this.computeSelect(t,this._start,this._end,e)},Qf.prototype.getEnvelope=function(){if(null===this._env){var t=this._pts[this._start],e=this._pts[this._end];this._env=new lh(t,e)}return this._env},Qf.prototype.getEndIndex=function(){return this._end},Qf.prototype.getStartIndex=function(){return this._start},Qf.prototype.getContext=function(){return this._context},Qf.prototype.getId=function(){return this._id},Qf.prototype.computeOverlapsInternal=function(t,e,n,i,o,r){var s=this._pts[t],a=this._pts[e],l=n._pts[i],u=n._pts[o];if(e-t==1&&o-i==1)return r.overlap(this,t,n,i),null;if(r.tempEnv1.init(s,a),r.tempEnv2.init(l,u),!r.tempEnv1.intersects(r.tempEnv2))return null;var c=Math.trunc((t+e)/2),h=Math.trunc((i+o)/2);t<c&&(i<h&&this.computeOverlapsInternal(t,c,n,i,h,r),h<o&&this.computeOverlapsInternal(t,c,n,h,o,r)),c<e&&(i<h&&this.computeOverlapsInternal(c,e,n,i,h,r),h<o&&this.computeOverlapsInternal(c,e,n,h,o,r))},Qf.prototype.interfaces_=function(){return[]},Qf.prototype.getClass=function(){return Qf};var td=function(){};td.prototype.interfaces_=function(){return[]},td.prototype.getClass=function(){return td},td.getChainStartIndices=function(t){var e=0,n=new Vh;n.add(new $c(e));do{var i=td.findChainEnd(t,e);n.add(new $c(i)),e=i}while(e<t.length-1);return td.toIntArray(n)},td.findChainEnd=function(t,e){for(var n=e;n<t.length-1&&t[n].equals2D(t[n+1]);)n++;if(n>=t.length-1)return t.length-1;for(var i=bf.quadrant(t[n],t[n+1]),o=e+1;o<t.length;){if(!t[o-1].equals2D(t[o]))if(bf.quadrant(t[o-1],t[o])!==i)break;o++}return o-1},td.getChains=function(){if(1===arguments.length){var t=arguments[0];return td.getChains(t,null)}if(2===arguments.length){for(var e=arguments[0],n=arguments[1],i=new Vh,o=td.getChainStartIndices(e),r=0;r<o.length-1;r++){var s=new Qf(e,o[r],o[r+1],n);i.add(s)}return i}},td.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e};var ed=function(){};ed.prototype.computeNodes=function(t){},ed.prototype.getNodedSubstrings=function(){},ed.prototype.interfaces_=function(){return[]},ed.prototype.getClass=function(){return ed};var nd=function(){if(this._segInt=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setSegmentIntersector(t)}};nd.prototype.setSegmentIntersector=function(t){this._segInt=t},nd.prototype.interfaces_=function(){return[ed]},nd.prototype.getClass=function(){return nd};var id=function(t){function e(e){e?t.call(this,e):t.call(this),this._monoChains=new Vh,this._index=new Vf,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={SegmentOverlapAction:{configurable:!0}};return e.prototype.getMonotoneChains=function(){return this._monoChains},e.prototype.getNodedSubstrings=function(){return Xf.getNodedSubstrings(this._nodedSegStrings)},e.prototype.getIndex=function(){return this._index},e.prototype.add=function(t){for(var e=this,n=td.getChains(t.getCoordinates(),t).iterator();n.hasNext();){var i=n.next();i.setId(e._idCounter++),e._index.insert(i.getEnvelope(),i),e._monoChains.add(i)}},e.prototype.computeNodes=function(t){this._nodedSegStrings=t;for(var e=t.iterator();e.hasNext();)this.add(e.next());this.intersectChains()},e.prototype.intersectChains=function(){for(var t=this,e=new od(this._segInt),n=this._monoChains.iterator();n.hasNext();)for(var i=n.next(),o=t._index.query(i.getEnvelope()).iterator();o.hasNext();){var r=o.next();if(r.getId()>i.getId()&&(i.computeOverlaps(r,e),t._nOverlaps++),t._segInt.isDone())return null}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.SegmentOverlapAction.get=function(){return od},Object.defineProperties(e,n),e}(nd),od=function(t){function e(){t.call(this),this._si=null;var e=arguments[0];this._si=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.overlap=function(){if(4!==arguments.length)return t.prototype.overlap.apply(this,arguments);var e=arguments[0],n=arguments[1],i=arguments[2],o=arguments[3],r=e.getContext(),s=i.getContext();this._si.processIntersections(r,n,s,o)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Jf),rd=function t(){if(this._quadrantSegments=t.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=t.CAP_ROUND,this._joinStyle=t.JOIN_ROUND,this._mitreLimit=t.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=t.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.setQuadrantSegments(e)}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.setQuadrantSegments(n),this.setEndCapStyle(i)}else if(4===arguments.length){var o=arguments[0],r=arguments[1],s=arguments[2],a=arguments[3];this.setQuadrantSegments(o),this.setEndCapStyle(r),this.setJoinStyle(s),this.setMitreLimit(a)}},sd={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};rd.prototype.getEndCapStyle=function(){return this._endCapStyle},rd.prototype.isSingleSided=function(){return this._isSingleSided},rd.prototype.setQuadrantSegments=function(t){this._quadrantSegments=t,0===this._quadrantSegments&&(this._joinStyle=rd.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=rd.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),t<=0&&(this._quadrantSegments=1),this._joinStyle!==rd.JOIN_ROUND&&(this._quadrantSegments=rd.DEFAULT_QUADRANT_SEGMENTS)},rd.prototype.getJoinStyle=function(){return this._joinStyle},rd.prototype.setJoinStyle=function(t){this._joinStyle=t},rd.prototype.setSimplifyFactor=function(t){this._simplifyFactor=t<0?0:t},rd.prototype.getSimplifyFactor=function(){return this._simplifyFactor},rd.prototype.getQuadrantSegments=function(){return this._quadrantSegments},rd.prototype.setEndCapStyle=function(t){this._endCapStyle=t},rd.prototype.getMitreLimit=function(){return this._mitreLimit},rd.prototype.setMitreLimit=function(t){this._mitreLimit=t},rd.prototype.setSingleSided=function(t){this._isSingleSided=t},rd.prototype.interfaces_=function(){return[]},rd.prototype.getClass=function(){return rd},rd.bufferDistanceError=function(t){var e=Math.PI/2/t;return 1-Math.cos(e/2)},sd.CAP_ROUND.get=function(){return 1},sd.CAP_FLAT.get=function(){return 2},sd.CAP_SQUARE.get=function(){return 3},sd.JOIN_ROUND.get=function(){return 1},sd.JOIN_MITRE.get=function(){return 2},sd.JOIN_BEVEL.get=function(){return 3},sd.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},sd.DEFAULT_MITRE_LIMIT.get=function(){return 5},sd.DEFAULT_SIMPLIFY_FACTOR.get=function(){return.01},Object.defineProperties(rd,sd);var ad=function(t){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=Eh.COUNTERCLOCKWISE,this._inputLine=t||null},ld={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};ad.prototype.isDeletable=function(t,e,n,i){var o=this._inputLine[t],r=this._inputLine[e],s=this._inputLine[n];return!!this.isConcave(o,r,s)&&(!!this.isShallow(o,r,s,i)&&this.isShallowSampled(o,r,t,n,i))},ad.prototype.deleteShallowConcavities=function(){for(var t=this,e=1,n=this.findNextNonDeletedIndex(e),i=this.findNextNonDeletedIndex(n),o=!1;i<this._inputLine.length;){var r=!1;t.isDeletable(e,n,i,t._distanceTol)&&(t._isDeleted[n]=ad.DELETE,r=!0,o=!0),e=r?i:n,n=t.findNextNonDeletedIndex(e),i=t.findNextNonDeletedIndex(n)}return o},ad.prototype.isShallowConcavity=function(t,e,n,i){return Eh.computeOrientation(t,e,n)===this._angleOrientation&&Eh.distancePointLine(e,t,n)<i},ad.prototype.isShallowSampled=function(t,e,n,i,o){var r=Math.trunc((i-n)/ad.NUM_PTS_TO_CHECK);r<=0&&(r=1);for(var s=n;s<i;s+=r)if(!this.isShallow(t,e,this._inputLine[s],o))return!1;return!0},ad.prototype.isConcave=function(t,e,n){return Eh.computeOrientation(t,e,n)===this._angleOrientation},ad.prototype.simplify=function(t){this._distanceTol=Math.abs(t),t<0&&(this._angleOrientation=Eh.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var e=!1;do{e=this.deleteShallowConcavities()}while(e);return this.collapseLine()},ad.prototype.findNextNonDeletedIndex=function(t){for(var e=t+1;e<this._inputLine.length&&this._isDeleted[e]===ad.DELETE;)e++;return e},ad.prototype.isShallow=function(t,e,n,i){return Eh.distancePointLine(e,t,n)<i},ad.prototype.collapseLine=function(){for(var t=new Uh,e=0;e<this._inputLine.length;e++)this._isDeleted[e]!==ad.DELETE&&t.add(this._inputLine[e]);return t.toCoordinateArray()},ad.prototype.interfaces_=function(){return[]},ad.prototype.getClass=function(){return ad},ad.simplify=function(t,e){return new ad(t).simplify(e)},ld.INIT.get=function(){return 0},ld.DELETE.get=function(){return 1},ld.KEEP.get=function(){return 1},ld.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(ad,ld);var ud=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new Vh},cd={COORDINATE_ARRAY_TYPE:{configurable:!0}};ud.prototype.getCoordinates=function(){return this._ptList.toArray(ud.COORDINATE_ARRAY_TYPE)},ud.prototype.setPrecisionModel=function(t){this._precisionModel=t},ud.prototype.addPt=function(t){var e=new jc(t);if(this._precisionModel.makePrecise(e),this.isRedundant(e))return null;this._ptList.add(e)},ud.prototype.revere=function(){},ud.prototype.addPts=function(t,e){if(e)for(var n=0;n<t.length;n++)this.addPt(t[n]);else for(var i=t.length-1;i>=0;i--)this.addPt(t[i])},ud.prototype.isRedundant=function(t){if(this._ptList.size()<1)return!1;var e=this._ptList.get(this._ptList.size()-1);return t.distance(e)<this._minimimVertexDistance},ud.prototype.toString=function(){return(new $p).createLineString(this.getCoordinates()).toString()},ud.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var t=new jc(this._ptList.get(0)),e=this._ptList.get(this._ptList.size()-1);if(t.equals(e))return null;this._ptList.add(t)},ud.prototype.setMinimumVertexDistance=function(t){this._minimimVertexDistance=t},ud.prototype.interfaces_=function(){return[]},ud.prototype.getClass=function(){return ud},cd.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(ud,cd);var hd=function(){},pd={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};hd.prototype.interfaces_=function(){return[]},hd.prototype.getClass=function(){return hd},hd.toDegrees=function(t){return 180*t/Math.PI},hd.normalize=function(t){for(;t>Math.PI;)t-=hd.PI_TIMES_2;for(;t<=-Math.PI;)t+=hd.PI_TIMES_2;return t},hd.angle=function(){if(1===arguments.length){var t=arguments[0];return Math.atan2(t.y,t.x)}if(2===arguments.length){var e=arguments[0],n=arguments[1],i=n.x-e.x,o=n.y-e.y;return Math.atan2(o,i)}},hd.isAcute=function(t,e,n){var i=t.x-e.x,o=t.y-e.y;return i*(n.x-e.x)+o*(n.y-e.y)>0},hd.isObtuse=function(t,e,n){var i=t.x-e.x,o=t.y-e.y;return i*(n.x-e.x)+o*(n.y-e.y)<0},hd.interiorAngle=function(t,e,n){var i=hd.angle(e,t),o=hd.angle(e,n);return Math.abs(o-i)},hd.normalizePositive=function(t){if(t<0){for(;t<0;)t+=hd.PI_TIMES_2;t>=hd.PI_TIMES_2&&(t=0)}else{for(;t>=hd.PI_TIMES_2;)t-=hd.PI_TIMES_2;t<0&&(t=0)}return t},hd.angleBetween=function(t,e,n){var i=hd.angle(e,t),o=hd.angle(e,n);return hd.diff(i,o)},hd.diff=function(t,e){var n=null;return(n=t<e?e-t:t-e)>Math.PI&&(n=2*Math.PI-n),n},hd.toRadians=function(t){return t*Math.PI/180},hd.getTurn=function(t,e){var n=Math.sin(e-t);return n>0?hd.COUNTERCLOCKWISE:n<0?hd.CLOCKWISE:hd.NONE},hd.angleBetweenOriented=function(t,e,n){var i=hd.angle(e,t),o=hd.angle(e,n)-i;return o<=-Math.PI?o+hd.PI_TIMES_2:o>Math.PI?o-hd.PI_TIMES_2:o},pd.PI_TIMES_2.get=function(){return 2*Math.PI},pd.PI_OVER_2.get=function(){return Math.PI/2},pd.PI_OVER_4.get=function(){return Math.PI/4},pd.COUNTERCLOCKWISE.get=function(){return Eh.COUNTERCLOCKWISE},pd.CLOCKWISE.get=function(){return Eh.CLOCKWISE},pd.NONE.get=function(){return Eh.COLLINEAR},Object.defineProperties(hd,pd);var fd=function t(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new $f,this._seg1=new $f,this._offset0=new $f,this._offset1=new $f,this._side=0,this._hasNarrowConcaveAngle=!1;var e=arguments[0],n=arguments[1],i=arguments[2];this._precisionModel=e,this._bufParams=n,this._li=new xh,this._filletAngleQuantum=Math.PI/2/n.getQuadrantSegments(),n.getQuadrantSegments()>=8&&n.getJoinStyle()===rd.JOIN_ROUND&&(this._closingSegLengthFactor=t.MAX_CLOSING_SEG_LEN_FACTOR),this.init(i)},dd={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};fd.prototype.addNextSegment=function(t,e){if(this._s0=this._s1,this._s1=this._s2,this._s2=t,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var n=Eh.computeOrientation(this._s0,this._s1,this._s2),i=n===Eh.CLOCKWISE&&this._side===rf.LEFT||n===Eh.COUNTERCLOCKWISE&&this._side===rf.RIGHT;0===n?this.addCollinear(e):i?this.addOutsideTurn(n,e):this.addInsideTurn(n,e)},fd.prototype.addLineEndCap=function(t,e){var n=new $f(t,e),i=new $f;this.computeOffsetSegment(n,rf.LEFT,this._distance,i);var o=new $f;this.computeOffsetSegment(n,rf.RIGHT,this._distance,o);var r=e.x-t.x,s=e.y-t.y,a=Math.atan2(s,r);switch(this._bufParams.getEndCapStyle()){case rd.CAP_ROUND:this._segList.addPt(i.p1),this.addFilletArc(e,a+Math.PI/2,a-Math.PI/2,Eh.CLOCKWISE,this._distance),this._segList.addPt(o.p1);break;case rd.CAP_FLAT:this._segList.addPt(i.p1),this._segList.addPt(o.p1);break;case rd.CAP_SQUARE:var l=new jc;l.x=Math.abs(this._distance)*Math.cos(a),l.y=Math.abs(this._distance)*Math.sin(a);var u=new jc(i.p1.x+l.x,i.p1.y+l.y),c=new jc(o.p1.x+l.x,o.p1.y+l.y);this._segList.addPt(u),this._segList.addPt(c)}},fd.prototype.getCoordinates=function(){return this._segList.getCoordinates()},fd.prototype.addMitreJoin=function(t,e,n,i){var o=!0,r=null;try{r=ah.intersection(e.p0,e.p1,n.p0,n.p1),(i<=0?1:r.distance(t)/Math.abs(i))>this._bufParams.getMitreLimit()&&(o=!1)}catch(s){if(!(s instanceof rh))throw s;r=new jc(0,0),o=!1}o?this._segList.addPt(r):this.addLimitedMitreJoin(e,n,i,this._bufParams.getMitreLimit())},fd.prototype.addFilletCorner=function(t,e,n,i,o){var r=e.x-t.x,s=e.y-t.y,a=Math.atan2(s,r),l=n.x-t.x,u=n.y-t.y,c=Math.atan2(u,l);i===Eh.CLOCKWISE?a<=c&&(a+=2*Math.PI):a>=c&&(a-=2*Math.PI),this._segList.addPt(e),this.addFilletArc(t,a,c,i,o),this._segList.addPt(n)},fd.prototype.addOutsideTurn=function(t,e){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*fd.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===rd.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===rd.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(e&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,t,this._distance),this._segList.addPt(this._offset1.p0))},fd.prototype.createSquare=function(t){this._segList.addPt(new jc(t.x+this._distance,t.y+this._distance)),this._segList.addPt(new jc(t.x+this._distance,t.y-this._distance)),this._segList.addPt(new jc(t.x-this._distance,t.y-this._distance)),this._segList.addPt(new jc(t.x-this._distance,t.y+this._distance)),this._segList.closeRing()},fd.prototype.addSegments=function(t,e){this._segList.addPts(t,e)},fd.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},fd.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},fd.prototype.initSideSegments=function(t,e,n){this._s1=t,this._s2=e,this._side=n,this._seg1.setCoordinates(t,e),this.computeOffsetSegment(this._seg1,n,this._distance,this._offset1)},fd.prototype.addLimitedMitreJoin=function(t,e,n,i){var o=this._seg0.p1,r=hd.angle(o,this._seg0.p0),s=hd.angleBetweenOriented(this._seg0.p0,o,this._seg1.p1)/2,a=hd.normalize(r+s),l=hd.normalize(a+Math.PI),u=i*n,c=n-u*Math.abs(Math.sin(s)),h=o.x+u*Math.cos(l),p=o.y+u*Math.sin(l),f=new jc(h,p),d=new $f(o,f),g=d.pointAlongOffset(1,c),_=d.pointAlongOffset(1,-c);this._side===rf.LEFT?(this._segList.addPt(g),this._segList.addPt(_)):(this._segList.addPt(_),this._segList.addPt(g))},fd.prototype.computeOffsetSegment=function(t,e,n,i){var o=e===rf.LEFT?1:-1,r=t.p1.x-t.p0.x,s=t.p1.y-t.p0.y,a=Math.sqrt(r*r+s*s),l=o*n*r/a,u=o*n*s/a;i.p0.x=t.p0.x-u,i.p0.y=t.p0.y+l,i.p1.x=t.p1.x-u,i.p1.y=t.p1.y+l},fd.prototype.addFilletArc=function(t,e,n,i,o){var r=i===Eh.CLOCKWISE?-1:1,s=Math.abs(e-n),a=Math.trunc(s/this._filletAngleQuantum+.5);if(a<1)return null;for(var l=s/a,u=0,c=new jc;u<s;){var h=e+r*u;c.x=t.x+o*Math.cos(h),c.y=t.y+o*Math.sin(h),this._segList.addPt(c),u+=l}},fd.prototype.addInsideTurn=function(t,e){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*fd.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var n=new jc((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(n);var i=new jc((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(i)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},fd.prototype.createCircle=function(t){var e=new jc(t.x+this._distance,t.y);this._segList.addPt(e),this.addFilletArc(t,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},fd.prototype.addBevelJoin=function(t,e){this._segList.addPt(t.p1),this._segList.addPt(e.p0)},fd.prototype.init=function(t){this._distance=t,this._maxCurveSegmentError=t*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new ud,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(t*fd.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},fd.prototype.addCollinear=function(t){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===rd.JOIN_BEVEL||this._bufParams.getJoinStyle()===rd.JOIN_MITRE?(t&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,Eh.CLOCKWISE,this._distance))},fd.prototype.closeRing=function(){this._segList.closeRing()},fd.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},fd.prototype.interfaces_=function(){return[]},fd.prototype.getClass=function(){return fd},dd.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return.001},dd.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return.001},dd.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},dd.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(fd,dd);var gd=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var t=arguments[0],e=arguments[1];this._precisionModel=t,this._bufParams=e};gd.prototype.getOffsetCurve=function(t,e){if(this._distance=e,0===e)return null;var n=e<0,i=Math.abs(e),o=this.getSegGen(i);t.length<=1?this.computePointCurve(t[0],o):this.computeOffsetCurve(t,n,o);var r=o.getCoordinates();return n&&qh.reverse(r),r},gd.prototype.computeSingleSidedBufferCurve=function(t,e,n){var i=this.simplifyTolerance(this._distance);if(e){n.addSegments(t,!0);var o=ad.simplify(t,-i),r=o.length-1;n.initSideSegments(o[r],o[r-1],rf.LEFT),n.addFirstSegment();for(var s=r-2;s>=0;s--)n.addNextSegment(o[s],!0)}else{n.addSegments(t,!1);var a=ad.simplify(t,i),l=a.length-1;n.initSideSegments(a[0],a[1],rf.LEFT),n.addFirstSegment();for(var u=2;u<=l;u++)n.addNextSegment(a[u],!0)}n.addLastSegment(),n.closeRing()},gd.prototype.computeRingBufferCurve=function(t,e,n){var i=this.simplifyTolerance(this._distance);e===rf.RIGHT&&(i=-i);var o=ad.simplify(t,i),r=o.length-1;n.initSideSegments(o[r-1],o[0],e);for(var s=1;s<=r;s++){var a=1!==s;n.addNextSegment(o[s],a)}n.closeRing()},gd.prototype.computeLineBufferCurve=function(t,e){var n=this.simplifyTolerance(this._distance),i=ad.simplify(t,n),o=i.length-1;e.initSideSegments(i[0],i[1],rf.LEFT);for(var r=2;r<=o;r++)e.addNextSegment(i[r],!0);e.addLastSegment(),e.addLineEndCap(i[o-1],i[o]);var s=ad.simplify(t,-n),a=s.length-1;e.initSideSegments(s[a],s[a-1],rf.LEFT);for(var l=a-2;l>=0;l--)e.addNextSegment(s[l],!0);e.addLastSegment(),e.addLineEndCap(s[1],s[0]),e.closeRing()},gd.prototype.computePointCurve=function(t,e){switch(this._bufParams.getEndCapStyle()){case rd.CAP_ROUND:e.createCircle(t);break;case rd.CAP_SQUARE:e.createSquare(t)}},gd.prototype.getLineCurve=function(t,e){if(this._distance=e,e<0&&!this._bufParams.isSingleSided())return null;if(0===e)return null;var n=Math.abs(e),i=this.getSegGen(n);if(t.length<=1)this.computePointCurve(t[0],i);else if(this._bufParams.isSingleSided()){var o=e<0;this.computeSingleSidedBufferCurve(t,o,i)}else this.computeLineBufferCurve(t,i);return i.getCoordinates()},gd.prototype.getBufferParameters=function(){return this._bufParams},gd.prototype.simplifyTolerance=function(t){return t*this._bufParams.getSimplifyFactor()},gd.prototype.getRingCurve=function(t,e,n){if(this._distance=n,t.length<=2)return this.getLineCurve(t,n);if(0===n)return gd.copyCoordinates(t);var i=this.getSegGen(n);return this.computeRingBufferCurve(t,e,i),i.getCoordinates()},gd.prototype.computeOffsetCurve=function(t,e,n){var i=this.simplifyTolerance(this._distance);if(e){var o=ad.simplify(t,-i),r=o.length-1;n.initSideSegments(o[r],o[r-1],rf.LEFT),n.addFirstSegment();for(var s=r-2;s>=0;s--)n.addNextSegment(o[s],!0)}else{var a=ad.simplify(t,i),l=a.length-1;n.initSideSegments(a[0],a[1],rf.LEFT),n.addFirstSegment();for(var u=2;u<=l;u++)n.addNextSegment(a[u],!0)}n.addLastSegment()},gd.prototype.getSegGen=function(t){return new fd(this._precisionModel,this._bufParams,t)},gd.prototype.interfaces_=function(){return[]},gd.prototype.getClass=function(){return gd},gd.copyCoordinates=function(t){for(var e=new Array(t.length).fill(null),n=0;n<e.length;n++)e[n]=new jc(t[n]);return e};var _d=function(){this._subgraphs=null,this._seg=new $f,this._cga=new Eh;var t=arguments[0];this._subgraphs=t},md={DepthSegment:{configurable:!0}};_d.prototype.findStabbedSegments=function(){var t=this;if(1===arguments.length){for(var e=arguments[0],n=new Vh,i=this._subgraphs.iterator();i.hasNext();){var o=i.next(),r=o.getEnvelope();e.y<r.getMinY()||e.y>r.getMaxY()||t.findStabbedSegments(e,o.getDirectedEdges(),n)}return n}if(3===arguments.length)if(Wc(arguments[2],Bh)&&arguments[0]instanceof jc&&arguments[1]instanceof Cf)for(var s=arguments[0],a=arguments[1],l=arguments[2],u=a.getEdge().getCoordinates(),c=0;c<u.length-1;c++){t._seg.p0=u[c],t._seg.p1=u[c+1],t._seg.p0.y>t._seg.p1.y&&t._seg.reverse();var h=Math.max(t._seg.p0.x,t._seg.p1.x);if(!(h<s.x)&&!(t._seg.isHorizontal()||s.y<t._seg.p0.y||s.y>t._seg.p1.y||Eh.computeOrientation(t._seg.p0,t._seg.p1,s)===Eh.RIGHT)){var p=a.getDepth(rf.LEFT);t._seg.p0.equals(u[c])||(p=a.getDepth(rf.RIGHT));var f=new yd(t._seg,p);l.add(f)}}else if(Wc(arguments[2],Bh)&&arguments[0]instanceof jc&&Wc(arguments[1],Bh))for(var d=arguments[0],g=arguments[1],_=arguments[2],m=g.iterator();m.hasNext();){var y=m.next();y.isForward()&&t.findStabbedSegments(d,y,_)}},_d.prototype.getDepth=function(t){var e=this.findStabbedSegments(t);return 0===e.size()?0:Df.min(e)._leftDepth},_d.prototype.interfaces_=function(){return[]},_d.prototype.getClass=function(){return _d},md.DepthSegment.get=function(){return yd},Object.defineProperties(_d,md);var yd=function(){this._upwardSeg=null,this._leftDepth=null;var t=arguments[0],e=arguments[1];this._upwardSeg=new $f(t),this._leftDepth=e};yd.prototype.compareTo=function(t){var e=t;if(this._upwardSeg.minX()>=e._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=e._upwardSeg.minX())return-1;var n=this._upwardSeg.orientationIndex(e._upwardSeg);return 0!==n||0!==(n=-1*e._upwardSeg.orientationIndex(this._upwardSeg))?n:this._upwardSeg.compareTo(e._upwardSeg)},yd.prototype.compareX=function(t,e){var n=t.p0.compareTo(e.p0);return 0!==n?n:t.p1.compareTo(e.p1)},yd.prototype.toString=function(){return this._upwardSeg.toString()},yd.prototype.interfaces_=function(){return[kc]},yd.prototype.getClass=function(){return yd};var vd=function(t,e,n){this.p0=t||null,this.p1=e||null,this.p2=n||null};vd.prototype.area=function(){return vd.area(this.p0,this.p1,this.p2)},vd.prototype.signedArea=function(){return vd.signedArea(this.p0,this.p1,this.p2)},vd.prototype.interpolateZ=function(t){if(null===t)throw new Ac("Supplied point is null.");return vd.interpolateZ(t,this.p0,this.p1,this.p2)},vd.prototype.longestSideLength=function(){return vd.longestSideLength(this.p0,this.p1,this.p2)},vd.prototype.isAcute=function(){return vd.isAcute(this.p0,this.p1,this.p2)},vd.prototype.circumcentre=function(){return vd.circumcentre(this.p0,this.p1,this.p2)},vd.prototype.area3D=function(){return vd.area3D(this.p0,this.p1,this.p2)},vd.prototype.centroid=function(){return vd.centroid(this.p0,this.p1,this.p2)},vd.prototype.inCentre=function(){return vd.inCentre(this.p0,this.p1,this.p2)},vd.prototype.interfaces_=function(){return[]},vd.prototype.getClass=function(){return vd},vd.area=function(t,e,n){return Math.abs(((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2)},vd.signedArea=function(t,e,n){return((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2},vd.det=function(t,e,n,i){return t*i-e*n},vd.interpolateZ=function(t,e,n,i){var o=e.x,r=e.y,s=n.x-o,a=i.x-o,l=n.y-r,u=i.y-r,c=s*u-a*l,h=t.x-o,p=t.y-r,f=(u*h-a*p)/c,d=(-l*h+s*p)/c;return e.z+f*(n.z-e.z)+d*(i.z-e.z)},vd.longestSideLength=function(t,e,n){var i=t.distance(e),o=e.distance(n),r=n.distance(t),s=i;return o>s&&(s=o),r>s&&(s=r),s},vd.isAcute=function(t,e,n){return!!hd.isAcute(t,e,n)&&(!!hd.isAcute(e,n,t)&&!!hd.isAcute(n,t,e))},vd.circumcentre=function(t,e,n){var i=n.x,o=n.y,r=t.x-i,s=t.y-o,a=e.x-i,l=e.y-o,u=2*vd.det(r,s,a,l),c=vd.det(s,r*r+s*s,l,a*a+l*l),h=vd.det(r,r*r+s*s,a,a*a+l*l);return new jc(i-c/u,o+h/u)},vd.perpendicularBisector=function(t,e){var n=e.x-t.x,i=e.y-t.y,o=new ah(t.x+n/2,t.y+i/2,1),r=new ah(t.x-i+n/2,t.y+n+i/2,1);return new ah(o,r)},vd.angleBisector=function(t,e,n){var i=e.distance(t),o=i/(i+e.distance(n)),r=n.x-t.x,s=n.y-t.y;return new jc(t.x+o*r,t.y+o*s)},vd.area3D=function(t,e,n){var i=e.x-t.x,o=e.y-t.y,r=e.z-t.z,s=n.x-t.x,a=n.y-t.y,l=n.z-t.z,u=o*l-r*a,c=r*s-i*l,h=i*a-o*s,p=u*u+c*c+h*h;return Math.sqrt(p)/2},vd.centroid=function(t,e,n){var i=(t.x+e.x+n.x)/3,o=(t.y+e.y+n.y)/3;return new jc(i,o)},vd.inCentre=function(t,e,n){var i=e.distance(n),o=t.distance(n),r=t.distance(e),s=i+o+r,a=(i*t.x+o*e.x+r*n.x)/s,l=(i*t.y+o*e.y+r*n.y)/s;return new jc(a,l)};var xd=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new Vh;var t=arguments[0],e=arguments[1],n=arguments[2];this._inputGeom=t,this._distance=e,this._curveBuilder=n};xd.prototype.addPoint=function(t){if(this._distance<=0)return null;var e=t.getCoordinates(),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,qc.EXTERIOR,qc.INTERIOR)},xd.prototype.addPolygon=function(t){var e=this,n=this._distance,i=rf.LEFT;this._distance<0&&(n=-this._distance,i=rf.RIGHT);var o=t.getExteriorRing(),r=qh.removeRepeatedPoints(o.getCoordinates());if(this._distance<0&&this.isErodedCompletely(o,this._distance))return null;if(this._distance<=0&&r.length<3)return null;this.addPolygonRing(r,n,i,qc.EXTERIOR,qc.INTERIOR);for(var s=0;s<t.getNumInteriorRing();s++){var a=t.getInteriorRingN(s),l=qh.removeRepeatedPoints(a.getCoordinates());e._distance>0&&e.isErodedCompletely(a,-e._distance)||e.addPolygonRing(l,n,rf.opposite(i),qc.INTERIOR,qc.EXTERIOR)}},xd.prototype.isTriangleErodedCompletely=function(t,e){var n=new vd(t[0],t[1],t[2]),i=n.inCentre();return Eh.distancePointLine(i,n.p0,n.p1)<Math.abs(e)},xd.prototype.addLineString=function(t){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var e=qh.removeRepeatedPoints(t.getCoordinates()),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,qc.EXTERIOR,qc.INTERIOR)},xd.prototype.addCurve=function(t,e,n){if(null===t||t.length<2)return null;var i=new Xf(t,new df(0,qc.BOUNDARY,e,n));this._curveList.add(i)},xd.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},xd.prototype.addPolygonRing=function(t,e,n,i,o){if(0===e&&t.length<Rp.MINIMUM_VALID_SIZE)return null;var r=i,s=o;t.length>=Rp.MINIMUM_VALID_SIZE&&Eh.isCCW(t)&&(r=o,s=i,n=rf.opposite(n));var a=this._curveBuilder.getRingCurve(t,n,e);this.addCurve(a,r,s)},xd.prototype.add=function(t){if(t.isEmpty())return null;t instanceof Op?this.addPolygon(t):t instanceof Pp?this.addLineString(t):t instanceof Np?this.addPoint(t):(t instanceof Ap||t instanceof _p||t instanceof Dp||t instanceof gp)&&this.addCollection(t)},xd.prototype.isErodedCompletely=function(t,e){var n=t.getCoordinates();if(n.length<4)return e<0;if(4===n.length)return this.isTriangleErodedCompletely(n,e);var i=t.getEnvelopeInternal(),o=Math.min(i.getHeight(),i.getWidth());return e<0&&2*Math.abs(e)>o},xd.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},xd.prototype.interfaces_=function(){return[]},xd.prototype.getClass=function(){return xd};var bd=function(){};bd.prototype.locate=function(t){},bd.prototype.interfaces_=function(){return[]},bd.prototype.getClass=function(){return bd};var wd=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var t=arguments[0];this._parent=t,this._atStart=!0,this._index=0,this._max=t.getNumGeometries()};wd.prototype.next=function(){if(this._atStart)return this._atStart=!1,wd.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new jh;var t=this._parent.getGeometryN(this._index++);return t instanceof gp?(this._subcollectionIterator=new wd(t),this._subcollectionIterator.next()):t},wd.prototype.remove=function(){throw new Error(this.getClass().getName())},wd.prototype.hasNext=function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},wd.prototype.interfaces_=function(){return[zh]},wd.prototype.getClass=function(){return wd},wd.isAtomic=function(t){return!(t instanceof gp)};var Ed=function(){this._geom=null;var t=arguments[0];this._geom=t};Ed.prototype.locate=function(t){return Ed.locate(t,this._geom)},Ed.prototype.interfaces_=function(){return[bd]},Ed.prototype.getClass=function(){return Ed},Ed.isPointInRing=function(t,e){return!!e.getEnvelopeInternal().intersects(t)&&Eh.isPointInRing(t,e.getCoordinates())},Ed.containsPointInPolygon=function(t,e){if(e.isEmpty())return!1;var n=e.getExteriorRing();if(!Ed.isPointInRing(t,n))return!1;for(var i=0;i<e.getNumInteriorRing();i++){var o=e.getInteriorRingN(i);if(Ed.isPointInRing(t,o))return!1}return!0},Ed.containsPoint=function(t,e){if(e instanceof Op)return Ed.containsPointInPolygon(t,e);if(e instanceof gp)for(var n=new wd(e);n.hasNext();){var i=n.next();if(i!==e&&Ed.containsPoint(t,i))return!0}return!1},Ed.locate=function(t,e){return e.isEmpty()?qc.EXTERIOR:Ed.containsPoint(t,e)?qc.INTERIOR:qc.EXTERIOR};var Cd=function(){this._edgeMap=new rp,this._edgeList=null,this._ptInAreaLocation=[qc.NONE,qc.NONE]};Cd.prototype.getNextCW=function(t){this.getEdges();var e=this._edgeList.indexOf(t),n=e-1;return 0===e&&(n=this._edgeList.size()-1),this._edgeList.get(n)},Cd.prototype.propagateSideLabels=function(t){for(var e=qc.NONE,n=this.iterator();n.hasNext();){var i=n.next().getLabel();i.isArea(t)&&i.getLocation(t,rf.LEFT)!==qc.NONE&&(e=i.getLocation(t,rf.LEFT))}if(e===qc.NONE)return null;for(var o=e,r=this.iterator();r.hasNext();){var s=r.next(),a=s.getLabel();if(a.getLocation(t,rf.ON)===qc.NONE&&a.setLocation(t,rf.ON,o),a.isArea(t)){var l=a.getLocation(t,rf.LEFT),u=a.getLocation(t,rf.RIGHT);if(u!==qc.NONE){if(u!==o)throw new cf("side location conflict",s.getCoordinate());l===qc.NONE&&mh.shouldNeverReachHere("found single null side (at "+s.getCoordinate()+")"),o=l}else mh.isTrue(a.getLocation(t,rf.LEFT)===qc.NONE,"found single null side"),a.setLocation(t,rf.RIGHT,o),a.setLocation(t,rf.LEFT,o)}}},Cd.prototype.getCoordinate=function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null},Cd.prototype.print=function(t){sh.out.println("EdgeEndStar:   "+this.getCoordinate());for(var e=this.iterator();e.hasNext();){e.next().print(t)}},Cd.prototype.isAreaLabelsConsistent=function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},Cd.prototype.checkAreaLabelsConsistent=function(t){var e=this.getEdges();if(e.size()<=0)return!0;var n=e.size()-1,i=e.get(n).getLabel().getLocation(t,rf.LEFT);mh.isTrue(i!==qc.NONE,"Found unlabelled area edge");for(var o=i,r=this.iterator();r.hasNext();){var s=r.next().getLabel();mh.isTrue(s.isArea(t),"Found non-area edge");var a=s.getLocation(t,rf.LEFT),l=s.getLocation(t,rf.RIGHT);if(a===l)return!1;if(l!==o)return!1;o=a}return!0},Cd.prototype.findIndex=function(t){this.iterator();for(var e=0;e<this._edgeList.size();e++){if(this._edgeList.get(e)===t)return e}return-1},Cd.prototype.iterator=function(){return this.getEdges().iterator()},Cd.prototype.getEdges=function(){return null===this._edgeList&&(this._edgeList=new Vh(this._edgeMap.values())),this._edgeList},Cd.prototype.getLocation=function(t,e,n){return this._ptInAreaLocation[t]===qc.NONE&&(this._ptInAreaLocation[t]=Ed.locate(e,n[t].getGeometry())),this._ptInAreaLocation[t]},Cd.prototype.toString=function(){var t=new Xc;t.append("EdgeEndStar:   "+this.getCoordinate()),t.append("\n");for(var e=this.iterator();e.hasNext();){var n=e.next();t.append(n),t.append("\n")}return t.toString()},Cd.prototype.computeEdgeEndLabels=function(t){for(var e=this.iterator();e.hasNext();){e.next().computeLabel(t)}},Cd.prototype.computeLabelling=function(t){this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var e=[!1,!1],n=this.iterator();n.hasNext();)for(var i=n.next().getLabel(),o=0;o<2;o++)i.isLine(o)&&i.getLocation(o)===qc.BOUNDARY&&(e[o]=!0);for(var r=this.iterator();r.hasNext();)for(var s=r.next(),a=s.getLabel(),l=0;l<2;l++)if(a.isAnyNull(l)){var u=qc.NONE;if(e[l])u=qc.EXTERIOR;else{var c=s.getCoordinate();u=this.getLocation(l,c,t)}a.setAllLocationsIfNull(l,u)}},Cd.prototype.getDegree=function(){return this._edgeMap.size()},Cd.prototype.insertEdgeEnd=function(t,e){this._edgeMap.put(t,e),this._edgeList=null},Cd.prototype.interfaces_=function(){return[]},Cd.prototype.getClass=function(){return Cd};var Sd=function(t){function e(){t.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.linkResultDirectedEdges=function(){var t=this;this.getResultAreaEdges();for(var e=null,n=null,i=this._SCANNING_FOR_INCOMING,o=0;o<this._resultAreaEdgeList.size();o++){var r=t._resultAreaEdgeList.get(o),s=r.getSym();if(r.getLabel().isArea())switch(null===e&&r.isInResult()&&(e=r),i){case t._SCANNING_FOR_INCOMING:if(!s.isInResult())continue;n=s,i=t._LINKING_TO_OUTGOING;break;case t._LINKING_TO_OUTGOING:if(!r.isInResult())continue;n.setNext(r),i=t._SCANNING_FOR_INCOMING}}if(i===this._LINKING_TO_OUTGOING){if(null===e)throw new cf("no outgoing dirEdge found",this.getCoordinate());mh.isTrue(e.isInResult(),"unable to link last incoming dirEdge"),n.setNext(e)}},e.prototype.insert=function(t){var e=t;this.insertEdgeEnd(e,e)},e.prototype.getRightmostEdge=function(){var t=this.getEdges(),e=t.size();if(e<1)return null;var n=t.get(0);if(1===e)return n;var i=t.get(e-1),o=n.getQuadrant(),r=i.getQuadrant();return bf.isNorthern(o)&&bf.isNorthern(r)?n:bf.isNorthern(o)||bf.isNorthern(r)?0!==n.getDy()?n:0!==i.getDy()?i:(mh.shouldNeverReachHere("found two horizontal edges incident on node"),null):i},e.prototype.print=function(t){sh.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var e=this.iterator();e.hasNext();){var n=e.next();t.print("out "),n.print(t),t.println(),t.print("in "),n.getSym().print(t),t.println()}},e.prototype.getResultAreaEdges=function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new Vh;for(var t=this.iterator();t.hasNext();){var e=t.next();(e.isInResult()||e.getSym().isInResult())&&this._resultAreaEdgeList.add(e)}return this._resultAreaEdgeList},e.prototype.updateLabelling=function(t){for(var e=this.iterator();e.hasNext();){var n=e.next().getLabel();n.setAllLocationsIfNull(0,t.getLocation(0)),n.setAllLocationsIfNull(1,t.getLocation(1))}},e.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var t=null,e=null,n=this._edgeList.size()-1;n>=0;n--){var i=this._edgeList.get(n),o=i.getSym();null===e&&(e=o),null!==t&&o.setNext(t),t=i}e.setNext(t)},e.prototype.computeDepths=function(){var t=this;if(1===arguments.length){var e=arguments[0],n=this.findIndex(e),i=e.getDepth(rf.LEFT),o=e.getDepth(rf.RIGHT),r=this.computeDepths(n+1,this._edgeList.size(),i),s=this.computeDepths(0,n,r);if(s!==o)throw new cf("depth mismatch at "+e.getCoordinate())}else if(3===arguments.length){for(var a=arguments[0],l=arguments[1],u=arguments[2],c=u,h=a;h<l;h++){var p=t._edgeList.get(h);p.setEdgeDepths(rf.RIGHT,c),c=p.getDepth(rf.LEFT)}return c}},e.prototype.mergeSymLabels=function(){for(var t=this.iterator();t.hasNext();){var e=t.next();e.getLabel().merge(e.getSym().getLabel())}},e.prototype.linkMinimalDirectedEdges=function(t){for(var e=this,n=null,i=null,o=this._SCANNING_FOR_INCOMING,r=this._resultAreaEdgeList.size()-1;r>=0;r--){var s=e._resultAreaEdgeList.get(r),a=s.getSym();switch(null===n&&s.getEdgeRing()===t&&(n=s),o){case e._SCANNING_FOR_INCOMING:if(a.getEdgeRing()!==t)continue;i=a,o=e._LINKING_TO_OUTGOING;break;case e._LINKING_TO_OUTGOING:if(s.getEdgeRing()!==t)continue;i.setNextMin(s),o=e._SCANNING_FOR_INCOMING}}o===this._LINKING_TO_OUTGOING&&(mh.isTrue(null!==n,"found null for first outgoing dirEdge"),mh.isTrue(n.getEdgeRing()===t,"unable to link last incoming dirEdge"),i.setNextMin(n))},e.prototype.getOutgoingDegree=function(){if(0===arguments.length){for(var t=0,e=this.iterator();e.hasNext();){var n=e.next();n.isInResult()&&t++}return t}if(1===arguments.length){for(var i=arguments[0],o=0,r=this.iterator();r.hasNext();){var s=r.next();s.getEdgeRing()===i&&o++}return o}},e.prototype.getLabel=function(){return this._label},e.prototype.findCoveredLineEdges=function(){for(var t=qc.NONE,e=this.iterator();e.hasNext();){var n=e.next(),i=n.getSym();if(!n.isLineEdge()){if(n.isInResult()){t=qc.INTERIOR;break}if(i.isInResult()){t=qc.EXTERIOR;break}}}if(t===qc.NONE)return null;for(var o=t,r=this.iterator();r.hasNext();){var s=r.next(),a=s.getSym();s.isLineEdge()?s.getEdge().setCovered(o===qc.INTERIOR):(s.isInResult()&&(o=qc.EXTERIOR),a.isInResult()&&(o=qc.INTERIOR))}},e.prototype.computeLabelling=function(e){t.prototype.computeLabelling.call(this,e),this._label=new df(qc.NONE);for(var n=this.iterator();n.hasNext();)for(var i=n.next().getEdge().getLabel(),o=0;o<2;o++){var r=i.getLocation(o);r!==qc.INTERIOR&&r!==qc.BOUNDARY||this._label.setLocation(o,qc.INTERIOR)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Cd),Id=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createNode=function(t){return new vf(t,new Sd)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Sf),Ld=function t(){this._pts=null,this._orientation=null;var e=arguments[0];this._pts=e,this._orientation=t.orientation(e)};Ld.prototype.compareTo=function(t){var e=t;return Ld.compareOriented(this._pts,this._orientation,e._pts,e._orientation)},Ld.prototype.interfaces_=function(){return[kc]},Ld.prototype.getClass=function(){return Ld},Ld.orientation=function(t){return 1===qh.increasingDirection(t)},Ld.compareOriented=function(t,e,n,i){for(var o=e?1:-1,r=i?1:-1,s=e?t.length:-1,a=i?n.length:-1,l=e?0:t.length-1,u=i?0:n.length-1;;){var c=t[l].compareTo(n[u]);if(0!==c)return c;var h=(l+=o)===s,p=(u+=r)===a;if(h&&!p)return-1;if(!h&&p)return 1;if(h&&p)return 0}};var Pd=function(){this._edges=new Vh,this._ocaMap=new rp};Pd.prototype.print=function(t){t.print("MULTILINESTRING ( ");for(var e=0;e<this._edges.size();e++){var n=this._edges.get(e);e>0&&t.print(","),t.print("(");for(var i=n.getCoordinates(),o=0;o<i.length;o++)o>0&&t.print(","),t.print(i[o].x+" "+i[o].y);t.println(")")}t.print(")  ")},Pd.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next())},Pd.prototype.findEdgeIndex=function(t){for(var e=0;e<this._edges.size();e++)if(this._edges.get(e).equals(t))return e;return-1},Pd.prototype.iterator=function(){return this._edges.iterator()},Pd.prototype.getEdges=function(){return this._edges},Pd.prototype.get=function(t){return this._edges.get(t)},Pd.prototype.findEqualEdge=function(t){var e=new Ld(t.getCoordinates());return this._ocaMap.get(e)},Pd.prototype.add=function(t){this._edges.add(t);var e=new Ld(t.getCoordinates());this._ocaMap.put(e,t)},Pd.prototype.interfaces_=function(){return[]},Pd.prototype.getClass=function(){return Pd};var Md=function(){};Md.prototype.processIntersections=function(t,e,n,i){},Md.prototype.isDone=function(){},Md.prototype.interfaces_=function(){return[]},Md.prototype.getClass=function(){return Md};var Nd=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var t=arguments[0];this._li=t};Nd.prototype.isTrivialIntersection=function(t,e,n,i){if(t===n&&1===this._li.getIntersectionNum()){if(Nd.isAdjacentSegments(e,i))return!0;if(t.isClosed()){var o=t.size()-1;if(0===e&&i===o||0===i&&e===o)return!0}}return!1},Nd.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},Nd.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},Nd.prototype.getLineIntersector=function(){return this._li},Nd.prototype.hasProperIntersection=function(){return this._hasProper},Nd.prototype.processIntersections=function(t,e,n,i){if(t===n&&e===i)return null;this.numTests++;var o=t.getCoordinates()[e],r=t.getCoordinates()[e+1],s=n.getCoordinates()[i],a=n.getCoordinates()[i+1];this._li.computeIntersection(o,r,s,a),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(t,e,n,i)||(this._hasIntersection=!0,t.addIntersections(this._li,e,0),n.addIntersections(this._li,i,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},Nd.prototype.hasIntersection=function(){return this._hasIntersection},Nd.prototype.isDone=function(){return!1},Nd.prototype.hasInteriorIntersection=function(){return this._hasInterior},Nd.prototype.interfaces_=function(){return[Md]},Nd.prototype.getClass=function(){return Nd},Nd.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var Td=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.coord=new jc(t),this.segmentIndex=e,this.dist=n};Td.prototype.getSegmentIndex=function(){return this.segmentIndex},Td.prototype.getCoordinate=function(){return this.coord},Td.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex),t.println(" dist = "+this.dist)},Td.prototype.compareTo=function(t){var e=t;return this.compare(e.segmentIndex,e.dist)},Td.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===t},Td.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},Td.prototype.getDistance=function(){return this.dist},Td.prototype.compare=function(t,e){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<e?-1:this.dist>e?1:0},Td.prototype.interfaces_=function(){return[kc]},Td.prototype.getClass=function(){return Td};var Od=function(){this._nodeMap=new rp,this.edge=null;var t=arguments[0];this.edge=t};Od.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();){e.next().print(t)}},Od.prototype.iterator=function(){return this._nodeMap.values().iterator()},Od.prototype.addSplitEdges=function(t){this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next(),o=this.createSplitEdge(n,i);t.add(o),n=i}},Od.prototype.addEndpoints=function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)},Od.prototype.createSplitEdge=function(t,e){var n=e.segmentIndex-t.segmentIndex+2,i=this.edge.pts[e.segmentIndex],o=e.dist>0||!e.coord.equals2D(i);o||n--;var r=new Array(n).fill(null),s=0;r[s++]=new jc(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)r[s++]=this.edge.pts[a];return o&&(r[s]=e.coord),new Fd(r,new df(this.edge._label))},Od.prototype.add=function(t,e,n){var i=new Td(t,e,n),o=this._nodeMap.get(i);return null!==o?o:(this._nodeMap.put(i,i),i)},Od.prototype.isIntersection=function(t){for(var e=this.iterator();e.hasNext();){if(e.next().coord.equals(t))return!0}return!1},Od.prototype.interfaces_=function(){return[]},Od.prototype.getClass=function(){return Od};var Ad=function(){};Ad.prototype.getChainStartIndices=function(t){var e=0,n=new Vh;n.add(new $c(e));do{var i=this.findChainEnd(t,e);n.add(new $c(i)),e=i}while(e<t.length-1);return Ad.toIntArray(n)},Ad.prototype.findChainEnd=function(t,e){for(var n=bf.quadrant(t[e],t[e+1]),i=e+1;i<t.length;){if(bf.quadrant(t[i-1],t[i])!==n)break;i++}return i-1},Ad.prototype.interfaces_=function(){return[]},Ad.prototype.getClass=function(){return Ad},Ad.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e};var Rd=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new lh,this.env2=new lh;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var e=new Ad;this.startIndex=e.getChainStartIndices(this.pts)};Rd.prototype.getCoordinates=function(){return this.pts},Rd.prototype.getMaxX=function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e>n?e:n},Rd.prototype.getMinX=function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e<n?e:n},Rd.prototype.computeIntersectsForChain=function(){if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],e,e.startIndex[n],e.startIndex[n+1],i)}else if(6===arguments.length){var o=arguments[0],r=arguments[1],s=arguments[2],a=arguments[3],l=arguments[4],u=arguments[5],c=this.pts[o],h=this.pts[r],p=s.pts[a],f=s.pts[l];if(r-o==1&&l-a==1)return u.addIntersections(this.e,o,s.e,a),null;if(this.env1.init(c,h),this.env2.init(p,f),!this.env1.intersects(this.env2))return null;var d=Math.trunc((o+r)/2),g=Math.trunc((a+l)/2);o<d&&(a<g&&this.computeIntersectsForChain(o,d,s,a,g,u),g<l&&this.computeIntersectsForChain(o,d,s,g,l,u)),d<r&&(a<g&&this.computeIntersectsForChain(d,r,s,a,g,u),g<l&&this.computeIntersectsForChain(d,r,s,g,l,u))}},Rd.prototype.getStartIndexes=function(){return this.startIndex},Rd.prototype.computeIntersects=function(t,e){for(var n=0;n<this.startIndex.length-1;n++)for(var i=0;i<t.startIndex.length-1;i++)this.computeIntersectsForChain(n,t,i,e)},Rd.prototype.interfaces_=function(){return[]},Rd.prototype.getClass=function(){return Rd};var Dd=function t(){this._depth=Array(2).fill().map((function(){return Array(3)}));for(var e=0;e<2;e++)for(var n=0;n<3;n++)this._depth[e][n]=t.NULL_VALUE},kd={NULL_VALUE:{configurable:!0}};Dd.prototype.getDepth=function(t,e){return this._depth[t][e]},Dd.prototype.setDepth=function(t,e,n){this._depth[t][e]=n},Dd.prototype.isNull=function(){var t=this;if(0===arguments.length){for(var e=0;e<2;e++)for(var n=0;n<3;n++)if(t._depth[e][n]!==Dd.NULL_VALUE)return!1;return!0}if(1===arguments.length){var i=arguments[0];return this._depth[i][1]===Dd.NULL_VALUE}if(2===arguments.length){var o=arguments[0],r=arguments[1];return this._depth[o][r]===Dd.NULL_VALUE}},Dd.prototype.normalize=function(){for(var t=this,e=0;e<2;e++)if(!t.isNull(e)){var n=t._depth[e][1];t._depth[e][2]<n&&(n=t._depth[e][2]),n<0&&(n=0);for(var i=1;i<3;i++){var o=0;t._depth[e][i]>n&&(o=1),t._depth[e][i]=o}}},Dd.prototype.getDelta=function(t){return this._depth[t][rf.RIGHT]-this._depth[t][rf.LEFT]},Dd.prototype.getLocation=function(t,e){return this._depth[t][e]<=0?qc.EXTERIOR:qc.INTERIOR},Dd.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},Dd.prototype.add=function(){var t=this;if(1===arguments.length)for(var e=arguments[0],n=0;n<2;n++)for(var i=1;i<3;i++){var o=e.getLocation(n,i);o!==qc.EXTERIOR&&o!==qc.INTERIOR||(t.isNull(n,i)?t._depth[n][i]=Dd.depthAtLocation(o):t._depth[n][i]+=Dd.depthAtLocation(o))}else if(3===arguments.length){var r=arguments[0],s=arguments[1],a=arguments[2];a===qc.INTERIOR&&this._depth[r][s]++}},Dd.prototype.interfaces_=function(){return[]},Dd.prototype.getClass=function(){return Dd},Dd.depthAtLocation=function(t){return t===qc.EXTERIOR?0:t===qc.INTERIOR?1:Dd.NULL_VALUE},kd.NULL_VALUE.get=function(){return-1},Object.defineProperties(Dd,kd);var Fd=function(t){function e(){if(t.call(this),this.pts=null,this._env=null,this.eiList=new Od(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new Dd,this._depthDelta=0,1===arguments.length){var n=arguments[0];e.call(this,n,null)}else if(2===arguments.length){var i=arguments[0],o=arguments[1];this.pts=i,this._label=o}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDepth=function(){return this._depth},e.prototype.getCollapsedEdge=function(){var t=new Array(2).fill(null);return t[0]=this.pts[0],t[1]=this.pts[1],new e(t,df.toLineLabel(this._label))},e.prototype.isIsolated=function(){return this._isIsolated},e.prototype.getCoordinates=function(){return this.pts},e.prototype.setIsolated=function(t){this._isIsolated=t},e.prototype.setName=function(t){this._name=t},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;if(this.pts.length!==n.pts.length)return!1;for(var i=!0,o=!0,r=this.pts.length,s=0;s<this.pts.length;s++)if(this.pts[s].equals2D(n.pts[s])||(i=!1),this.pts[s].equals2D(n.pts[--r])||(o=!1),!i&&!o)return!1;return!0},e.prototype.getCoordinate=function(){if(0===arguments.length)return this.pts.length>0?this.pts[0]:null;if(1===arguments.length){var t=arguments[0];return this.pts[t]}},e.prototype.print=function(t){t.print("edge "+this._name+": "),t.print("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.print(","),t.print(this.pts[e].x+" "+this.pts[e].y);t.print(")  "+this._label+" "+this._depthDelta)},e.prototype.computeIM=function(t){e.updateIM(this._label,t)},e.prototype.isCollapsed=function(){return!!this._label.isArea()&&(3===this.pts.length&&!!this.pts[0].equals(this.pts[2]))},e.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},e.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},e.prototype.getDepthDelta=function(){return this._depthDelta},e.prototype.getNumPoints=function(){return this.pts.length},e.prototype.printReverse=function(t){t.print("edge "+this._name+": ");for(var e=this.pts.length-1;e>=0;e--)t.print(this.pts[e]+" ");t.println("")},e.prototype.getMonotoneChainEdge=function(){return null===this._mce&&(this._mce=new Rd(this)),this._mce},e.prototype.getEnvelope=function(){if(null===this._env){this._env=new lh;for(var t=0;t<this.pts.length;t++)this._env.expandToInclude(this.pts[t])}return this._env},e.prototype.addIntersection=function(t,e,n,i){var o=new jc(t.getIntersection(i)),r=e,s=t.getEdgeDistance(n,i),a=r+1;if(a<this.pts.length){var l=this.pts[a];o.equals2D(l)&&(r=a,s=0)}this.eiList.add(o,r,s)},e.prototype.toString=function(){var t=new Xc;t.append("edge "+this._name+": "),t.append("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.append(","),t.append(this.pts[e].x+" "+this.pts[e].y);return t.append(")  "+this._label+" "+this._depthDelta),t.toString()},e.prototype.isPointwiseEqual=function(t){if(this.pts.length!==t.pts.length)return!1;for(var e=0;e<this.pts.length;e++)if(!this.pts[e].equals2D(t.pts[e]))return!1;return!0},e.prototype.setDepthDelta=function(t){this._depthDelta=t},e.prototype.getEdgeIntersectionList=function(){return this.eiList},e.prototype.addIntersections=function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++)this.addIntersection(t,e,n,i)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.updateIM=function(){if(2!==arguments.length)return t.prototype.updateIM.apply(this,arguments);var e=arguments[0],n=arguments[1];n.setAtLeastIfValid(e.getLocation(0,rf.ON),e.getLocation(1,rf.ON),1),e.isArea()&&(n.setAtLeastIfValid(e.getLocation(0,rf.LEFT),e.getLocation(1,rf.LEFT),2),n.setAtLeastIfValid(e.getLocation(0,rf.RIGHT),e.getLocation(1,rf.RIGHT),2))},e}(yf),zd=function(t){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Pd,this._bufParams=t||null};zd.prototype.setWorkingPrecisionModel=function(t){this._workingPrecisionModel=t},zd.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),i=t.getLabel();e.isPointwiseEqual(t)||(i=new df(t.getLabel())).flip(),n.merge(i);var o=zd.depthDelta(i),r=e.getDepthDelta()+o;e.setDepthDelta(r)}else this._edgeList.add(t),t.setDepthDelta(zd.depthDelta(t.getLabel()))},zd.prototype.buildSubgraphs=function(t,e){for(var n=new Vh,i=t.iterator();i.hasNext();){var o=i.next(),r=o.getRightmostCoordinate(),s=new _d(n).getDepth(r);o.computeDepth(s),o.findResultEdges(),n.add(o),e.add(o.getDirectedEdges(),o.getNodes())}},zd.prototype.createSubgraphs=function(t){for(var e=new Vh,n=t.getNodes().iterator();n.hasNext();){var i=n.next();if(!i.isVisited()){var o=new pf;o.create(i),e.add(o)}}return Df.sort(e,Df.reverseOrder()),e},zd.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},zd.prototype.getNoder=function(t){if(null!==this._workingNoder)return this._workingNoder;var e=new id,n=new xh;return n.setPrecisionModel(t),e.setSegmentIntersector(new Nd(n)),e},zd.prototype.buffer=function(t,e){var n=this._workingPrecisionModel;null===n&&(n=t.getPrecisionModel()),this._geomFact=t.getFactory();var i=new gd(n,this._bufParams),o=new xd(t,e,i).getCurves();if(o.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(o,n),this._graph=new If(new Id),this._graph.addEdges(this._edgeList.getEdges());var r=this.createSubgraphs(this._graph),s=new Lf(this._geomFact);this.buildSubgraphs(r,s);var a=s.getPolygons();return a.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(a)},zd.prototype.computeNodedEdges=function(t,e){var n=this.getNoder(e);n.computeNodes(t);for(var i=n.getNodedSubstrings().iterator();i.hasNext();){var o=i.next(),r=o.getCoordinates();if(2!==r.length||!r[0].equals2D(r[1])){var s=o.getData(),a=new Fd(o.getCoordinates(),new df(s));this.insertUniqueEdge(a)}}},zd.prototype.setNoder=function(t){this._workingNoder=t},zd.prototype.interfaces_=function(){return[]},zd.prototype.getClass=function(){return zd},zd.depthDelta=function(t){var e=t.getLocation(0,rf.LEFT),n=t.getLocation(0,rf.RIGHT);return e===qc.INTERIOR&&n===qc.EXTERIOR?1:e===qc.EXTERIOR&&n===qc.INTERIOR?-1:0},zd.convertSegStrings=function(t){for(var e=new $p,n=new Vh;t.hasNext();){var i=t.next(),o=e.createLineString(i.getCoordinates());n.add(o)}return e.buildGeometry(n)};var Bd=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var t=arguments[0],e=arguments[1];this._noder=t,this._scaleFactor=e,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(4===arguments.length){var n=arguments[0],i=arguments[1],o=arguments[2],r=arguments[3];this._noder=n,this._scaleFactor=i,this._offsetX=o,this._offsetY=r,this._isScaled=!this.isIntegerPrecision()}};Bd.prototype.rescale=function(){var t=this;if(Wc(arguments[0],kh))for(var e=arguments[0],n=e.iterator();n.hasNext();){var i=n.next();t.rescale(i.getCoordinates())}else if(arguments[0]instanceof Array){for(var o=arguments[0],r=0;r<o.length;r++)o[r].x=o[r].x/t._scaleFactor+t._offsetX,o[r].y=o[r].y/t._scaleFactor+t._offsetY;2===o.length&&o[0].equals2D(o[1])&&sh.out.println(o)}},Bd.prototype.scale=function(){var t=this;if(Wc(arguments[0],kh)){for(var e=arguments[0],n=new Vh,i=e.iterator();i.hasNext();){var o=i.next();n.add(new Xf(t.scale(o.getCoordinates()),o.getData()))}return n}if(arguments[0]instanceof Array){for(var r=arguments[0],s=new Array(r.length).fill(null),a=0;a<r.length;a++)s[a]=new jc(Math.round((r[a].x-t._offsetX)*t._scaleFactor),Math.round((r[a].y-t._offsetY)*t._scaleFactor),r[a].z);var l=qh.removeRepeatedPoints(s);return l}},Bd.prototype.isIntegerPrecision=function(){return 1===this._scaleFactor},Bd.prototype.getNodedSubstrings=function(){var t=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(t),t},Bd.prototype.computeNodes=function(t){var e=t;this._isScaled&&(e=this.scale(t)),this._noder.computeNodes(e)},Bd.prototype.interfaces_=function(){return[ed]},Bd.prototype.getClass=function(){return Bd};var jd=function(){this._li=new xh,this._segStrings=null;var t=arguments[0];this._segStrings=t},Vd={fact:{configurable:!0}};jd.prototype.checkEndPtVertexIntersections=function(){var t=this;if(0===arguments.length)for(var e=this._segStrings.iterator();e.hasNext();){var n=e.next(),i=n.getCoordinates();t.checkEndPtVertexIntersections(i[0],t._segStrings),t.checkEndPtVertexIntersections(i[i.length-1],t._segStrings)}else if(2===arguments.length)for(var o=arguments[0],r=arguments[1],s=r.iterator();s.hasNext();)for(var a=s.next(),l=a.getCoordinates(),u=1;u<l.length-1;u++)if(l[u].equals(o))throw new gh("found endpt/interior pt intersection at index "+u+" :pt "+o)},jd.prototype.checkInteriorIntersections=function(){var t=this;if(0===arguments.length)for(var e=this._segStrings.iterator();e.hasNext();)for(var n=e.next(),i=this._segStrings.iterator();i.hasNext();){var o=i.next();t.checkInteriorIntersections(n,o)}else if(2===arguments.length)for(var r=arguments[0],s=arguments[1],a=r.getCoordinates(),l=s.getCoordinates(),u=0;u<a.length-1;u++)for(var c=0;c<l.length-1;c++)t.checkInteriorIntersections(r,u,s,c);else if(4===arguments.length){var h=arguments[0],p=arguments[1],f=arguments[2],d=arguments[3];if(h===f&&p===d)return null;var g=h.getCoordinates()[p],_=h.getCoordinates()[p+1],m=f.getCoordinates()[d],y=f.getCoordinates()[d+1];if(this._li.computeIntersection(g,_,m,y),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,g,_)||this.hasInteriorIntersection(this._li,m,y)))throw new gh("found non-noded intersection at "+g+"-"+_+" and "+m+"-"+y)}},jd.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},jd.prototype.checkCollapses=function(){var t=this;if(0===arguments.length)for(var e=this._segStrings.iterator();e.hasNext();){var n=e.next();t.checkCollapses(n)}else if(1===arguments.length)for(var i=arguments[0],o=i.getCoordinates(),r=0;r<o.length-2;r++)t.checkCollapse(o[r],o[r+1],o[r+2])},jd.prototype.hasInteriorIntersection=function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++){var o=t.getIntersection(i);if(!o.equals(e)&&!o.equals(n))return!0}return!1},jd.prototype.checkCollapse=function(t,e,n){if(t.equals(n))throw new gh("found non-noded collapse at "+jd.fact.createLineString([t,e,n]))},jd.prototype.interfaces_=function(){return[]},jd.prototype.getClass=function(){return jd},Vd.fact.get=function(){return new $p},Object.defineProperties(jd,Vd);var Gd=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var t=arguments[0],e=arguments[1],n=arguments[2];if(this._originalPt=t,this._pt=t,this._scaleFactor=e,this._li=n,e<=0)throw new Ac("Scale factor must be non-zero");1!==e&&(this._pt=new jc(this.scale(t.x),this.scale(t.y)),this._p0Scaled=new jc,this._p1Scaled=new jc),this.initCorners(this._pt)},Ud={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};Gd.prototype.intersectsScaled=function(t,e){var n=Math.min(t.x,e.x),i=Math.max(t.x,e.x),o=Math.min(t.y,e.y),r=Math.max(t.y,e.y),s=this._maxx<n||this._minx>i||this._maxy<o||this._miny>r;if(s)return!1;var a=this.intersectsToleranceSquare(t,e);return mh.isTrue(!(s&&a),"Found bad envelope test"),a},Gd.prototype.initCorners=function(t){var e=.5;this._minx=t.x-e,this._maxx=t.x+e,this._miny=t.y-e,this._maxy=t.y+e,this._corner[0]=new jc(this._maxx,this._maxy),this._corner[1]=new jc(this._minx,this._maxy),this._corner[2]=new jc(this._minx,this._miny),this._corner[3]=new jc(this._maxx,this._miny)},Gd.prototype.intersects=function(t,e){return 1===this._scaleFactor?this.intersectsScaled(t,e):(this.copyScaled(t,this._p0Scaled),this.copyScaled(e,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},Gd.prototype.scale=function(t){return Math.round(t*this._scaleFactor)},Gd.prototype.getCoordinate=function(){return this._originalPt},Gd.prototype.copyScaled=function(t,e){e.x=this.scale(t.x),e.y=this.scale(t.y)},Gd.prototype.getSafeEnvelope=function(){if(null===this._safeEnv){var t=Gd.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new lh(this._originalPt.x-t,this._originalPt.x+t,this._originalPt.y-t,this._originalPt.y+t)}return this._safeEnv},Gd.prototype.intersectsPixelClosure=function(t,e){return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),!!this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),!!this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),!!this._li.hasIntersection())))},Gd.prototype.intersectsToleranceSquare=function(t,e){var n=!1,i=!1;return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!this._li.isProper()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),!!this._li.isProper()||(this._li.hasIntersection()&&(n=!0),this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),!!this._li.isProper()||(this._li.hasIntersection()&&(i=!0),this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),!!this._li.isProper()||(!(!n||!i)||(!!t.equals(this._pt)||!!e.equals(this._pt))))))},Gd.prototype.addSnappedNode=function(t,e){var n=t.getCoordinate(e),i=t.getCoordinate(e+1);return!!this.intersects(n,i)&&(t.addIntersection(this.getCoordinate(),e),!0)},Gd.prototype.interfaces_=function(){return[]},Gd.prototype.getClass=function(){return Gd},Ud.SAFE_ENV_EXPANSION_FACTOR.get=function(){return.75},Object.defineProperties(Gd,Ud);var qd=function(){this.tempEnv1=new lh,this.selectedSegment=new $f};qd.prototype.select=function(){if(1===arguments.length);else if(2===arguments.length){var t=arguments[0],e=arguments[1];t.getLineSegment(e,this.selectedSegment),this.select(this.selectedSegment)}},qd.prototype.interfaces_=function(){return[]},qd.prototype.getClass=function(){return qd};var Hd=function(){this._index=null;var t=arguments[0];this._index=t},Wd={HotPixelSnapAction:{configurable:!0}};Hd.prototype.snap=function(){if(1===arguments.length){var t=arguments[0];return this.snap(t,null,-1)}if(3===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2],o=e.getSafeEnvelope(),r=new Zd(e,n,i);return this._index.query(o,{interfaces_:function(){return[Tf]},visitItem:function(t){t.select(o,r)}}),r.isNodeAdded()}},Hd.prototype.interfaces_=function(){return[]},Hd.prototype.getClass=function(){return Hd},Wd.HotPixelSnapAction.get=function(){return Zd},Object.defineProperties(Hd,Wd);var Zd=function(t){function e(){t.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var e=arguments[0],n=arguments[1],i=arguments[2];this._hotPixel=e,this._parentEdge=n,this._hotPixelVertexIndex=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isNodeAdded=function(){return this._isNodeAdded},e.prototype.select=function(){if(2!==arguments.length)return t.prototype.select.apply(this,arguments);var e=arguments[0],n=arguments[1],i=e.getContext();if(null!==this._parentEdge&&i===this._parentEdge&&n===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(i,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(qd),Yd=function(){this._li=null,this._interiorIntersections=null;var t=arguments[0];this._li=t,this._interiorIntersections=new Vh};Yd.prototype.processIntersections=function(t,e,n,i){if(t===n&&e===i)return null;var o=t.getCoordinates()[e],r=t.getCoordinates()[e+1],s=n.getCoordinates()[i],a=n.getCoordinates()[i+1];if(this._li.computeIntersection(o,r,s,a),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var l=0;l<this._li.getIntersectionNum();l++)this._interiorIntersections.add(this._li.getIntersection(l));t.addIntersections(this._li,e,0),n.addIntersections(this._li,i,1)}},Yd.prototype.isDone=function(){return!1},Yd.prototype.getInteriorIntersections=function(){return this._interiorIntersections},Yd.prototype.interfaces_=function(){return[Md]},Yd.prototype.getClass=function(){return Yd};var Xd=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var t=arguments[0];this._pm=t,this._li=new xh,this._li.setPrecisionModel(t),this._scaleFactor=t.getScale()};Xd.prototype.checkCorrectness=function(t){var e=Xf.getNodedSubstrings(t),n=new jd(e);try{n.checkValid()}catch(i){if(!(i instanceof oh))throw i;i.printStackTrace()}},Xd.prototype.getNodedSubstrings=function(){return Xf.getNodedSubstrings(this._nodedSegStrings)},Xd.prototype.snapRound=function(t,e){var n=this.findInteriorIntersections(t,e);this.computeIntersectionSnaps(n),this.computeVertexSnaps(t)},Xd.prototype.findInteriorIntersections=function(t,e){var n=new Yd(e);return this._noder.setSegmentIntersector(n),this._noder.computeNodes(t),n.getInteriorIntersections()},Xd.prototype.computeVertexSnaps=function(){var t=this;if(Wc(arguments[0],kh))for(var e=arguments[0],n=e.iterator();n.hasNext();){var i=n.next();t.computeVertexSnaps(i)}else if(arguments[0]instanceof Xf)for(var o=arguments[0],r=o.getCoordinates(),s=0;s<r.length;s++){var a=new Gd(r[s],t._scaleFactor,t._li),l=t._pointSnapper.snap(a,o,s);l&&o.addIntersection(r[s],s)}},Xd.prototype.computeNodes=function(t){this._nodedSegStrings=t,this._noder=new id,this._pointSnapper=new Hd(this._noder.getIndex()),this.snapRound(t,this._li)},Xd.prototype.computeIntersectionSnaps=function(t){for(var e=this,n=t.iterator();n.hasNext();){var i=n.next(),o=new Gd(i,e._scaleFactor,e._li);e._pointSnapper.snap(o)}},Xd.prototype.interfaces_=function(){return[ed]},Xd.prototype.getClass=function(){return Xd};var $d=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new rd,this._resultGeometry=null,this._saveException=null,1===arguments.length){var t=arguments[0];this._argGeom=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._argGeom=e,this._bufParams=n}},Kd={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};$d.prototype.bufferFixedPrecision=function(t){var e=new Bd(new Xd(new Wp(1)),t.getScale()),n=new zd(this._bufParams);n.setWorkingPrecisionModel(t),n.setNoder(e),this._resultGeometry=n.buffer(this._argGeom,this._distance)},$d.prototype.bufferReducedPrecision=function(){var t=this;if(0===arguments.length){for(var e=$d.MAX_PRECISION_DIGITS;e>=0;e--){try{t.bufferReducedPrecision(e)}catch(r){if(!(r instanceof cf))throw r;t._saveException=r}if(null!==t._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var n=arguments[0],i=$d.precisionScaleFactor(this._argGeom,this._distance,n),o=new Wp(i);this.bufferFixedPrecision(o)}},$d.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var t=this._argGeom.getFactory().getPrecisionModel();t.getType()===Wp.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()},$d.prototype.setQuadrantSegments=function(t){this._bufParams.setQuadrantSegments(t)},$d.prototype.bufferOriginalPrecision=function(){try{var t=new zd(this._bufParams);this._resultGeometry=t.buffer(this._argGeom,this._distance)}catch(e){if(!(e instanceof gh))throw e;this._saveException=e}},$d.prototype.getResultGeometry=function(t){return this._distance=t,this.computeGeometry(),this._resultGeometry},$d.prototype.setEndCapStyle=function(t){this._bufParams.setEndCapStyle(t)},$d.prototype.interfaces_=function(){return[]},$d.prototype.getClass=function(){return $d},$d.bufferOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new $d(t),i=n.getResultGeometry(e);return i}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Ih&&"number"==typeof arguments[1]){var o=arguments[0],r=arguments[1],s=arguments[2],a=new $d(o);a.setQuadrantSegments(s);var l=a.getResultGeometry(r);return l}if(arguments[2]instanceof rd&&arguments[0]instanceof Ih&&"number"==typeof arguments[1]){var u=arguments[0],c=arguments[1],h=arguments[2],p=new $d(u,h),f=p.getResultGeometry(c);return f}}else if(4===arguments.length){var d=arguments[0],g=arguments[1],_=arguments[2],m=arguments[3],y=new $d(d);y.setQuadrantSegments(_),y.setEndCapStyle(m);var v=y.getResultGeometry(g);return v}},$d.precisionScaleFactor=function(t,e,n){var i=t.getEnvelopeInternal(),o=Zc.max(Math.abs(i.getMaxX()),Math.abs(i.getMaxY()),Math.abs(i.getMinX()),Math.abs(i.getMinY()))+2*(e>0?e:0),r=n-Math.trunc(Math.log(o)/Math.log(10)+1);return Math.pow(10,r)},Kd.CAP_ROUND.get=function(){return rd.CAP_ROUND},Kd.CAP_BUTT.get=function(){return rd.CAP_FLAT},Kd.CAP_FLAT.get=function(){return rd.CAP_FLAT},Kd.CAP_SQUARE.get=function(){return rd.CAP_SQUARE},Kd.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties($d,Kd);var Jd=function(){this._pt=[new jc,new jc],this._distance=Rc.NaN,this._isNull=!0};Jd.prototype.getCoordinates=function(){return this._pt},Jd.prototype.getCoordinate=function(t){return this._pt[t]},Jd.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var i=e.distance(n);i<this._distance&&this.initialize(e,n,i)}},Jd.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var n=arguments[0],i=arguments[1],o=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(i),this._distance=o,this._isNull=!1}},Jd.prototype.getDistance=function(){return this._distance},Jd.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var i=e.distance(n);i>this._distance&&this.initialize(e,n,i)}},Jd.prototype.interfaces_=function(){return[]},Jd.prototype.getClass=function(){return Jd};var Qd=function(){};Qd.prototype.interfaces_=function(){return[]},Qd.prototype.getClass=function(){return Qd},Qd.computeDistance=function(){if(arguments[2]instanceof Jd&&arguments[0]instanceof Pp&&arguments[1]instanceof jc)for(var t=arguments[0],e=arguments[1],n=arguments[2],i=t.getCoordinates(),o=new $f,r=0;r<i.length-1;r++){o.setCoordinates(i[r],i[r+1]);var s=o.closestPoint(e);n.setMinimum(s,e)}else if(arguments[2]instanceof Jd&&arguments[0]instanceof Op&&arguments[1]instanceof jc){var a=arguments[0],l=arguments[1],u=arguments[2];Qd.computeDistance(a.getExteriorRing(),l,u);for(var c=0;c<a.getNumInteriorRing();c++)Qd.computeDistance(a.getInteriorRingN(c),l,u)}else if(arguments[2]instanceof Jd&&arguments[0]instanceof Ih&&arguments[1]instanceof jc){var h=arguments[0],p=arguments[1],f=arguments[2];if(h instanceof Pp)Qd.computeDistance(h,p,f);else if(h instanceof Op)Qd.computeDistance(h,p,f);else if(h instanceof gp)for(var d=h,g=0;g<d.getNumGeometries();g++){var _=d.getGeometryN(g);Qd.computeDistance(_,p,f)}else f.setMinimum(h.getCoordinate(),p)}else if(arguments[2]instanceof Jd&&arguments[0]instanceof $f&&arguments[1]instanceof jc){var m=arguments[0],y=arguments[1],v=arguments[2],x=m.closestPoint(y);v.setMinimum(x,y)}};var tg=function(t){this._maxPtDist=new Jd,this._inputGeom=t||null},eg={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};tg.prototype.computeMaxMidpointDistance=function(t){var e=new ig(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},tg.prototype.computeMaxVertexDistance=function(t){var e=new ng(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},tg.prototype.findDistance=function(t){return this.computeMaxVertexDistance(t),this.computeMaxMidpointDistance(t),this._maxPtDist.getDistance()},tg.prototype.getDistancePoints=function(){return this._maxPtDist},tg.prototype.interfaces_=function(){return[]},tg.prototype.getClass=function(){return tg},eg.MaxPointDistanceFilter.get=function(){return ng},eg.MaxMidpointDistanceFilter.get=function(){return ig},Object.defineProperties(tg,eg);var ng=function(t){this._maxPtDist=new Jd,this._minPtDist=new Jd,this._geom=t||null};ng.prototype.filter=function(t){this._minPtDist.initialize(),Qd.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},ng.prototype.getMaxPointDistance=function(){return this._maxPtDist},ng.prototype.interfaces_=function(){return[Mh]},ng.prototype.getClass=function(){return ng};var ig=function(t){this._maxPtDist=new Jd,this._minPtDist=new Jd,this._geom=t||null};ig.prototype.filter=function(t,e){if(0===e)return null;var n=t.getCoordinate(e-1),i=t.getCoordinate(e),o=new jc((n.x+i.x)/2,(n.y+i.y)/2);this._minPtDist.initialize(),Qd.computeDistance(this._geom,o,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},ig.prototype.isDone=function(){return!1},ig.prototype.isGeometryChanged=function(){return!1},ig.prototype.getMaxPointDistance=function(){return this._maxPtDist},ig.prototype.interfaces_=function(){return[dp]},ig.prototype.getClass=function(){return ig};var og=function(t){this._comps=t||null};og.prototype.filter=function(t){t instanceof Op&&this._comps.add(t)},og.prototype.interfaces_=function(){return[fp]},og.prototype.getClass=function(){return og},og.getPolygons=function(){if(1===arguments.length){var t=arguments[0];return og.getPolygons(t,new Vh)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof Op?n.add(e):e instanceof gp&&e.apply(new og(n)),n}};var rg=function(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length){var t=arguments[0];this._lines=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._lines=e,this._isForcedToLineString=n}};rg.prototype.filter=function(t){if(this._isForcedToLineString&&t instanceof Rp){var e=t.getFactory().createLineString(t.getCoordinateSequence());return this._lines.add(e),null}t instanceof Pp&&this._lines.add(t)},rg.prototype.setForceToLineString=function(t){this._isForcedToLineString=t},rg.prototype.interfaces_=function(){return[Sh]},rg.prototype.getClass=function(){return rg},rg.getGeometry=function(){if(1===arguments.length){var t=arguments[0];return t.getFactory().buildGeometry(rg.getLines(t))}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().buildGeometry(rg.getLines(e,n))}},rg.getLines=function(){if(1===arguments.length){var t=arguments[0];return rg.getLines(t,!1)}if(2===arguments.length){if(Wc(arguments[0],kh)&&Wc(arguments[1],kh)){for(var e=arguments[0],n=arguments[1],i=e.iterator();i.hasNext();){var o=i.next();rg.getLines(o,n)}return n}if(arguments[0]instanceof Ih&&"boolean"==typeof arguments[1]){var r=arguments[0],s=arguments[1],a=new Vh;return r.apply(new rg(a,s)),a}if(arguments[0]instanceof Ih&&Wc(arguments[1],kh)){var l=arguments[0],u=arguments[1];return l instanceof Pp?u.add(l):l.apply(new rg(u)),u}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&Wc(arguments[0],kh)&&Wc(arguments[1],kh)){for(var c=arguments[0],h=arguments[1],p=arguments[2],f=c.iterator();f.hasNext();){var d=f.next();rg.getLines(d,h,p)}return h}if("boolean"==typeof arguments[2]&&arguments[0]instanceof Ih&&Wc(arguments[1],kh)){var g=arguments[0],_=arguments[1],m=arguments[2];return g.apply(new rg(_,m)),_}}};var sg=function(){if(this._boundaryRule=Nh.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];if(null===t)throw new Ac("Rule must be non-null");this._boundaryRule=t}};sg.prototype.locateInternal=function(){var t=this;if(arguments[0]instanceof jc&&arguments[1]instanceof Op){var e=arguments[0],n=arguments[1];if(n.isEmpty())return qc.EXTERIOR;var i=n.getExteriorRing(),o=this.locateInPolygonRing(e,i);if(o===qc.EXTERIOR)return qc.EXTERIOR;if(o===qc.BOUNDARY)return qc.BOUNDARY;for(var r=0;r<n.getNumInteriorRing();r++){var s=n.getInteriorRingN(r),a=t.locateInPolygonRing(e,s);if(a===qc.INTERIOR)return qc.EXTERIOR;if(a===qc.BOUNDARY)return qc.BOUNDARY}return qc.INTERIOR}if(arguments[0]instanceof jc&&arguments[1]instanceof Pp){var l=arguments[0],u=arguments[1];if(!u.getEnvelopeInternal().intersects(l))return qc.EXTERIOR;var c=u.getCoordinates();return u.isClosed()||!l.equals(c[0])&&!l.equals(c[c.length-1])?Eh.isOnLine(l,c)?qc.INTERIOR:qc.EXTERIOR:qc.BOUNDARY}if(arguments[0]instanceof jc&&arguments[1]instanceof Np){var h=arguments[0],p=arguments[1],f=p.getCoordinate();return f.equals2D(h)?qc.INTERIOR:qc.EXTERIOR}},sg.prototype.locateInPolygonRing=function(t,e){return e.getEnvelopeInternal().intersects(t)?Eh.locatePointInRing(t,e.getCoordinates()):qc.EXTERIOR},sg.prototype.intersects=function(t,e){return this.locate(t,e)!==qc.EXTERIOR},sg.prototype.updateLocationInfo=function(t){t===qc.INTERIOR&&(this._isIn=!0),t===qc.BOUNDARY&&this._numBoundaries++},sg.prototype.computeLocation=function(t,e){var n=this;if(e instanceof Np&&this.updateLocationInfo(this.locateInternal(t,e)),e instanceof Pp)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof Op)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof _p)for(var i=e,o=0;o<i.getNumGeometries();o++){var r=i.getGeometryN(o);n.updateLocationInfo(n.locateInternal(t,r))}else if(e instanceof Dp)for(var s=e,a=0;a<s.getNumGeometries();a++){var l=s.getGeometryN(a);n.updateLocationInfo(n.locateInternal(t,l))}else if(e instanceof gp)for(var u=new wd(e);u.hasNext();){var c=u.next();c!==e&&n.computeLocation(t,c)}},sg.prototype.locate=function(t,e){return e.isEmpty()?qc.EXTERIOR:e instanceof Pp||e instanceof Op?this.locateInternal(t,e):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(t,e),this._boundaryRule.isInBoundary(this._numBoundaries)?qc.BOUNDARY:this._numBoundaries>0||this._isIn?qc.INTERIOR:qc.EXTERIOR)},sg.prototype.interfaces_=function(){return[]},sg.prototype.getClass=function(){return sg};var ag=function t(){if(this._component=null,this._segIndex=null,this._pt=null,2===arguments.length){var e=arguments[0],n=arguments[1];t.call(this,e,t.INSIDE_AREA,n)}else if(3===arguments.length){var i=arguments[0],o=arguments[1],r=arguments[2];this._component=i,this._segIndex=o,this._pt=r}},lg={INSIDE_AREA:{configurable:!0}};ag.prototype.isInsideArea=function(){return this._segIndex===ag.INSIDE_AREA},ag.prototype.getCoordinate=function(){return this._pt},ag.prototype.getGeometryComponent=function(){return this._component},ag.prototype.getSegmentIndex=function(){return this._segIndex},ag.prototype.interfaces_=function(){return[]},ag.prototype.getClass=function(){return ag},lg.INSIDE_AREA.get=function(){return-1},Object.defineProperties(ag,lg);var ug=function(t){this._pts=t||null};ug.prototype.filter=function(t){t instanceof Np&&this._pts.add(t)},ug.prototype.interfaces_=function(){return[fp]},ug.prototype.getClass=function(){return ug},ug.getPoints=function(){if(1===arguments.length){var t=arguments[0];return t instanceof Np?Df.singletonList(t):ug.getPoints(t,new Vh)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof Np?n.add(e):e instanceof gp&&e.apply(new ug(n)),n}};var cg=function(){this._locations=null;var t=arguments[0];this._locations=t};cg.prototype.filter=function(t){(t instanceof Np||t instanceof Pp||t instanceof Op)&&this._locations.add(new ag(t,0,t.getCoordinate()))},cg.prototype.interfaces_=function(){return[fp]},cg.prototype.getClass=function(){return cg},cg.getLocations=function(t){var e=new Vh;return t.apply(new cg(e)),e};var hg=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new sg,this._minDistanceLocation=null,this._minDistance=Rc.MAX_VALUE,2===arguments.length){var t=arguments[0],e=arguments[1];this._geom=[t,e],this._terminateDistance=0}else if(3===arguments.length){var n=arguments[0],i=arguments[1],o=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=n,this._geom[1]=i,this._terminateDistance=o}};hg.prototype.computeContainmentDistance=function(){var t=this;if(0===arguments.length){var e=new Array(2).fill(null);if(this.computeContainmentDistance(0,e),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,e)}else if(2===arguments.length){var n=arguments[0],i=arguments[1],o=1-n,r=og.getPolygons(this._geom[n]);if(r.size()>0){var s=cg.getLocations(this._geom[o]);if(this.computeContainmentDistance(s,r,i),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[o]=i[0],this._minDistanceLocation[n]=i[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&Wc(arguments[0],Bh)&&Wc(arguments[1],Bh)){for(var a=arguments[0],l=arguments[1],u=arguments[2],c=0;c<a.size();c++)for(var h=a.get(c),p=0;p<l.size();p++)if(t.computeContainmentDistance(h,l.get(p),u),t._minDistance<=t._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof ag&&arguments[1]instanceof Op){var f=arguments[0],d=arguments[1],g=arguments[2],_=f.getCoordinate();if(qc.EXTERIOR!==this._ptLocator.locate(_,d))return this._minDistance=0,g[0]=f,g[1]=new ag(d,_),null}},hg.prototype.computeMinDistanceLinesPoints=function(t,e,n){for(var i=this,o=0;o<t.size();o++)for(var r=t.get(o),s=0;s<e.size();s++){var a=e.get(s);if(i.computeMinDistance(r,a,n),i._minDistance<=i._terminateDistance)return null}},hg.prototype.computeFacetDistance=function(){var t=new Array(2).fill(null),e=rg.getLines(this._geom[0]),n=rg.getLines(this._geom[1]),i=ug.getPoints(this._geom[0]),o=ug.getPoints(this._geom[1]);return this.computeMinDistanceLines(e,n,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(e,o,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(n,i,t),this.updateMinDistance(t,!0),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistancePoints(i,o,t),void this.updateMinDistance(t,!1))))},hg.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},hg.prototype.updateMinDistance=function(t,e){if(null===t[0])return null;e?(this._minDistanceLocation[0]=t[1],this._minDistanceLocation[1]=t[0]):(this._minDistanceLocation[0]=t[0],this._minDistanceLocation[1]=t[1])},hg.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},hg.prototype.computeMinDistance=function(){var t=this;if(0===arguments.length){if(null!==this._minDistanceLocation)return null;if(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance)return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof Pp&&arguments[1]instanceof Np){var e=arguments[0],n=arguments[1],i=arguments[2];if(e.getEnvelopeInternal().distance(n.getEnvelopeInternal())>this._minDistance)return null;for(var o=e.getCoordinates(),r=n.getCoordinate(),s=0;s<o.length-1;s++){var a=Eh.distancePointLine(r,o[s],o[s+1]);if(a<t._minDistance){t._minDistance=a;var l=new $f(o[s],o[s+1]),u=l.closestPoint(r);i[0]=new ag(e,s,u),i[1]=new ag(n,0,r)}if(t._minDistance<=t._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof Pp&&arguments[1]instanceof Pp){var c=arguments[0],h=arguments[1],p=arguments[2];if(c.getEnvelopeInternal().distance(h.getEnvelopeInternal())>this._minDistance)return null;for(var f=c.getCoordinates(),d=h.getCoordinates(),g=0;g<f.length-1;g++)for(var _=0;_<d.length-1;_++){var m=Eh.distanceLineLine(f[g],f[g+1],d[_],d[_+1]);if(m<t._minDistance){t._minDistance=m;var y=new $f(f[g],f[g+1]),v=new $f(d[_],d[_+1]),x=y.closestPoints(v);p[0]=new ag(c,g,x[0]),p[1]=new ag(h,_,x[1])}if(t._minDistance<=t._terminateDistance)return null}}},hg.prototype.computeMinDistancePoints=function(t,e,n){for(var i=this,o=0;o<t.size();o++)for(var r=t.get(o),s=0;s<e.size();s++){var a=e.get(s),l=r.getCoordinate().distance(a.getCoordinate());if(l<i._minDistance&&(i._minDistance=l,n[0]=new ag(r,0,r.getCoordinate()),n[1]=new ag(a,0,a.getCoordinate())),i._minDistance<=i._terminateDistance)return null}},hg.prototype.distance=function(){if(null===this._geom[0]||null===this._geom[1])throw new Ac("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},hg.prototype.computeMinDistanceLines=function(t,e,n){for(var i=this,o=0;o<t.size();o++)for(var r=t.get(o),s=0;s<e.size();s++){var a=e.get(s);if(i.computeMinDistance(r,a,n),i._minDistance<=i._terminateDistance)return null}},hg.prototype.interfaces_=function(){return[]},hg.prototype.getClass=function(){return hg},hg.distance=function(t,e){return new hg(t,e).distance()},hg.isWithinDistance=function(t,e,n){return new hg(t,e,n).distance()<=n},hg.nearestPoints=function(t,e){return new hg(t,e).nearestPoints()};var pg=function(){this._pt=[new jc,new jc],this._distance=Rc.NaN,this._isNull=!0};pg.prototype.getCoordinates=function(){return this._pt},pg.prototype.getCoordinate=function(t){return this._pt[t]},pg.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var i=e.distance(n);i<this._distance&&this.initialize(e,n,i)}},pg.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var n=arguments[0],i=arguments[1],o=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(i),this._distance=o,this._isNull=!1}},pg.prototype.toString=function(){return dh.toLineString(this._pt[0],this._pt[1])},pg.prototype.getDistance=function(){return this._distance},pg.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var i=e.distance(n);i>this._distance&&this.initialize(e,n,i)}},pg.prototype.interfaces_=function(){return[]},pg.prototype.getClass=function(){return pg};var fg=function(){};fg.prototype.interfaces_=function(){return[]},fg.prototype.getClass=function(){return fg},fg.computeDistance=function(){if(arguments[2]instanceof pg&&arguments[0]instanceof Pp&&arguments[1]instanceof jc)for(var t=arguments[0],e=arguments[1],n=arguments[2],i=new $f,o=t.getCoordinates(),r=0;r<o.length-1;r++){i.setCoordinates(o[r],o[r+1]);var s=i.closestPoint(e);n.setMinimum(s,e)}else if(arguments[2]instanceof pg&&arguments[0]instanceof Op&&arguments[1]instanceof jc){var a=arguments[0],l=arguments[1],u=arguments[2];fg.computeDistance(a.getExteriorRing(),l,u);for(var c=0;c<a.getNumInteriorRing();c++)fg.computeDistance(a.getInteriorRingN(c),l,u)}else if(arguments[2]instanceof pg&&arguments[0]instanceof Ih&&arguments[1]instanceof jc){var h=arguments[0],p=arguments[1],f=arguments[2];if(h instanceof Pp)fg.computeDistance(h,p,f);else if(h instanceof Op)fg.computeDistance(h,p,f);else if(h instanceof gp)for(var d=h,g=0;g<d.getNumGeometries();g++){var _=d.getGeometryN(g);fg.computeDistance(_,p,f)}else f.setMinimum(h.getCoordinate(),p)}else if(arguments[2]instanceof pg&&arguments[0]instanceof $f&&arguments[1]instanceof jc){var m=arguments[0],y=arguments[1],v=arguments[2],x=m.closestPoint(y);v.setMinimum(x,y)}};var dg=function(){this._g0=null,this._g1=null,this._ptDist=new pg,this._densifyFrac=0;var t=arguments[0],e=arguments[1];this._g0=t,this._g1=e},gg={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};dg.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},dg.prototype.setDensifyFraction=function(t){if(t>1||t<=0)throw new Ac("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=t},dg.prototype.compute=function(t,e){this.computeOrientedDistance(t,e,this._ptDist),this.computeOrientedDistance(e,t,this._ptDist)},dg.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},dg.prototype.computeOrientedDistance=function(t,e,n){var i=new _g(e);if(t.apply(i),n.setMaximum(i.getMaxPointDistance()),this._densifyFrac>0){var o=new mg(e,this._densifyFrac);t.apply(o),n.setMaximum(o.getMaxPointDistance())}},dg.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},dg.prototype.interfaces_=function(){return[]},dg.prototype.getClass=function(){return dg},dg.distance=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new dg(t,e);return n.distance()}if(3===arguments.length){var i=arguments[0],o=arguments[1],r=arguments[2],s=new dg(i,o);return s.setDensifyFraction(r),s.distance()}},gg.MaxPointDistanceFilter.get=function(){return _g},gg.MaxDensifiedByFractionDistanceFilter.get=function(){return mg},Object.defineProperties(dg,gg);var _g=function(){this._maxPtDist=new pg,this._minPtDist=new pg,this._euclideanDist=new fg,this._geom=null;var t=arguments[0];this._geom=t};_g.prototype.filter=function(t){this._minPtDist.initialize(),fg.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},_g.prototype.getMaxPointDistance=function(){return this._maxPtDist},_g.prototype.interfaces_=function(){return[Mh]},_g.prototype.getClass=function(){return _g};var mg=function(){this._maxPtDist=new pg,this._minPtDist=new pg,this._geom=null,this._numSubSegs=0;var t=arguments[0],e=arguments[1];this._geom=t,this._numSubSegs=Math.trunc(Math.round(1/e))};mg.prototype.filter=function(t,e){var n=this;if(0===e)return null;for(var i=t.getCoordinate(e-1),o=t.getCoordinate(e),r=(o.x-i.x)/this._numSubSegs,s=(o.y-i.y)/this._numSubSegs,a=0;a<this._numSubSegs;a++){var l=i.x+a*r,u=i.y+a*s,c=new jc(l,u);n._minPtDist.initialize(),fg.computeDistance(n._geom,c,n._minPtDist),n._maxPtDist.setMaximum(n._minPtDist)}},mg.prototype.isDone=function(){return!1},mg.prototype.isGeometryChanged=function(){return!1},mg.prototype.getMaxPointDistance=function(){return this._maxPtDist},mg.prototype.interfaces_=function(){return[dp]},mg.prototype.getClass=function(){return mg};var yg=function(t,e,n){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._bufDistance=e||null,this._result=n||null},vg={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};yg.prototype.checkMaximumDistance=function(t,e,n){var i=new dg(e,t);if(i.setDensifyFraction(.25),this._maxDistanceFound=i.orientedDistance(),this._maxDistanceFound>n){this._isValid=!1;var o=i.getCoordinates();this._errorLocation=o[1],this._errorIndicator=t.getFactory().createLineString(o),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+dh.toLineString(o[0],o[1])+")"}},yg.prototype.isValid=function(){var t=Math.abs(this._bufDistance),e=yg.MAX_DISTANCE_DIFF_FRAC*t;return this._minValidDistance=t-e,this._maxValidDistance=t+e,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),yg.VERBOSE&&sh.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},yg.prototype.checkNegativeValid=function(){if(!(this._input instanceof Op||this._input instanceof Dp||this._input instanceof gp))return null;var t=this.getPolygonLines(this._input);if(this.checkMinimumDistance(t,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(t,this._result,this._maxValidDistance)},yg.prototype.getErrorIndicator=function(){return this._errorIndicator},yg.prototype.checkMinimumDistance=function(t,e,n){var i=new hg(t,e,n);if(this._minDistanceFound=i.distance(),this._minDistanceFound<n){this._isValid=!1;var o=i.nearestPoints();this._errorLocation=i.nearestPoints()[1],this._errorIndicator=t.getFactory().createLineString(o),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+dh.toLineString(o[0],o[1])+" )"}},yg.prototype.checkPositiveValid=function(){var t=this._result.getBoundary();if(this.checkMinimumDistance(this._input,t,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,t,this._maxValidDistance)},yg.prototype.getErrorLocation=function(){return this._errorLocation},yg.prototype.getPolygonLines=function(t){for(var e=new Vh,n=new rg(e),i=og.getPolygons(t).iterator();i.hasNext();){i.next().apply(n)}return t.getFactory().buildGeometry(e)},yg.prototype.getErrorMessage=function(){return this._errMsg},yg.prototype.interfaces_=function(){return[]},yg.prototype.getClass=function(){return yg},vg.VERBOSE.get=function(){return!1},vg.MAX_DISTANCE_DIFF_FRAC.get=function(){return.012},Object.defineProperties(yg,vg);var xg=function(t,e,n){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._distance=e||null,this._result=n||null},bg={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};xg.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},xg.prototype.checkEnvelope=function(){if(this._distance<0)return null;var t=this._distance*xg.MAX_ENV_DIFF_FRAC;0===t&&(t=.001);var e=new lh(this._input.getEnvelopeInternal());e.expandBy(this._distance);var n=new lh(this._result.getEnvelopeInternal());n.expandBy(t),n.contains(e)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(n)),this.report("Envelope")},xg.prototype.checkDistance=function(){var t=new yg(this._input,this._distance,this._result);t.isValid()||(this._isValid=!1,this._errorMsg=t.getErrorMessage(),this._errorLocation=t.getErrorLocation(),this._errorIndicator=t.getErrorIndicator()),this.report("Distance")},xg.prototype.checkArea=function(){var t=this._input.getArea(),e=this._result.getArea();this._distance>0&&t>e&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&t<e&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},xg.prototype.checkPolygonal=function(){this._result instanceof Op||this._result instanceof Dp||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},xg.prototype.getErrorIndicator=function(){return this._errorIndicator},xg.prototype.getErrorLocation=function(){return this._errorLocation},xg.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2||this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},xg.prototype.report=function(t){if(!xg.VERBOSE)return null;sh.out.println("Check "+t+": "+(this._isValid?"passed":"FAILED"))},xg.prototype.getErrorMessage=function(){return this._errorMsg},xg.prototype.interfaces_=function(){return[]},xg.prototype.getClass=function(){return xg},xg.isValidMsg=function(t,e,n){var i=new xg(t,e,n);return i.isValid()?null:i.getErrorMessage()},xg.isValid=function(t,e,n){return!!new xg(t,e,n).isValid()},bg.VERBOSE.get=function(){return!1},bg.MAX_ENV_DIFF_FRAC.get=function(){return.012},Object.defineProperties(xg,bg);var wg=function(){this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e};wg.prototype.getCoordinates=function(){return this._pts},wg.prototype.size=function(){return this._pts.length},wg.prototype.getCoordinate=function(t){return this._pts[t]},wg.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},wg.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:Wf.octant(this.getCoordinate(t),this.getCoordinate(t+1))},wg.prototype.setData=function(t){this._data=t},wg.prototype.getData=function(){return this._data},wg.prototype.toString=function(){return dh.toLineString(new Vp(this._pts))},wg.prototype.interfaces_=function(){return[Zf]},wg.prototype.getClass=function(){return wg};var Eg=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new Vh,this._intersectionCount=0,this._keepIntersections=!0;var t=arguments[0];this._li=t,this._interiorIntersection=null};Eg.prototype.getInteriorIntersection=function(){return this._interiorIntersection},Eg.prototype.setCheckEndSegmentsOnly=function(t){this._isCheckEndSegmentsOnly=t},Eg.prototype.getIntersectionSegments=function(){return this._intSegments},Eg.prototype.count=function(){return this._intersectionCount},Eg.prototype.getIntersections=function(){return this._intersections},Eg.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},Eg.prototype.setKeepIntersections=function(t){this._keepIntersections=t},Eg.prototype.processIntersections=function(t,e,n,i){if(!this._findAllIntersections&&this.hasIntersection())return null;if(t===n&&e===i)return null;if(this._isCheckEndSegmentsOnly&&!(this.isEndSegment(t,e)||this.isEndSegment(n,i)))return null;var o=t.getCoordinates()[e],r=t.getCoordinates()[e+1],s=n.getCoordinates()[i],a=n.getCoordinates()[i+1];this._li.computeIntersection(o,r,s,a),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=o,this._intSegments[1]=r,this._intSegments[2]=s,this._intSegments[3]=a,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},Eg.prototype.isEndSegment=function(t,e){return 0===e||e>=t.size()-2},Eg.prototype.hasIntersection=function(){return null!==this._interiorIntersection},Eg.prototype.isDone=function(){return!this._findAllIntersections&&null!==this._interiorIntersection},Eg.prototype.interfaces_=function(){return[Md]},Eg.prototype.getClass=function(){return Eg},Eg.createAllIntersectionsFinder=function(t){var e=new Eg(t);return e.setFindAllIntersections(!0),e},Eg.createAnyIntersectionFinder=function(t){return new Eg(t)},Eg.createIntersectionCounter=function(t){var e=new Eg(t);return e.setFindAllIntersections(!0),e.setKeepIntersections(!1),e};var Cg=function(){this._li=new xh,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;var t=arguments[0];this._segStrings=t};Cg.prototype.execute=function(){if(null!==this._segInt)return null;this.checkInteriorIntersections()},Cg.prototype.getIntersections=function(){return this._segInt.getIntersections()},Cg.prototype.isValid=function(){return this.execute(),this._isValid},Cg.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},Cg.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new Eg(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var t=new id;if(t.setSegmentIntersector(this._segInt),t.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},Cg.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new cf(this.getErrorMessage(),this._segInt.getInteriorIntersection())},Cg.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var t=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+dh.toLineString(t[0],t[1])+" and "+dh.toLineString(t[2],t[3])},Cg.prototype.interfaces_=function(){return[]},Cg.prototype.getClass=function(){return Cg},Cg.computeIntersections=function(t){var e=new Cg(t);return e.setFindAllIntersections(!0),e.isValid(),e.getIntersections()};var Sg=function t(){this._nv=null;var e=arguments[0];this._nv=new Cg(t.toSegmentStrings(e))};Sg.prototype.checkValid=function(){this._nv.checkValid()},Sg.prototype.interfaces_=function(){return[]},Sg.prototype.getClass=function(){return Sg},Sg.toSegmentStrings=function(t){for(var e=new Vh,n=t.iterator();n.hasNext();){var i=n.next();e.add(new wg(i.getCoordinates(),i))}return e},Sg.checkValid=function(t){new Sg(t).checkValid()};var Ig=function(t){this._mapOp=t};Ig.prototype.map=function(t){for(var e=new Vh,n=0;n<t.getNumGeometries();n++){var i=this._mapOp.map(t.getGeometryN(n));i.isEmpty()||e.add(i)}return t.getFactory().createGeometryCollection($p.toGeometryArray(e))},Ig.prototype.interfaces_=function(){return[]},Ig.prototype.getClass=function(){return Ig},Ig.map=function(t,e){return new Ig(e).map(t)};var Lg=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new Vh,this._resultLineList=new Vh;var t=arguments[0],e=arguments[1],n=arguments[2];this._op=t,this._geometryFactory=e,this._ptLocator=n};Lg.prototype.collectLines=function(t){for(var e=this,n=this._op.getGraph().getEdgeEnds().iterator();n.hasNext();){var i=n.next();e.collectLineEdge(i,t,e._lineEdgesList),e.collectBoundaryTouchEdge(i,t,e._lineEdgesList)}},Lg.prototype.labelIsolatedLine=function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._op.getArgGeometry(e));t.getLabel().setLocation(e,n)},Lg.prototype.build=function(t){return this.findCoveredLineEdges(),this.collectLines(t),this.buildLines(t),this._resultLineList},Lg.prototype.collectLineEdge=function(t,e,n){var i=t.getLabel(),o=t.getEdge();t.isLineEdge()&&(t.isVisited()||!a_.isResultOfOp(i,e)||o.isCovered()||(n.add(o),t.setVisitedEdge(!0)))},Lg.prototype.findCoveredLineEdges=function(){for(var t=this._op.getGraph().getNodes().iterator();t.hasNext();){t.next().getEdges().findCoveredLineEdges()}for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next(),i=n.getEdge();if(n.isLineEdge()&&!i.isCoveredSet()){var o=this._op.isCoveredByA(n.getCoordinate());i.setCovered(o)}}},Lg.prototype.labelIsolatedLines=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),i=n.getLabel();n.isIsolated()&&(i.isNull(0)?this.labelIsolatedLine(n,0):this.labelIsolatedLine(n,1))}},Lg.prototype.buildLines=function(t){for(var e=this._lineEdgesList.iterator();e.hasNext();){var n=e.next(),i=this._geometryFactory.createLineString(n.getCoordinates());this._resultLineList.add(i),n.setInResult(!0)}},Lg.prototype.collectBoundaryTouchEdge=function(t,e,n){var i=t.getLabel();return t.isLineEdge()||t.isVisited()||t.isInteriorAreaEdge()||t.getEdge().isInResult()?null:(mh.isTrue(!(t.isInResult()||t.getSym().isInResult())||!t.getEdge().isInResult()),void(a_.isResultOfOp(i,e)&&e===a_.INTERSECTION&&(n.add(t.getEdge()),t.setVisitedEdge(!0))))},Lg.prototype.interfaces_=function(){return[]},Lg.prototype.getClass=function(){return Lg};var Pg=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new Vh;var t=arguments[0],e=arguments[1];this._op=t,this._geometryFactory=e};Pg.prototype.filterCoveredNodeToPoint=function(t){var e=t.getCoordinate();if(!this._op.isCoveredByLA(e)){var n=this._geometryFactory.createPoint(e);this._resultPointList.add(n)}},Pg.prototype.extractNonCoveredResultNodes=function(t){for(var e=this._op.getGraph().getNodes().iterator();e.hasNext();){var n=e.next();if(!n.isInResult()&&(!n.isIncidentEdgeInResult()&&(0===n.getEdges().getDegree()||t===a_.INTERSECTION))){var i=n.getLabel();a_.isResultOfOp(i,t)&&this.filterCoveredNodeToPoint(n)}}},Pg.prototype.build=function(t){return this.extractNonCoveredResultNodes(t),this._resultPointList},Pg.prototype.interfaces_=function(){return[]},Pg.prototype.getClass=function(){return Pg};var Mg=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};Mg.prototype.transformPoint=function(t,e){return this._factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(),t))},Mg.prototype.transformPolygon=function(t,e){var n=!0,i=this.transformLinearRing(t.getExteriorRing(),t);null!==i&&i instanceof Rp&&!i.isEmpty()||(n=!1);for(var o=new Vh,r=0;r<t.getNumInteriorRing();r++){var s=this.transformLinearRing(t.getInteriorRingN(r),t);null===s||s.isEmpty()||(s instanceof Rp||(n=!1),o.add(s))}if(n)return this._factory.createPolygon(i,o.toArray([]));var a=new Vh;return null!==i&&a.add(i),a.addAll(o),this._factory.buildGeometry(a)},Mg.prototype.createCoordinateSequence=function(t){return this._factory.getCoordinateSequenceFactory().create(t)},Mg.prototype.getInputGeometry=function(){return this._inputGeom},Mg.prototype.transformMultiLineString=function(t,e){for(var n=new Vh,i=0;i<t.getNumGeometries();i++){var o=this.transformLineString(t.getGeometryN(i),t);null!==o&&(o.isEmpty()||n.add(o))}return this._factory.buildGeometry(n)},Mg.prototype.transformCoordinates=function(t,e){return this.copy(t)},Mg.prototype.transformLineString=function(t,e){return this._factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(),t))},Mg.prototype.transformMultiPoint=function(t,e){for(var n=new Vh,i=0;i<t.getNumGeometries();i++){var o=this.transformPoint(t.getGeometryN(i),t);null!==o&&(o.isEmpty()||n.add(o))}return this._factory.buildGeometry(n)},Mg.prototype.transformMultiPolygon=function(t,e){for(var n=new Vh,i=0;i<t.getNumGeometries();i++){var o=this.transformPolygon(t.getGeometryN(i),t);null!==o&&(o.isEmpty()||n.add(o))}return this._factory.buildGeometry(n)},Mg.prototype.copy=function(t){return t.copy()},Mg.prototype.transformGeometryCollection=function(t,e){for(var n=new Vh,i=0;i<t.getNumGeometries();i++){var o=this.transform(t.getGeometryN(i));null!==o&&(this._pruneEmptyGeometry&&o.isEmpty()||n.add(o))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection($p.toGeometryArray(n)):this._factory.buildGeometry(n)},Mg.prototype.transform=function(t){if(this._inputGeom=t,this._factory=t.getFactory(),t instanceof Np)return this.transformPoint(t,null);if(t instanceof Ap)return this.transformMultiPoint(t,null);if(t instanceof Rp)return this.transformLinearRing(t,null);if(t instanceof Pp)return this.transformLineString(t,null);if(t instanceof _p)return this.transformMultiLineString(t,null);if(t instanceof Op)return this.transformPolygon(t,null);if(t instanceof Dp)return this.transformMultiPolygon(t,null);if(t instanceof gp)return this.transformGeometryCollection(t,null);throw new Ac("Unknown Geometry subtype: "+t.getClass().getName())},Mg.prototype.transformLinearRing=function(t,e){var n=this.transformCoordinates(t.getCoordinateSequence(),t);if(null===n)return this._factory.createLinearRing(null);var i=n.size();return i>0&&i<4&&!this._preserveType?this._factory.createLineString(n):this._factory.createLinearRing(n)},Mg.prototype.interfaces_=function(){return[]},Mg.prototype.getClass=function(){return Mg};var Ng=function t(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new $f,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof Pp&&"number"==typeof arguments[1]){var e=arguments[0],n=arguments[1];t.call(this,e.getCoordinates(),n)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var i=arguments[0],o=arguments[1];this._srcPts=i,this._isClosed=t.isClosed(i),this._snapTolerance=o}};Ng.prototype.snapVertices=function(t,e){for(var n=this._isClosed?t.size()-1:t.size(),i=0;i<n;i++){var o=t.get(i),r=this.findSnapForVertex(o,e);null!==r&&(t.set(i,new jc(r)),0===i&&this._isClosed&&t.set(t.size()-1,new jc(r)))}},Ng.prototype.findSnapForVertex=function(t,e){for(var n=0;n<e.length;n++){if(t.equals2D(e[n]))return null;if(t.distance(e[n])<this._snapTolerance)return e[n]}return null},Ng.prototype.snapTo=function(t){var e=new Uh(this._srcPts);return this.snapVertices(e,t),this.snapSegments(e,t),e.toCoordinateArray()},Ng.prototype.snapSegments=function(t,e){if(0===e.length)return null;var n=e.length;e[0].equals2D(e[e.length-1])&&(n=e.length-1);for(var i=0;i<n;i++){var o=e[i],r=this.findSegmentIndexToSnap(o,t);r>=0&&t.add(r+1,new jc(o),!1)}},Ng.prototype.findSegmentIndexToSnap=function(t,e){for(var n=this,i=Rc.MAX_VALUE,o=-1,r=0;r<e.size()-1;r++){if(n._seg.p0=e.get(r),n._seg.p1=e.get(r+1),n._seg.p0.equals2D(t)||n._seg.p1.equals2D(t)){if(n._allowSnappingToSourceVertices)continue;return-1}var s=n._seg.distance(t);s<n._snapTolerance&&s<i&&(i=s,o=r)}return o},Ng.prototype.setAllowSnappingToSourceVertices=function(t){this._allowSnappingToSourceVertices=t},Ng.prototype.interfaces_=function(){return[]},Ng.prototype.getClass=function(){return Ng},Ng.isClosed=function(t){return!(t.length<=1)&&t[0].equals2D(t[t.length-1])};var Tg=function(t){this._srcGeom=t||null},Og={SNAP_PRECISION_FACTOR:{configurable:!0}};Tg.prototype.snapTo=function(t,e){var n=this.extractTargetCoordinates(t);return new Ag(e,n).transform(this._srcGeom)},Tg.prototype.snapToSelf=function(t,e){var n=this.extractTargetCoordinates(this._srcGeom),i=new Ag(t,n,!0).transform(this._srcGeom),o=i;return e&&Wc(o,Tp)&&(o=i.buffer(0)),o},Tg.prototype.computeSnapTolerance=function(t){return this.computeMinimumSegmentLength(t)/10},Tg.prototype.extractTargetCoordinates=function(t){for(var e=new lp,n=t.getCoordinates(),i=0;i<n.length;i++)e.add(n[i]);return e.toArray(new Array(0).fill(null))},Tg.prototype.computeMinimumSegmentLength=function(t){for(var e=Rc.MAX_VALUE,n=0;n<t.length-1;n++){var i=t[n].distance(t[n+1]);i<e&&(e=i)}return e},Tg.prototype.interfaces_=function(){return[]},Tg.prototype.getClass=function(){return Tg},Tg.snap=function(t,e,n){var i=new Array(2).fill(null),o=new Tg(t);i[0]=o.snapTo(e,n);var r=new Tg(e);return i[1]=r.snapTo(i[0],n),i},Tg.computeOverlaySnapTolerance=function(){if(1===arguments.length){var t=arguments[0],e=Tg.computeSizeBasedSnapTolerance(t),n=t.getPrecisionModel();if(n.getType()===Wp.FIXED){var i=1/n.getScale()*2/1.415;i>e&&(e=i)}return e}if(2===arguments.length){var o=arguments[0],r=arguments[1];return Math.min(Tg.computeOverlaySnapTolerance(o),Tg.computeOverlaySnapTolerance(r))}},Tg.computeSizeBasedSnapTolerance=function(t){var e=t.getEnvelopeInternal();return Math.min(e.getHeight(),e.getWidth())*Tg.SNAP_PRECISION_FACTOR},Tg.snapToSelf=function(t,e,n){return new Tg(t).snapToSelf(e,n)},Og.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(Tg,Og);var Ag=function(t){function e(e,n,i){t.call(this),this._snapTolerance=e||null,this._snapPts=n||null,this._isSelfSnap=void 0!==i&&i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.snapLine=function(t,e){var n=new Ng(t,this._snapTolerance);return n.setAllowSnappingToSourceVertices(this._isSelfSnap),n.snapTo(e)},e.prototype.transformCoordinates=function(t,e){var n=t.toCoordinateArray(),i=this.snapLine(n,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(i)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Mg),Rg=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};Rg.prototype.getCommon=function(){return Rc.longBitsToDouble(this._commonBits)},Rg.prototype.add=function(t){var e=Rc.doubleToLongBits(t);return this._isFirst?(this._commonBits=e,this._commonSignExp=Rg.signExpBits(this._commonBits),this._isFirst=!1,null):Rg.signExpBits(e)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=Rg.numCommonMostSigMantissaBits(this._commonBits,e),void(this._commonBits=Rg.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},Rg.prototype.toString=function(){if(1===arguments.length){var t=arguments[0],e=Rc.longBitsToDouble(t),n=Rc.toBinaryString(t),i="0000000000000000000000000000000000000000000000000000000000000000"+n,o=i.substring(i.length-64),r=o.substring(0,1)+"  "+o.substring(1,12)+"(exp) "+o.substring(12)+" [ "+e+" ]";return r}},Rg.prototype.interfaces_=function(){return[]},Rg.prototype.getClass=function(){return Rg},Rg.getBit=function(t,e){return 0!=(t&1<<e)?1:0},Rg.signExpBits=function(t){return t>>52},Rg.zeroLowerBits=function(t,e){return t&~((1<<e)-1)},Rg.numCommonMostSigMantissaBits=function(t,e){for(var n=0,i=52;i>=0;i--){if(Rg.getBit(t,i)!==Rg.getBit(e,i))return n;n++}return 52};var Dg=function(){this._commonCoord=null,this._ccFilter=new Fg},kg={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};Dg.prototype.addCommonBits=function(t){var e=new zg(this._commonCoord);t.apply(e),t.geometryChanged()},Dg.prototype.removeCommonBits=function(t){if(0===this._commonCoord.x&&0===this._commonCoord.y)return t;var e=new jc(this._commonCoord);e.x=-e.x,e.y=-e.y;var n=new zg(e);return t.apply(n),t.geometryChanged(),t},Dg.prototype.getCommonCoordinate=function(){return this._commonCoord},Dg.prototype.add=function(t){t.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},Dg.prototype.interfaces_=function(){return[]},Dg.prototype.getClass=function(){return Dg},kg.CommonCoordinateFilter.get=function(){return Fg},kg.Translater.get=function(){return zg},Object.defineProperties(Dg,kg);var Fg=function(){this._commonBitsX=new Rg,this._commonBitsY=new Rg};Fg.prototype.filter=function(t){this._commonBitsX.add(t.x),this._commonBitsY.add(t.y)},Fg.prototype.getCommonCoordinate=function(){return new jc(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},Fg.prototype.interfaces_=function(){return[Mh]},Fg.prototype.getClass=function(){return Fg};var zg=function(){this.trans=null;var t=arguments[0];this.trans=t};zg.prototype.filter=function(t,e){var n=t.getOrdinate(e,0)+this.trans.x,i=t.getOrdinate(e,1)+this.trans.y;t.setOrdinate(e,0,n),t.setOrdinate(e,1,i)},zg.prototype.isDone=function(){return!1},zg.prototype.isGeometryChanged=function(){return!0},zg.prototype.interfaces_=function(){return[dp]},zg.prototype.getClass=function(){return zg};var Bg=function(t,e){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=t,this._geom[1]=e,this.computeSnapTolerance()};Bg.prototype.selfSnap=function(t){return new Tg(t).snapTo(t,this._snapTolerance)},Bg.prototype.removeCommonBits=function(t){this._cbr=new Dg,this._cbr.add(t[0]),this._cbr.add(t[1]);var e=new Array(2).fill(null);return e[0]=this._cbr.removeCommonBits(t[0].copy()),e[1]=this._cbr.removeCommonBits(t[1].copy()),e},Bg.prototype.prepareResult=function(t){return this._cbr.addCommonBits(t),t},Bg.prototype.getResultGeometry=function(t){var e=this.snap(this._geom),n=a_.overlayOp(e[0],e[1],t);return this.prepareResult(n)},Bg.prototype.checkValid=function(t){t.isValid()||sh.out.println("Snapped geometry is invalid")},Bg.prototype.computeSnapTolerance=function(){this._snapTolerance=Tg.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},Bg.prototype.snap=function(t){var e=this.removeCommonBits(t);return Tg.snap(e[0],e[1],this._snapTolerance)},Bg.prototype.interfaces_=function(){return[]},Bg.prototype.getClass=function(){return Bg},Bg.overlayOp=function(t,e,n){return new Bg(t,e).getResultGeometry(n)},Bg.union=function(t,e){return Bg.overlayOp(t,e,a_.UNION)},Bg.intersection=function(t,e){return Bg.overlayOp(t,e,a_.INTERSECTION)},Bg.symDifference=function(t,e){return Bg.overlayOp(t,e,a_.SYMDIFFERENCE)},Bg.difference=function(t,e){return Bg.overlayOp(t,e,a_.DIFFERENCE)};var jg=function(t,e){this._geom=new Array(2).fill(null),this._geom[0]=t,this._geom[1]=e};jg.prototype.getResultGeometry=function(t){var e=null,n=!1,i=null;try{e=a_.overlayOp(this._geom[0],this._geom[1],t);n=!0}catch(o){if(!(o instanceof gh))throw o;i=o}if(!n)try{e=Bg.overlayOp(this._geom[0],this._geom[1],t)}catch(o){throw o instanceof gh?i:o}return e},jg.prototype.interfaces_=function(){return[]},jg.prototype.getClass=function(){return jg},jg.overlayOp=function(t,e,n){return new jg(t,e).getResultGeometry(n)},jg.union=function(t,e){return jg.overlayOp(t,e,a_.UNION)},jg.intersection=function(t,e){return jg.overlayOp(t,e,a_.INTERSECTION)},jg.symDifference=function(t,e){return jg.overlayOp(t,e,a_.SYMDIFFERENCE)},jg.difference=function(t,e){return jg.overlayOp(t,e,a_.DIFFERENCE)};var Vg=function(){this.mce=null,this.chainIndex=null;var t=arguments[0],e=arguments[1];this.mce=t,this.chainIndex=e};Vg.prototype.computeIntersections=function(t,e){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,e)},Vg.prototype.interfaces_=function(){return[]},Vg.prototype.getClass=function(){return Vg};var Gg=function t(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){var e=arguments[0],n=arguments[1];this._eventType=t.DELETE,this._xValue=e,this._insertEvent=n}else if(3===arguments.length){var i=arguments[0],o=arguments[1],r=arguments[2];this._eventType=t.INSERT,this._label=i,this._xValue=o,this._obj=r}},Ug={INSERT:{configurable:!0},DELETE:{configurable:!0}};Gg.prototype.isDelete=function(){return this._eventType===Gg.DELETE},Gg.prototype.setDeleteEventIndex=function(t){this._deleteEventIndex=t},Gg.prototype.getObject=function(){return this._obj},Gg.prototype.compareTo=function(t){var e=t;return this._xValue<e._xValue?-1:this._xValue>e._xValue?1:this._eventType<e._eventType?-1:this._eventType>e._eventType?1:0},Gg.prototype.getInsertEvent=function(){return this._insertEvent},Gg.prototype.isInsert=function(){return this._eventType===Gg.INSERT},Gg.prototype.isSameLabel=function(t){return null!==this._label&&this._label===t._label},Gg.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},Gg.prototype.interfaces_=function(){return[kc]},Gg.prototype.getClass=function(){return Gg},Ug.INSERT.get=function(){return 1},Ug.DELETE.get=function(){return 2},Object.defineProperties(Gg,Ug);var qg=function(){};qg.prototype.interfaces_=function(){return[]},qg.prototype.getClass=function(){return qg};var Hg=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this._li=t,this._includeProper=e,this._recordIsolated=n};Hg.prototype.isTrivialIntersection=function(t,e,n,i){if(t===n&&1===this._li.getIntersectionNum()){if(Hg.isAdjacentSegments(e,i))return!0;if(t.isClosed()){var o=t.getNumPoints()-1;if(0===e&&i===o||0===i&&e===o)return!0}}return!1},Hg.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},Hg.prototype.setIsDoneIfProperInt=function(t){this._isDoneWhenProperInt=t},Hg.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},Hg.prototype.isBoundaryPointInternal=function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next().getCoordinate();if(t.isIntersection(i))return!0}return!1},Hg.prototype.hasProperIntersection=function(){return this._hasProper},Hg.prototype.hasIntersection=function(){return this._hasIntersection},Hg.prototype.isDone=function(){return this._isDone},Hg.prototype.isBoundaryPoint=function(t,e){return null!==e&&(!!this.isBoundaryPointInternal(t,e[0])||!!this.isBoundaryPointInternal(t,e[1]))},Hg.prototype.setBoundaryNodes=function(t,e){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=t,this._bdyNodes[1]=e},Hg.prototype.addIntersections=function(t,e,n,i){if(t===n&&e===i)return null;this.numTests++;var o=t.getCoordinates()[e],r=t.getCoordinates()[e+1],s=n.getCoordinates()[i],a=n.getCoordinates()[i+1];this._li.computeIntersection(o,r,s,a),this._li.hasIntersection()&&(this._recordIsolated&&(t.setIsolated(!1),n.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(t,e,n,i)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(t.addIntersections(this._li,e,0),n.addIntersections(this._li,i,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},Hg.prototype.interfaces_=function(){return[]},Hg.prototype.getClass=function(){return Hg},Hg.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var Wg=function(t){function e(){t.call(this),this.events=new Vh,this.nOverlaps=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.prepareEvents=function(){Df.sort(this.events);for(var t=0;t<this.events.size();t++){var e=this.events.get(t);e.isDelete()&&e.getInsertEvent().setDeleteEventIndex(t)}},e.prototype.computeIntersections=function(){var t=this;if(1===arguments.length){var e=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var n=0;n<this.events.size();n++){var i=t.events.get(n);if(i.isInsert()&&t.processOverlaps(n,i.getDeleteEventIndex(),i,e),e.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof Hg&&Wc(arguments[0],Bh)&&Wc(arguments[1],Bh)){var o=arguments[0],r=arguments[1],s=arguments[2];this.addEdges(o,o),this.addEdges(r,r),this.computeIntersections(s)}else if("boolean"==typeof arguments[2]&&Wc(arguments[0],Bh)&&arguments[1]instanceof Hg){var a=arguments[0],l=arguments[1],u=arguments[2];u?this.addEdges(a,null):this.addEdges(a),this.computeIntersections(l)}},e.prototype.addEdge=function(t,e){for(var n=t.getMonotoneChainEdge(),i=n.getStartIndexes(),o=0;o<i.length-1;o++){var r=new Vg(n,o),s=new Gg(e,n.getMinX(o),r);this.events.add(s),this.events.add(new Gg(n.getMaxX(o),s))}},e.prototype.processOverlaps=function(t,e,n,i){for(var o=n.getObject(),r=t;r<e;r++){var s=this.events.get(r);if(s.isInsert()){var a=s.getObject();n.isSameLabel(s)||(o.computeIntersections(a,i),this.nOverlaps++)}}},e.prototype.addEdges=function(){var t=this;if(1===arguments.length)for(var e=arguments[0],n=e.iterator();n.hasNext();){var i=n.next();t.addEdge(i,i)}else if(2===arguments.length)for(var o=arguments[0],r=arguments[1],s=o.iterator();s.hasNext();){var a=s.next();t.addEdge(a,r)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(qg),Zg=function(){this._min=Rc.POSITIVE_INFINITY,this._max=Rc.NEGATIVE_INFINITY},Yg={NodeComparator:{configurable:!0}};Zg.prototype.getMin=function(){return this._min},Zg.prototype.intersects=function(t,e){return!(this._min>e||this._max<t)},Zg.prototype.getMax=function(){return this._max},Zg.prototype.toString=function(){return dh.toLineString(new jc(this._min,0),new jc(this._max,0))},Zg.prototype.interfaces_=function(){return[]},Zg.prototype.getClass=function(){return Zg},Yg.NodeComparator.get=function(){return Xg},Object.defineProperties(Zg,Yg);var Xg=function(){};Xg.prototype.compare=function(t,e){var n=t,i=e,o=(n._min+n._max)/2,r=(i._min+i._max)/2;return o<r?-1:o>r?1:0},Xg.prototype.interfaces_=function(){return[zc]},Xg.prototype.getClass=function(){return Xg};var $g=function(t){function e(){t.call(this),this._item=null;var e=arguments[0],n=arguments[1],i=arguments[2];this._min=e,this._max=n,this._item=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.query=function(t,e,n){if(!this.intersects(t,e))return null;n.visitItem(this._item)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Zg),Kg=function(t){function e(){t.call(this),this._node1=null,this._node2=null;var e=arguments[0],n=arguments[1];this._node1=e,this._node2=n,this.buildExtent(this._node1,this._node2)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.buildExtent=function(t,e){this._min=Math.min(t._min,e._min),this._max=Math.max(t._max,e._max)},e.prototype.query=function(t,e,n){if(!this.intersects(t,e))return null;null!==this._node1&&this._node1.query(t,e,n),null!==this._node2&&this._node2.query(t,e,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Zg),Jg=function(){this._leaves=new Vh,this._root=null,this._level=0};Jg.prototype.buildTree=function(){Df.sort(this._leaves,new Zg.NodeComparator);for(var t=this._leaves,e=null,n=new Vh;;){if(this.buildLevel(t,n),1===n.size())return n.get(0);e=t,t=n,n=e}},Jg.prototype.insert=function(t,e,n){if(null!==this._root)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new $g(t,e,n))},Jg.prototype.query=function(t,e,n){this.init(),this._root.query(t,e,n)},Jg.prototype.buildRoot=function(){if(null!==this._root)return null;this._root=this.buildTree()},Jg.prototype.printNode=function(t){sh.out.println(dh.toLineString(new jc(t._min,this._level),new jc(t._max,this._level)))},Jg.prototype.init=function(){if(null!==this._root)return null;this.buildRoot()},Jg.prototype.buildLevel=function(t,e){this._level++,e.clear();for(var n=0;n<t.size();n+=2){var i=t.get(n);if(null===(n+1<t.size()?t.get(n):null))e.add(i);else{var o=new Kg(t.get(n),t.get(n+1));e.add(o)}}},Jg.prototype.interfaces_=function(){return[]},Jg.prototype.getClass=function(){return Jg};var Qg=function(){this._items=new Vh};Qg.prototype.visitItem=function(t){this._items.add(t)},Qg.prototype.getItems=function(){return this._items},Qg.prototype.interfaces_=function(){return[Tf]},Qg.prototype.getClass=function(){return Qg};var t_=function(){this._index=null;var t=arguments[0];if(!Wc(t,Tp))throw new Ac("Argument must be Polygonal");this._index=new i_(t)},e_={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};t_.prototype.locate=function(t){var e=new wh(t),n=new n_(e);return this._index.query(t.y,t.y,n),e.getLocation()},t_.prototype.interfaces_=function(){return[bd]},t_.prototype.getClass=function(){return t_},e_.SegmentVisitor.get=function(){return n_},e_.IntervalIndexedGeometry.get=function(){return i_},Object.defineProperties(t_,e_);var n_=function(){this._counter=null;var t=arguments[0];this._counter=t};n_.prototype.visitItem=function(t){var e=t;this._counter.countSegment(e.getCoordinate(0),e.getCoordinate(1))},n_.prototype.interfaces_=function(){return[Tf]},n_.prototype.getClass=function(){return n_};var i_=function(){this._index=new Jg;var t=arguments[0];this.init(t)};i_.prototype.init=function(t){for(var e=rg.getLines(t).iterator();e.hasNext();){var n=e.next().getCoordinates();this.addLine(n)}},i_.prototype.addLine=function(t){for(var e=1;e<t.length;e++){var n=new $f(t[e-1],t[e]),i=Math.min(n.p0.y,n.p1.y),o=Math.max(n.p0.y,n.p1.y);this._index.insert(i,o,n)}},i_.prototype.query=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new Qg;return this._index.query(t,e,n),n.getItems()}if(3===arguments.length){var i=arguments[0],o=arguments[1],r=arguments[2];this._index.query(i,o,r)}},i_.prototype.interfaces_=function(){return[]},i_.prototype.getClass=function(){return i_};var o_=function(t){function e(){if(t.call(this),this._parentGeom=null,this._lineEdgeMap=new Hp,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new sg,2===arguments.length){var e=arguments[0],n=arguments[1],i=Nh.OGC_SFS_BOUNDARY_RULE;this._argIndex=e,this._parentGeom=n,this._boundaryNodeRule=i,null!==n&&this.add(n)}else if(3===arguments.length){var o=arguments[0],r=arguments[1],s=arguments[2];this._argIndex=o,this._parentGeom=r,this._boundaryNodeRule=s,null!==r&&this.add(r)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.insertBoundaryPoint=function(t,n){var i=this._nodes.addNode(n).getLabel(),o=1;i.getLocation(t,rf.ON)===qc.BOUNDARY&&o++;var r=e.determineBoundary(this._boundaryNodeRule,o);i.setLocation(t,r)},e.prototype.computeSelfNodes=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.computeSelfNodes(t,e,!1)}if(3===arguments.length){var n=arguments[0],i=arguments[1],o=arguments[2],r=new Hg(n,!0,!1);r.setIsDoneIfProperInt(o);var s=this.createEdgeSetIntersector(),a=this._parentGeom instanceof Rp||this._parentGeom instanceof Op||this._parentGeom instanceof Dp,l=i||!a;return s.computeIntersections(this._edges,r,l),this.addSelfIntersectionNodes(this._argIndex),r}},e.prototype.computeSplitEdges=function(t){for(var e=this._edges.iterator();e.hasNext();){e.next().eiList.addSplitEdges(t)}},e.prototype.computeEdgeIntersections=function(t,e,n){var i=new Hg(e,n,!0);return i.setBoundaryNodes(this.getBoundaryNodes(),t.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,t._edges,i),i},e.prototype.getGeometry=function(){return this._parentGeom},e.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},e.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},e.prototype.addPoint=function(){if(arguments[0]instanceof Np){var t=arguments[0],e=t.getCoordinate();this.insertPoint(this._argIndex,e,qc.INTERIOR)}else if(arguments[0]instanceof jc){var n=arguments[0];this.insertPoint(this._argIndex,n,qc.INTERIOR)}},e.prototype.addPolygon=function(t){this.addPolygonRing(t.getExteriorRing(),qc.EXTERIOR,qc.INTERIOR);for(var e=0;e<t.getNumInteriorRing();e++){var n=t.getInteriorRingN(e);this.addPolygonRing(n,qc.INTERIOR,qc.EXTERIOR)}},e.prototype.addEdge=function(t){this.insertEdge(t);var e=t.getCoordinates();this.insertPoint(this._argIndex,e[0],qc.BOUNDARY),this.insertPoint(this._argIndex,e[e.length-1],qc.BOUNDARY)},e.prototype.addLineString=function(t){var e=qh.removeRepeatedPoints(t.getCoordinates());if(e.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=e[0],null;var n=new Fd(e,new df(this._argIndex,qc.INTERIOR));this._lineEdgeMap.put(t,n),this.insertEdge(n),mh.isTrue(e.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,e[0]),this.insertBoundaryPoint(this._argIndex,e[e.length-1])},e.prototype.getInvalidPoint=function(){return this._invalidPoint},e.prototype.getBoundaryPoints=function(){for(var t=this.getBoundaryNodes(),e=new Array(t.size()).fill(null),n=0,i=t.iterator();i.hasNext();){var o=i.next();e[n++]=o.getCoordinate().copy()}return e},e.prototype.getBoundaryNodes=function(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},e.prototype.addSelfIntersectionNode=function(t,e,n){if(this.isBoundaryNode(t,e))return null;n===qc.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(t,e):this.insertPoint(t,e,n)},e.prototype.addPolygonRing=function(t,e,n){if(t.isEmpty())return null;var i=qh.removeRepeatedPoints(t.getCoordinates());if(i.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=i[0],null;var o=e,r=n;Eh.isCCW(i)&&(o=n,r=e);var s=new Fd(i,new df(this._argIndex,qc.BOUNDARY,o,r));this._lineEdgeMap.put(t,s),this.insertEdge(s),this.insertPoint(this._argIndex,i[0],qc.BOUNDARY)},e.prototype.insertPoint=function(t,e,n){var i=this._nodes.addNode(e),o=i.getLabel();null===o?i._label=new df(t,n):o.setLocation(t,n)},e.prototype.createEdgeSetIntersector=function(){return new Wg},e.prototype.addSelfIntersectionNodes=function(t){for(var e=this._edges.iterator();e.hasNext();)for(var n=e.next(),i=n.getLabel().getLocation(t),o=n.eiList.iterator();o.hasNext();){var r=o.next();this.addSelfIntersectionNode(t,r.coord,i)}},e.prototype.add=function(){if(1!==arguments.length)return t.prototype.add.apply(this,arguments);var e=arguments[0];if(e.isEmpty())return null;if(e instanceof Dp&&(this._useBoundaryDeterminationRule=!1),e instanceof Op)this.addPolygon(e);else if(e instanceof Pp)this.addLineString(e);else if(e instanceof Np)this.addPoint(e);else if(e instanceof Ap)this.addCollection(e);else if(e instanceof _p)this.addCollection(e);else if(e instanceof Dp)this.addCollection(e);else{if(!(e instanceof gp))throw new Error(e.getClass().getName());this.addCollection(e)}},e.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},e.prototype.locate=function(t){return Wc(this._parentGeom,Tp)&&this._parentGeom.getNumGeometries()>50?(null===this._areaPtLocator&&(this._areaPtLocator=new t_(this._parentGeom)),this._areaPtLocator.locate(t)):this._ptLocator.locate(t,this._parentGeom)},e.prototype.findEdge=function(){if(1===arguments.length){var e=arguments[0];return this._lineEdgeMap.get(e)}return t.prototype.findEdge.apply(this,arguments)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.determineBoundary=function(t,e){return t.isInBoundary(e)?qc.BOUNDARY:qc.INTERIOR},e}(If),r_=function(){if(this._li=new xh,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){var t=arguments[0];this.setComputationPrecision(t.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new o_(0,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],i=Nh.OGC_SFS_BOUNDARY_RULE;e.getPrecisionModel().compareTo(n.getPrecisionModel())>=0?this.setComputationPrecision(e.getPrecisionModel()):this.setComputationPrecision(n.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new o_(0,e,i),this._arg[1]=new o_(1,n,i)}else if(3===arguments.length){var o=arguments[0],r=arguments[1],s=arguments[2];o.getPrecisionModel().compareTo(r.getPrecisionModel())>=0?this.setComputationPrecision(o.getPrecisionModel()):this.setComputationPrecision(r.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new o_(0,o,s),this._arg[1]=new o_(1,r,s)}};r_.prototype.getArgGeometry=function(t){return this._arg[t].getGeometry()},r_.prototype.setComputationPrecision=function(t){this._resultPrecisionModel=t,this._li.setPrecisionModel(this._resultPrecisionModel)},r_.prototype.interfaces_=function(){return[]},r_.prototype.getClass=function(){return r_};var s_=function(){};s_.prototype.interfaces_=function(){return[]},s_.prototype.getClass=function(){return s_},s_.map=function(){if(arguments[0]instanceof Ih&&Wc(arguments[1],s_.MapOp)){for(var t=arguments[0],e=arguments[1],n=new Vh,i=0;i<t.getNumGeometries();i++){var o=e.map(t.getGeometryN(i));null!==o&&n.add(o)}return t.getFactory().buildGeometry(n)}if(Wc(arguments[0],kh)&&Wc(arguments[1],s_.MapOp)){for(var r=arguments[0],s=arguments[1],a=new Vh,l=r.iterator();l.hasNext();){var u=l.next(),c=s.map(u);null!==c&&a.add(c)}return a}},s_.MapOp=function(){};var a_=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n),this._ptLocator=new sg,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new Pd,this._resultPolyList=new Vh,this._resultLineList=new Vh,this._resultPointList=new Vh,this._graph=new If(new Id),this._geomFact=e.getFactory()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),i=t.getLabel();e.isPointwiseEqual(t)||(i=new df(t.getLabel())).flip();var o=e.getDepth();o.isNull()&&o.add(n),o.add(i),n.merge(i)}else this._edgeList.add(t)},e.prototype.getGraph=function(){return this._graph},e.prototype.cancelDuplicateResultEdges=function(){for(var t=this._graph.getEdgeEnds().iterator();t.hasNext();){var e=t.next(),n=e.getSym();e.isInResult()&&n.isInResult()&&(e.setInResult(!1),n.setInResult(!1))}},e.prototype.isCoveredByLA=function(t){return!!this.isCovered(t,this._resultLineList)||!!this.isCovered(t,this._resultPolyList)},e.prototype.computeGeometry=function(t,n,i,o){var r=new Vh;return r.addAll(t),r.addAll(n),r.addAll(i),r.isEmpty()?e.createEmptyResult(o,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(r)},e.prototype.mergeSymLabels=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){t.next().getEdges().mergeSymLabels()}},e.prototype.isCovered=function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next();if(this._ptLocator.locate(t,i)!==qc.EXTERIOR)return!0}return!1},e.prototype.replaceCollapsedEdges=function(){for(var t=new Vh,e=this._edgeList.iterator();e.hasNext();){var n=e.next();n.isCollapsed()&&(e.remove(),t.add(n.getCollapsedEdge()))}this._edgeList.addAll(t)},e.prototype.updateNodeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getEdges().getLabel();e.getLabel().merge(n)}},e.prototype.getResultGeometry=function(t){return this.computeOverlay(t),this._resultGeom},e.prototype.insertUniqueEdges=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertUniqueEdge(n)}},e.prototype.computeOverlay=function(t){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var e=new Vh;this._arg[0].computeSplitEdges(e),this._arg[1].computeSplitEdges(e),this.insertUniqueEdges(e),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),Sg.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(t),this.cancelDuplicateResultEdges();var n=new Lf(this._geomFact);n.add(this._graph),this._resultPolyList=n.getPolygons();var i=new Lg(this,this._geomFact,this._ptLocator);this._resultLineList=i.build(t);var o=new Pg(this,this._geomFact,this._ptLocator);this._resultPointList=o.build(t),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,t)},e.prototype.labelIncompleteNode=function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._arg[e].getGeometry());t.getLabel().setLocation(e,n)},e.prototype.copyPoints=function(t){for(var e=this._arg[t].getNodeIterator();e.hasNext();){var n=e.next();this._graph.addNode(n.getCoordinate()).setLabel(t,n.getLabel().getLocation(t))}},e.prototype.findResultAreaEdges=function(t){for(var n=this._graph.getEdgeEnds().iterator();n.hasNext();){var i=n.next(),o=i.getLabel();o.isArea()&&!i.isInteriorAreaEdge()&&e.isResultOfOp(o.getLocation(0,rf.RIGHT),o.getLocation(1,rf.RIGHT),t)&&i.setInResult(!0)}},e.prototype.computeLabelsFromDepths=function(){for(var t=this._edgeList.iterator();t.hasNext();){var e=t.next(),n=e.getLabel(),i=e.getDepth();if(!i.isNull()){i.normalize();for(var o=0;o<2;o++)n.isNull(o)||!n.isArea()||i.isNull(o)||(0===i.getDelta(o)?n.toLine(o):(mh.isTrue(!i.isNull(o,rf.LEFT),"depth of LEFT side has not been initialized"),n.setLocation(o,rf.LEFT,i.getLocation(o,rf.LEFT)),mh.isTrue(!i.isNull(o,rf.RIGHT),"depth of RIGHT side has not been initialized"),n.setLocation(o,rf.RIGHT,i.getLocation(o,rf.RIGHT))))}}},e.prototype.computeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){t.next().getEdges().computeLabelling(this._arg)}this.mergeSymLabels(),this.updateNodeLabelling()},e.prototype.labelIncompleteNodes=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getLabel();e.isIsolated()&&(n.isNull(0)?this.labelIncompleteNode(e,0):this.labelIncompleteNode(e,1)),e.getEdges().updateLabelling(n)}},e.prototype.isCoveredByA=function(t){return!!this.isCovered(t,this._resultPolyList)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(r_);a_.overlayOp=function(t,e,n){return new a_(t,e).getResultGeometry(n)},a_.intersection=function(t,e){if(t.isEmpty()||e.isEmpty())return a_.createEmptyResult(a_.INTERSECTION,t,e,t.getFactory());if(t.isGeometryCollection()){var n=e;return Ig.map(t,{interfaces_:function(){return[s_.MapOp]},map:function(t){return t.intersection(n)}})}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),jg.overlayOp(t,e,a_.INTERSECTION)},a_.symDifference=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return a_.createEmptyResult(a_.SYMDIFFERENCE,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),jg.overlayOp(t,e,a_.SYMDIFFERENCE)},a_.resultDimension=function(t,e,n){var i=e.getDimension(),o=n.getDimension(),r=-1;switch(t){case a_.INTERSECTION:r=Math.min(i,o);break;case a_.UNION:r=Math.max(i,o);break;case a_.DIFFERENCE:r=i;break;case a_.SYMDIFFERENCE:r=Math.max(i,o)}return r},a_.createEmptyResult=function(t,e,n,i){var o=null;switch(a_.resultDimension(t,e,n)){case-1:o=i.createGeometryCollection(new Array(0).fill(null));break;case 0:o=i.createPoint();break;case 1:o=i.createLineString();break;case 2:o=i.createPolygon()}return o},a_.difference=function(t,e){return t.isEmpty()?a_.createEmptyResult(a_.DIFFERENCE,t,e,t.getFactory()):e.isEmpty()?t.copy():(t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),jg.overlayOp(t,e,a_.DIFFERENCE))},a_.isResultOfOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=t.getLocation(0),i=t.getLocation(1);return a_.isResultOfOp(n,i,e)}if(3===arguments.length){var o=arguments[0],r=arguments[1],s=arguments[2];switch(o===qc.BOUNDARY&&(o=qc.INTERIOR),r===qc.BOUNDARY&&(r=qc.INTERIOR),s){case a_.INTERSECTION:return o===qc.INTERIOR&&r===qc.INTERIOR;case a_.UNION:return o===qc.INTERIOR||r===qc.INTERIOR;case a_.DIFFERENCE:return o===qc.INTERIOR&&r!==qc.INTERIOR;case a_.SYMDIFFERENCE:return o===qc.INTERIOR&&r!==qc.INTERIOR||o!==qc.INTERIOR&&r===qc.INTERIOR}return!1}},a_.INTERSECTION=1,a_.UNION=2,a_.DIFFERENCE=3,a_.SYMDIFFERENCE=4;var l_=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new sg,this._seg=new $f;var t=arguments[0],e=arguments[1];this._g=t,this._boundaryDistanceTolerance=e,this._linework=this.extractLinework(t)};l_.prototype.isWithinToleranceOfBoundary=function(t){for(var e=this,n=0;n<this._linework.getNumGeometries();n++)for(var i=e._linework.getGeometryN(n).getCoordinateSequence(),o=0;o<i.size()-1;o++){if(i.getCoordinate(o,e._seg.p0),i.getCoordinate(o+1,e._seg.p1),e._seg.distance(t)<=e._boundaryDistanceTolerance)return!0}return!1},l_.prototype.getLocation=function(t){return this.isWithinToleranceOfBoundary(t)?qc.BOUNDARY:this._ptLocator.locate(t,this._g)},l_.prototype.extractLinework=function(t){var e=new u_;t.apply(e);var n=e.getLinework(),i=$p.toLineStringArray(n);return t.getFactory().createMultiLineString(i)},l_.prototype.interfaces_=function(){return[]},l_.prototype.getClass=function(){return l_};var u_=function(){this._linework=null,this._linework=new Vh};u_.prototype.getLinework=function(){return this._linework},u_.prototype.filter=function(t){if(t instanceof Op){var e=t;this._linework.add(e.getExteriorRing());for(var n=0;n<e.getNumInteriorRing();n++)this._linework.add(e.getInteriorRingN(n))}},u_.prototype.interfaces_=function(){return[fp]},u_.prototype.getClass=function(){return u_};var c_=function(){this._g=null,this._doLeft=!0,this._doRight=!0;var t=arguments[0];this._g=t};c_.prototype.extractPoints=function(t,e,n){for(var i=t.getCoordinates(),o=0;o<i.length-1;o++)this.computeOffsetPoints(i[o],i[o+1],e,n)},c_.prototype.setSidesToGenerate=function(t,e){this._doLeft=t,this._doRight=e},c_.prototype.getPoints=function(t){for(var e=new Vh,n=rg.getLines(this._g).iterator();n.hasNext();){var i=n.next();this.extractPoints(i,t,e)}return e},c_.prototype.computeOffsetPoints=function(t,e,n,i){var o=e.x-t.x,r=e.y-t.y,s=Math.sqrt(o*o+r*r),a=n*o/s,l=n*r/s,u=(e.x+t.x)/2,c=(e.y+t.y)/2;if(this._doLeft){var h=new jc(u-l,c+a);i.add(h)}if(this._doRight){var p=new jc(u+l,c-a);i.add(p)}},c_.prototype.interfaces_=function(){return[]},c_.prototype.getClass=function(){return c_};var h_=function t(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=t.TOLERANCE,this._testCoords=new Vh;var e=arguments[0],n=arguments[1],i=arguments[2];this._boundaryDistanceTolerance=t.computeBoundaryDistanceTolerance(e,n),this._geom=[e,n,i],this._locFinder=[new l_(this._geom[0],this._boundaryDistanceTolerance),new l_(this._geom[1],this._boundaryDistanceTolerance),new l_(this._geom[2],this._boundaryDistanceTolerance)]},p_={TOLERANCE:{configurable:!0}};h_.prototype.reportResult=function(t,e,n){sh.out.println("Overlay result invalid - A:"+qc.toLocationSymbol(e[0])+" B:"+qc.toLocationSymbol(e[1])+" expected:"+(n?"i":"e")+" actual:"+qc.toLocationSymbol(e[2]))},h_.prototype.isValid=function(t){return this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]),this.checkValid(t)},h_.prototype.checkValid=function(){var t=this;if(1===arguments.length){for(var e=arguments[0],n=0;n<this._testCoords.size();n++){var i=t._testCoords.get(n);if(!t.checkValid(e,i))return t._invalidLocation=i,!1}return!0}if(2===arguments.length){var o=arguments[0],r=arguments[1];return this._location[0]=this._locFinder[0].getLocation(r),this._location[1]=this._locFinder[1].getLocation(r),this._location[2]=this._locFinder[2].getLocation(r),!!h_.hasLocation(this._location,qc.BOUNDARY)||this.isValidResult(o,this._location)}},h_.prototype.addTestPts=function(t){var e=new c_(t);this._testCoords.addAll(e.getPoints(5*this._boundaryDistanceTolerance))},h_.prototype.isValidResult=function(t,e){var n=a_.isResultOfOp(e[0],e[1],t),i=!(n^e[2]===qc.INTERIOR);return i||this.reportResult(t,e,n),i},h_.prototype.getInvalidLocation=function(){return this._invalidLocation},h_.prototype.interfaces_=function(){return[]},h_.prototype.getClass=function(){return h_},h_.hasLocation=function(t,e){for(var n=0;n<3;n++)if(t[n]===e)return!0;return!1},h_.computeBoundaryDistanceTolerance=function(t,e){return Math.min(Tg.computeSizeBasedSnapTolerance(t),Tg.computeSizeBasedSnapTolerance(e))},h_.isValid=function(t,e,n,i){return new h_(t,e,i).isValid(n)},p_.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(h_,p_);var f_=function t(e){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=t.extractFactory(e),this._inputGeoms=e};f_.prototype.extractElements=function(t,e){if(null===t)return null;for(var n=0;n<t.getNumGeometries();n++){var i=t.getGeometryN(n);this._skipEmpty&&i.isEmpty()||e.add(i)}},f_.prototype.combine=function(){for(var t=new Vh,e=this._inputGeoms.iterator();e.hasNext();){var n=e.next();this.extractElements(n,t)}return 0===t.size()?null!==this._geomFactory?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(t)},f_.prototype.interfaces_=function(){return[]},f_.prototype.getClass=function(){return f_},f_.combine=function(){if(1===arguments.length){var t=arguments[0],e=new f_(t);return e.combine()}if(2===arguments.length){var n=arguments[0],i=arguments[1],o=new f_(f_.createList(n,i));return o.combine()}if(3===arguments.length){var r=arguments[0],s=arguments[1],a=arguments[2],l=new f_(f_.createList(r,s,a));return l.combine()}},f_.extractFactory=function(t){return t.isEmpty()?null:t.iterator().next().getFactory()},f_.createList=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new Vh;return n.add(t),n.add(e),n}if(3===arguments.length){var i=arguments[0],o=arguments[1],r=arguments[2],s=new Vh;return s.add(i),s.add(o),s.add(r),s}};var d_=function(){this._inputPolys=null,this._geomFactory=null;var t=arguments[0];this._inputPolys=t,null===this._inputPolys&&(this._inputPolys=new Vh)},g_={STRTREE_NODE_CAPACITY:{configurable:!0}};d_.prototype.reduceToGeometries=function(t){for(var e=new Vh,n=t.iterator();n.hasNext();){var i=n.next(),o=null;Wc(i,Bh)?o=this.unionTree(i):i instanceof Ih&&(o=i),e.add(o)}return e},d_.prototype.extractByEnvelope=function(t,e,n){for(var i=new Vh,o=0;o<e.getNumGeometries();o++){var r=e.getGeometryN(o);r.getEnvelopeInternal().intersects(t)?i.add(r):n.add(r)}return this._geomFactory.buildGeometry(i)},d_.prototype.unionOptimized=function(t,e){var n=t.getEnvelopeInternal(),i=e.getEnvelopeInternal();if(!n.intersects(i))return f_.combine(t,e);if(t.getNumGeometries()<=1&&e.getNumGeometries()<=1)return this.unionActual(t,e);var o=n.intersection(i);return this.unionUsingEnvelopeIntersection(t,e,o)},d_.prototype.union=function(){if(null===this._inputPolys)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var t=new Vf(d_.STRTREE_NODE_CAPACITY),e=this._inputPolys.iterator();e.hasNext();){var n=e.next();t.insert(n.getEnvelopeInternal(),n)}this._inputPolys=null;var i=t.itemsTree();return this.unionTree(i)},d_.prototype.binaryUnion=function(){if(1===arguments.length){var t=arguments[0];return this.binaryUnion(t,0,t.size())}if(3===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2];if(i-n<=1){var o=d_.getGeometry(e,n);return this.unionSafe(o,null)}if(i-n==2)return this.unionSafe(d_.getGeometry(e,n),d_.getGeometry(e,n+1));var r=Math.trunc((i+n)/2),s=this.binaryUnion(e,n,r),a=this.binaryUnion(e,r,i);return this.unionSafe(s,a)}},d_.prototype.repeatedUnion=function(t){for(var e=null,n=t.iterator();n.hasNext();){var i=n.next();e=null===e?i.copy():e.union(i)}return e},d_.prototype.unionSafe=function(t,e){return null===t&&null===e?null:null===t?e.copy():null===e?t.copy():this.unionOptimized(t,e)},d_.prototype.unionActual=function(t,e){return d_.restrictToPolygons(t.union(e))},d_.prototype.unionTree=function(t){var e=this.reduceToGeometries(t);return this.binaryUnion(e)},d_.prototype.unionUsingEnvelopeIntersection=function(t,e,n){var i=new Vh,o=this.extractByEnvelope(n,t,i),r=this.extractByEnvelope(n,e,i),s=this.unionActual(o,r);return i.add(s),f_.combine(i)},d_.prototype.bufferUnion=function(){if(1===arguments.length){var t=arguments[0],e=t.get(0).getFactory(),n=e.buildGeometry(t),i=n.buffer(0);return i}if(2===arguments.length){var o=arguments[0],r=arguments[1],s=o.getFactory(),a=s.createGeometryCollection([o,r]),l=a.buffer(0);return l}},d_.prototype.interfaces_=function(){return[]},d_.prototype.getClass=function(){return d_},d_.restrictToPolygons=function(t){if(Wc(t,Tp))return t;var e=og.getPolygons(t);return 1===e.size()?e.get(0):t.getFactory().createMultiPolygon($p.toPolygonArray(e))},d_.getGeometry=function(t,e){return e>=t.size()?null:t.get(e)},d_.union=function(t){return new d_(t).union()},g_.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(d_,g_);var __=function(){};function m_(){return new y_}function y_(){this.reset()}__.prototype.interfaces_=function(){return[]},__.prototype.getClass=function(){return __},__.union=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return a_.createEmptyResult(a_.UNION,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),jg.overlayOp(t,e,a_.UNION)},y_.prototype={constructor:y_,reset:function(){this.s=this.t=0},add:function(t){x_(v_,t,this.t),x_(this,v_.s,this.s),this.s?this.t+=v_.t:this.s=v_.t},valueOf:function(){return this.s}};var v_=new y_;function x_(t,e,n){var i=t.s=e+n,o=i-e,r=i-o;t.t=e-r+(n-o)}var b_=1e-6,w_=Math.PI,E_=w_/2,C_=w_/4,S_=2*w_,I_=180/w_,L_=w_/180,P_=Math.abs,M_=Math.atan,N_=Math.atan2,T_=Math.cos,O_=Math.sin,A_=Math.sqrt;function R_(t){return t>1?0:t<-1?w_:Math.acos(t)}function D_(t){return t>1?E_:t<-1?-E_:Math.asin(t)}function k_(){}function F_(t,e){t&&V_.hasOwnProperty(t.type)&&V_[t.type](t,e)}var z_,B_,j_={Feature:function(t,e){F_(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,o=n.length;++i<o;)F_(n[i].geometry,e)}},V_={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,o=n.length;++i<o;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){G_(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,o=n.length;++i<o;)G_(n[i],e,0)},Polygon:function(t,e){U_(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,o=n.length;++i<o;)U_(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,o=n.length;++i<o;)F_(n[i],e)}};function G_(t,e,n){var i,o=-1,r=t.length-n;for(e.lineStart();++o<r;)i=t[o],e.point(i[0],i[1],i[2]);e.lineEnd()}function U_(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)G_(t[n],e,1);e.polygonEnd()}function q_(t){return[N_(t[1],t[0]),D_(t[2])]}function H_(t){var e=t[0],n=t[1],i=T_(n);return[i*T_(e),i*O_(e),O_(n)]}function W_(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Z_(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Y_(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function X_(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function $_(t){var e=A_(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function K_(t,e){function n(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,i){return(n=e.invert(n,i))&&t.invert(n[0],n[1])}),n}function J_(t,e){return[t>w_?t-S_:t<-w_?t+S_:t,e]}function Q_(t){return function(e,n){return[(e+=t)>w_?e-S_:e<-w_?e+S_:e,n]}}function tm(t){var e=Q_(t);return e.invert=Q_(-t),e}function em(t,e){var n=T_(t),i=O_(t),o=T_(e),r=O_(e);function s(t,e){var s=T_(e),a=T_(t)*s,l=O_(t)*s,u=O_(e),c=u*n+a*i;return[N_(l*o-c*r,a*n-u*i),D_(c*o+l*r)]}return s.invert=function(t,e){var s=T_(e),a=T_(t)*s,l=O_(t)*s,u=O_(e),c=u*o-l*r;return[N_(l*o+u*r,a*n+c*i),D_(c*n-a*i)]},s}function nm(t,e){(e=H_(e))[0]-=t,$_(e);var n=R_(-e[1]);return((-e[2]<0?-n:n)+S_-b_)%S_}function im(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:k_,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function om(t,e){return P_(t[0]-e[0])<b_&&P_(t[1]-e[1])<b_}function rm(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function sm(t,e,n,i,o){var r,s,a=[],l=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,i=t[0],s=t[e];if(om(i,s)){for(o.lineStart(),r=0;r<e;++r)o.point((i=t[r])[0],i[1]);o.lineEnd()}else a.push(n=new rm(i,t,null,!0)),l.push(n.o=new rm(i,null,n,!1)),a.push(n=new rm(s,t,null,!1)),l.push(n.o=new rm(s,null,n,!0))}})),a.length){for(l.sort(e),am(a),am(l),r=0,s=l.length;r<s;++r)l[r].e=n=!n;for(var u,c,h=a[0];;){for(var p=h,f=!0;p.v;)if((p=p.n)===h)return;u=p.z,o.lineStart();do{if(p.v=p.o.v=!0,p.e){if(f)for(r=0,s=u.length;r<s;++r)o.point((c=u[r])[0],c[1]);else i(p.x,p.n.x,1,o);p=p.n}else{if(f)for(u=p.p.z,r=u.length-1;r>=0;--r)o.point((c=u[r])[0],c[1]);else i(p.x,p.p.x,-1,o);p=p.p}u=(p=p.o).z,f=!f}while(!p.v);o.lineEnd()}}}function am(t){if(e=t.length){for(var e,n,i=0,o=t[0];++i<e;)o.n=n=t[i],n.p=o,o=n;o.n=n=t[0],n.p=o}}function lm(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function um(t){for(var e,n,i,o=t.length,r=-1,s=0;++r<o;)s+=t[r].length;for(n=new Array(s);--o>=0;)for(e=(i=t[o]).length;--e>=0;)n[--s]=i[e];return n}m_(),m_(),m_(),J_.invert=J_,1===(z_=lm).length&&(B_=z_,z_=function(t,e){return lm(B_(t),e)});function cm(t,e,n,i){function o(o,r){return t<=o&&o<=n&&e<=r&&r<=i}function r(o,r,a,u){var c=0,h=0;if(null==o||(c=s(o,a))!==(h=s(r,a))||l(o,r)<0^a>0)do{u.point(0===c||3===c?t:n,c>1?i:e)}while((c=(c+a+4)%4)!==h);else u.point(r[0],r[1])}function s(i,o){return P_(i[0]-t)<b_?o>0?0:3:P_(i[0]-n)<b_?o>0?2:1:P_(i[1]-e)<b_?o>0?1:0:o>0?3:2}function a(t,e){return l(t.x,e.x)}function l(t,e){var n=s(t,1),i=s(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){var l,u,c,h,p,f,d,g,_,m,y,v=s,x=im(),b={point:w,lineStart:function(){b.point=E,u&&u.push(c=[]);m=!0,_=!1,d=g=NaN},lineEnd:function(){l&&(E(h,p),f&&_&&x.rejoin(),l.push(x.result()));b.point=w,_&&v.lineEnd()},polygonStart:function(){v=x,l=[],u=[],y=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,o=u.length;n<o;++n)for(var r,s,a=u[n],l=1,c=a.length,h=a[0],p=h[0],f=h[1];l<c;++l)r=p,s=f,p=(h=a[l])[0],f=h[1],s<=i?f>i&&(p-r)*(i-s)>(f-s)*(t-r)&&++e:f<=i&&(p-r)*(i-s)<(f-s)*(t-r)&&--e;return e}(),n=y&&e,o=(l=um(l)).length;(n||o)&&(s.polygonStart(),n&&(s.lineStart(),r(null,null,1,s),s.lineEnd()),o&&sm(l,a,e,r,s),s.polygonEnd());v=s,l=u=c=null}};function w(t,e){o(t,e)&&v.point(t,e)}function E(r,s){var a=o(r,s);if(u&&c.push([r,s]),m)h=r,p=s,f=a,m=!1,a&&(v.lineStart(),v.point(r,s));else if(a&&_)v.point(r,s);else{var l=[d=Math.max(-1e9,Math.min(1e9,d)),g=Math.max(-1e9,Math.min(1e9,g))],x=[r=Math.max(-1e9,Math.min(1e9,r)),s=Math.max(-1e9,Math.min(1e9,s))];!function(t,e,n,i,o,r){var s,a=t[0],l=t[1],u=0,c=1,h=e[0]-a,p=e[1]-l;if(s=n-a,h||!(s>0)){if(s/=h,h<0){if(s<u)return;s<c&&(c=s)}else if(h>0){if(s>c)return;s>u&&(u=s)}if(s=o-a,h||!(s<0)){if(s/=h,h<0){if(s>c)return;s>u&&(u=s)}else if(h>0){if(s<u)return;s<c&&(c=s)}if(s=i-l,p||!(s>0)){if(s/=p,p<0){if(s<u)return;s<c&&(c=s)}else if(p>0){if(s>c)return;s>u&&(u=s)}if(s=r-l,p||!(s<0)){if(s/=p,p<0){if(s>c)return;s>u&&(u=s)}else if(p>0){if(s<u)return;s<c&&(c=s)}return u>0&&(t[0]=a+u*h,t[1]=l+u*p),c<1&&(e[0]=a+c*h,e[1]=l+c*p),!0}}}}}(l,x,t,e,n,i)?a&&(v.lineStart(),v.point(r,s),y=!1):(_||(v.lineStart(),v.point(l[0],l[1])),v.point(x[0],x[1]),a||v.lineEnd(),y=!1)}d=r,g=s,_=a}return b}}var hm=m_();function pm(t){return t}m_(),m_(),m_();var fm=1/0,dm=fm,gm=-fm,_m=gm,mm={point:function(t,e){t<fm&&(fm=t);t>gm&&(gm=t);e<dm&&(dm=e);e>_m&&(_m=e)},lineStart:k_,lineEnd:k_,polygonStart:k_,polygonEnd:k_,result:function(){var t=[[fm,dm],[gm,_m]];return gm=_m=-(dm=fm=1/0),t}};function ym(t,e,n,i){return function(o,r){var s,a,l,u=e(r),c=o.invert(i[0],i[1]),h=im(),p=e(h),f=!1,d={point:g,lineStart:m,lineEnd:y,polygonStart:function(){d.point=v,d.lineStart=x,d.lineEnd=b,a=[],s=[]},polygonEnd:function(){d.point=g,d.lineStart=m,d.lineEnd=y,a=um(a);var t=function(t,e){var n=e[0],i=e[1],o=[O_(n),-T_(n),0],r=0,s=0;hm.reset();for(var a=0,l=t.length;a<l;++a)if(c=(u=t[a]).length)for(var u,c,h=u[c-1],p=h[0],f=h[1]/2+C_,d=O_(f),g=T_(f),_=0;_<c;++_,p=y,d=x,g=b,h=m){var m=u[_],y=m[0],v=m[1]/2+C_,x=O_(v),b=T_(v),w=y-p,E=w>=0?1:-1,C=E*w,S=C>w_,I=d*x;if(hm.add(N_(I*E*O_(C),g*b+I*T_(C))),r+=S?w+E*S_:w,S^p>=n^y>=n){var L=Z_(H_(h),H_(m));$_(L);var P=Z_(o,L);$_(P);var M=(S^w>=0?-1:1)*D_(P[2]);(i>M||i===M&&(L[0]||L[1]))&&(s+=S^w>=0?1:-1)}}return(r<-b_||r<b_&&hm<-b_)^1&s}(s,c);a.length?(f||(r.polygonStart(),f=!0),sm(a,xm,t,n,r)):t&&(f||(r.polygonStart(),f=!0),r.lineStart(),n(null,null,1,r),r.lineEnd()),f&&(r.polygonEnd(),f=!1),a=s=null},sphere:function(){r.polygonStart(),r.lineStart(),n(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function g(e,n){var i=o(e,n);t(e=i[0],n=i[1])&&r.point(e,n)}function _(t,e){var n=o(t,e);u.point(n[0],n[1])}function m(){d.point=_,u.lineStart()}function y(){d.point=g,u.lineEnd()}function v(t,e){l.push([t,e]);var n=o(t,e);p.point(n[0],n[1])}function x(){p.lineStart(),l=[]}function b(){v(l[0][0],l[0][1]),p.lineEnd();var t,e,n,i,o=p.clean(),u=h.result(),c=u.length;if(l.pop(),s.push(l),l=null,c)if(1&o){if((e=(n=u[0]).length-1)>0){for(f||(r.polygonStart(),f=!0),r.lineStart(),t=0;t<e;++t)r.point((i=n[t])[0],i[1]);r.lineEnd()}}else c>1&&2&o&&u.push(u.pop().concat(u.shift())),a.push(u.filter(vm))}return d}}function vm(t){return t.length>1}function xm(t,e){return((t=t.x)[0]<0?t[1]-E_-b_:E_-t[1])-((e=e.x)[0]<0?e[1]-E_-b_:E_-e[1])}m_();var bm=ym((function(){return!0}),(function(t){var e,n=NaN,i=NaN,o=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(r,s){var a=r>0?w_:-w_,l=P_(r-n);P_(l-w_)<b_?(t.point(n,i=(i+s)/2>0?E_:-E_),t.point(o,i),t.lineEnd(),t.lineStart(),t.point(a,i),t.point(r,i),e=0):o!==a&&l>=w_&&(P_(n-o)<b_&&(n-=o*b_),P_(r-a)<b_&&(r-=a*b_),i=function(t,e,n,i){var o,r,s=O_(t-n);return P_(s)>b_?M_((O_(e)*(r=T_(i))*O_(n)-O_(i)*(o=T_(e))*O_(t))/(o*r*s)):(e+i)/2}(n,i,r,s),t.point(o,i),t.lineEnd(),t.lineStart(),t.point(a,i),e=0),t.point(n=r,i=s),o=a},lineEnd:function(){t.lineEnd(),n=i=NaN},clean:function(){return 2-e}}}),(function(t,e,n,i){var o;if(null==t)o=n*E_,i.point(-w_,o),i.point(0,o),i.point(w_,o),i.point(w_,0),i.point(w_,-o),i.point(0,-o),i.point(-w_,-o),i.point(-w_,0),i.point(-w_,o);else if(P_(t[0]-e[0])>b_){var r=t[0]<e[0]?w_:-w_;o=n*r/2,i.point(-r,o),i.point(0,o),i.point(r,o)}else i.point(e[0],e[1])}),[-w_,-E_]);function wm(t,e){var n=T_(t),i=n>0,o=P_(n)>b_;function r(t,e){return T_(t)*T_(e)>n}function s(t,e,i){var o=[1,0,0],r=Z_(H_(t),H_(e)),s=W_(r,r),a=r[0],l=s-a*a;if(!l)return!i&&t;var u=n*s/l,c=-n*a/l,h=Z_(o,r),p=X_(o,u);Y_(p,X_(r,c));var f=h,d=W_(p,f),g=W_(f,f),_=d*d-g*(W_(p,p)-1);if(!(_<0)){var m=A_(_),y=X_(f,(-d-m)/g);if(Y_(y,p),y=q_(y),!i)return y;var v,x=t[0],b=e[0],w=t[1],E=e[1];b<x&&(v=x,x=b,b=v);var C=b-x,S=P_(C-w_)<b_;if(!S&&E<w&&(v=w,w=E,E=v),S||C<b_?S?w+E>0^y[1]<(P_(y[0]-x)<b_?w:E):w<=y[1]&&y[1]<=E:C>w_^(x<=y[0]&&y[0]<=b)){var I=X_(f,(-d+m)/g);return Y_(I,p),[y,q_(I)]}}}function a(e,n){var o=i?t:w_-t,r=0;return e<-o?r|=1:e>o&&(r|=2),n<-o?r|=4:n>o&&(r|=8),r}return ym(r,(function(t){var e,n,l,u,c;return{lineStart:function(){u=l=!1,c=1},point:function(h,p){var f,d=[h,p],g=r(h,p),_=i?g?0:a(h,p):g?a(h+(h<0?w_:-w_),p):0;if(!e&&(u=l=g)&&t.lineStart(),g!==l&&(!(f=s(e,d))||om(e,f)||om(d,f))&&(d[0]+=b_,d[1]+=b_,g=r(d[0],d[1])),g!==l)c=0,g?(t.lineStart(),f=s(d,e),t.point(f[0],f[1])):(f=s(e,d),t.point(f[0],f[1]),t.lineEnd()),e=f;else if(o&&e&&i^g){var m;_&n||!(m=s(d,e,!0))||(c=0,i?(t.lineStart(),t.point(m[0][0],m[0][1]),t.point(m[1][0],m[1][1]),t.lineEnd()):(t.point(m[1][0],m[1][1]),t.lineEnd(),t.lineStart(),t.point(m[0][0],m[0][1])))}!g||e&&om(e,d)||t.point(d[0],d[1]),e=d,l=g,n=_},lineEnd:function(){l&&t.lineEnd(),e=null},clean:function(){return c|(u&&l)<<1}}}),(function(n,i,o,r){!function(t,e,n,i,o,r){if(n){var s=T_(e),a=O_(e),l=i*n;null==o?(o=e+i*S_,r=e-l/2):(o=nm(s,o),r=nm(s,r),(i>0?o<r:o>r)&&(o+=i*S_));for(var u,c=o;i>0?c>r:c<r;c-=l)u=q_([s,-a*T_(c),-a*O_(c)]),t.point(u[0],u[1])}}(r,t,e,o,n,i)}),i?[0,-t]:[-w_,t-w_])}function Em(t){return function(e){var n=new Cm;for(var i in t)n[i]=t[i];return n.stream=e,n}}function Cm(){}function Sm(t,e,n){var i=e[1][0]-e[0][0],o=e[1][1]-e[0][1],r=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),function(t,e){t&&j_.hasOwnProperty(t.type)?j_[t.type](t,e):F_(t,e)}(n,t.stream(mm));var s=mm.result(),a=Math.min(i/(s[1][0]-s[0][0]),o/(s[1][1]-s[0][1])),l=+e[0][0]+(i-a*(s[1][0]+s[0][0]))/2,u=+e[0][1]+(o-a*(s[1][1]+s[0][1]))/2;return null!=r&&t.clipExtent(r),t.scale(150*a).translate([l,u])}Cm.prototype={constructor:Cm,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Im=T_(30*L_);function Lm(t,e){return+e?function(t,e){function n(i,o,r,s,a,l,u,c,h,p,f,d,g,_){var m=u-i,y=c-o,v=m*m+y*y;if(v>4*e&&g--){var x=s+p,b=a+f,w=l+d,E=A_(x*x+b*b+w*w),C=D_(w/=E),S=P_(P_(w)-1)<b_||P_(r-h)<b_?(r+h)/2:N_(b,x),I=t(S,C),L=I[0],P=I[1],M=L-i,N=P-o,T=y*M-m*N;(T*T/v>e||P_((m*M+y*N)/v-.5)>.3||s*p+a*f+l*d<Im)&&(n(i,o,r,s,a,l,L,P,S,x/=E,b/=E,w,g,_),_.point(L,P),n(L,P,S,x,b,w,u,c,h,p,f,d,g,_))}}return function(e){var i,o,r,s,a,l,u,c,h,p,f,d,g={point:_,lineStart:m,lineEnd:v,polygonStart:function(){e.polygonStart(),g.lineStart=x},polygonEnd:function(){e.polygonEnd(),g.lineStart=m}};function _(n,i){n=t(n,i),e.point(n[0],n[1])}function m(){c=NaN,g.point=y,e.lineStart()}function y(i,o){var r=H_([i,o]),s=t(i,o);n(c,h,u,p,f,d,c=s[0],h=s[1],u=i,p=r[0],f=r[1],d=r[2],16,e),e.point(c,h)}function v(){g.point=_,e.lineEnd()}function x(){m(),g.point=b,g.lineEnd=w}function b(t,e){y(i=t,e),o=c,r=h,s=p,a=f,l=d,g.point=y}function w(){n(c,h,u,p,f,d,o,r,i,s,a,l,16,e),g.lineEnd=v,v()}return g}}(t,e):function(t){return Em({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)}var Pm=Em({point:function(t,e){this.stream.point(t*L_,e*L_)}});function Mm(t){return function(t){var e,n,i,o,r,s,a,l,u,c,h=150,p=480,f=250,d=0,g=0,_=0,m=0,y=0,v=null,x=bm,b=null,w=pm,E=.5,C=Lm(L,E);function S(t){return[(t=r(t[0]*L_,t[1]*L_))[0]*h+n,i-t[1]*h]}function I(t){return(t=r.invert((t[0]-n)/h,(i-t[1])/h))&&[t[0]*I_,t[1]*I_]}function L(t,o){return[(t=e(t,o))[0]*h+n,i-t[1]*h]}function P(){r=K_(o=function(t,e,n){return(t%=S_)?e||n?K_(tm(t),em(e,n)):tm(t):e||n?em(e,n):J_}(_,m,y),e);var t=e(d,g);return n=p-t[0]*h,i=f+t[1]*h,M()}function M(){return u=c=null,S}return S.stream=function(t){return u&&c===t?u:u=Pm(x(o,C(w(c=t))))},S.clipAngle=function(t){return arguments.length?(x=+t?wm(v=t*L_,6*L_):(v=null,bm),M()):v*I_},S.clipExtent=function(t){return arguments.length?(w=null==t?(b=s=a=l=null,pm):cm(b=+t[0][0],s=+t[0][1],a=+t[1][0],l=+t[1][1]),M()):null==b?null:[[b,s],[a,l]]},S.scale=function(t){return arguments.length?(h=+t,P()):h},S.translate=function(t){return arguments.length?(p=+t[0],f=+t[1],P()):[p,f]},S.center=function(t){return arguments.length?(d=t[0]%360*L_,g=t[1]%360*L_,P()):[d*I_,g*I_]},S.rotate=function(t){return arguments.length?(_=t[0]%360*L_,m=t[1]%360*L_,y=t.length>2?t[2]%360*L_:0,P()):[_*I_,m*I_,y*I_]},S.precision=function(t){return arguments.length?(C=Lm(L,E=t*t),M()):A_(E)},S.fitExtent=function(t,e){return Sm(S,t,e)},S.fitSize=function(t,e){return function(t,e,n){return Sm(t,[[0,0],e],n)}(S,t,e)},function(){return e=t.apply(this,arguments),S.invert=e.invert&&I,P()}}((function(){return t}))()}var Nm,Tm,Om=(Nm=function(t){return(t=R_(t))&&t/O_(t)},function(t,e){var n=T_(t),i=T_(e),o=Nm(n*i);return[o*i*O_(t),o*O_(e)]});function Am(t,e,n){var i=(n=n||{}).units||"kilometers",o=n.steps||8;if(!t)throw new Error("geojson is required");if("object"!=typeof n)throw new Error("options must be an object");if("number"!=typeof o)throw new Error("steps must be an number");if(void 0===e)throw new Error("radius is required");if(o<=0)throw new Error("steps must be greater than 0");var r=[];switch(t.type){case"GeometryCollection":return gu(t,(function(t){var n=Rm(t,e,i,o);n&&r.push(n)})),au(r);case"FeatureCollection":return du(t,(function(t){var n=Rm(t,e,i,o);n&&du(n,(function(t){t&&r.push(t)}))})),au(r)}return Rm(t,e,i,o)}function Rm(t,e,n,i){var o=t.properties||{},r="Feature"===t.type?t.geometry:t;if("GeometryCollection"===r.type){var s=[];return gu(t,(function(t){var o=Rm(t,e,n,i);o&&s.push(o)})),au(s)}var a=function(t){var e=Lu(t).geometry.coordinates,n=[-e[0],-e[1]];return Mm(Om).scale(79.4188).clipAngle(179.999).rotate(n).scale(6371008.8)}(r),l={type:r.type,coordinates:km(r.coordinates,a)},u=(new nf).read(l),c=lu(uu(e,n),"meters"),h=$d.bufferOp(u,c,i);if(!Dm((h=(new of).write(h)).coordinates))return ou({type:h.type,coordinates:Fm(h.coordinates,a)},o)}function Dm(t){return Array.isArray(t[0])?Dm(t[0]):isNaN(t[0])}function km(t,e){return"object"!=typeof t[0]?e(t):t.map((function(t){return km(t,e)}))}function Fm(t,e){return"object"!=typeof t[0]?e.invert(t):t.map((function(t){return Fm(t,e)}))}function zm(t,e){return Zi(),Qi("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[so("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})])}function Bm(t,e){return Zi(),Qi("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[so("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})])}function jm(t,e){return Zi(),Qi("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[so("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zM7 8a1 1 0 012 0v4a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"})])}function Vm(t,e){return Zi(),Qi("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[so("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z","clip-rule":"evenodd"})])}function Gm(t,e){return Zi(),Qi("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[so("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})])}function Um(t,e){return Zi(),Qi("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[so("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])}function qm(t,e){return Zi(),Qi("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[so("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})])}function Hm(t,e){return Zi(),Qi("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[so("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 4H6a2 2 0 00-2 2v12a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-2m-4-1v8m0 0l3-3m-3 3L9 8m-5 5h2.586a1 1 0 01.707.293l2.414 2.414a1 1 0 00.707.293h3.172a1 1 0 00.707-.293l2.414-2.414a1 1 0 01.707-.293H20"})])}function Wm(t,e){return Zi(),Qi("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[so("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])}function Zm(t,e){return Zi(),Qi("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[so("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})])}function Ym(t,e){return Zi(),Qi("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[so("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})])}function Xm(t,e){return Zi(),Qi("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[so("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})])
/*!
 * Chart.js v3.7.0
 * https://www.chartjs.org
 * (c) 2021 Chart.js Contributors
 * Released under the MIT License
 */}Om.invert=(Tm=function(t){return t},function(t,e){var n=A_(t*t+e*e),i=Tm(n),o=O_(i),r=T_(i);return[N_(t*o,n*r),D_(n&&e*o/n)]});const $m="undefined"==typeof window?function(t){return t()}:window.requestAnimationFrame;function Km(t,e,n){const i=n||(t=>Array.prototype.slice.call(t));let o=!1,r=[];return function(...n){r=i(n),o||(o=!0,$m.call(window,(()=>{o=!1,t.apply(e,r)})))}}const Jm=t=>"start"===t?"left":"end"===t?"right":"center",Qm=(t,e,n)=>"start"===t?e:"end"===t?n:(e+n)/2;function ty(){}const ey=function(){let t=0;return function(){return t++}}();function ny(t){return null==t}function iy(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return"[object"===e.substr(0,7)&&"Array]"===e.substr(-6)}function oy(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}const ry=t=>("number"==typeof t||t instanceof Number)&&isFinite(+t);function sy(t,e){return ry(t)?t:e}function ay(t,e){return void 0===t?e:t}const ly=(t,e)=>"string"==typeof t&&t.endsWith("%")?parseFloat(t)/100*e:+t;function uy(t,e,n){if(t&&"function"==typeof t.call)return t.apply(n,e)}function cy(t,e,n,i){let o,r,s;if(iy(t))if(r=t.length,i)for(o=r-1;o>=0;o--)e.call(n,t[o],o);else for(o=0;o<r;o++)e.call(n,t[o],o);else if(oy(t))for(s=Object.keys(t),r=s.length,o=0;o<r;o++)e.call(n,t[s[o]],s[o])}function hy(t,e){let n,i,o,r;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(o=t[n],r=e[n],o.datasetIndex!==r.datasetIndex||o.index!==r.index)return!1;return!0}function py(t){if(iy(t))return t.map(py);if(oy(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let o=0;for(;o<i;++o)e[n[o]]=py(t[n[o]]);return e}return t}function fy(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}function dy(t,e,n,i){if(!fy(t))return;const o=e[t],r=n[t];oy(o)&&oy(r)?gy(o,r,i):e[t]=py(r)}function gy(t,e,n){const i=iy(e)?e:[e],o=i.length;if(!oy(t))return t;const r=(n=n||{}).merger||dy;for(let s=0;s<o;++s){if(!oy(e=i[s]))continue;const o=Object.keys(e);for(let i=0,s=o.length;i<s;++i)r(o[i],t,e,n)}return t}function _y(t,e){return gy(t,e,{merger:my})}function my(t,e,n){if(!fy(t))return;const i=e[t],o=n[t];oy(i)&&oy(o)?_y(i,o):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=py(o))}function yy(t,e){const n=t.indexOf(".",e);return-1===n?t.length:n}function vy(t,e){if(""===e)return t;let n=0,i=yy(e,n);for(;t&&i>n;)t=t[e.substr(n,i-n)],n=i+1,i=yy(e,n);return t}function xy(t){return t.charAt(0).toUpperCase()+t.slice(1)}const by=t=>void 0!==t,wy=t=>"function"==typeof t,Ey=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};const Cy=Math.PI,Sy=2*Cy,Iy=Sy+Cy,Ly=Number.POSITIVE_INFINITY,Py=Cy/180,My=Cy/2,Ny=Cy/4,Ty=2*Cy/3,Oy=Math.log10,Ay=Math.sign;function Ry(t){const e=Math.round(t);t=ky(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Oy(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function Dy(t){return!isNaN(parseFloat(t))&&isFinite(t)}function ky(t,e,n){return Math.abs(t-e)<n}function Fy(t,e,n){let i,o,r;for(i=0,o=t.length;i<o;i++)r=t[i][n],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function zy(t){return t*(Cy/180)}function By(t){return t*(180/Cy)}function jy(t){if(!ry(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Vy(t,e){const n=e.x-t.x,i=e.y-t.y,o=Math.sqrt(n*n+i*i);let r=Math.atan2(i,n);return r<-.5*Cy&&(r+=Sy),{angle:r,distance:o}}function Gy(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Uy(t,e){return(t-e+Iy)%Sy-Cy}function qy(t){return(t%Sy+Sy)%Sy}function Hy(t,e,n,i){const o=qy(t),r=qy(e),s=qy(n),a=qy(r-o),l=qy(s-o),u=qy(o-r),c=qy(o-s);return o===r||o===s||i&&r===s||a>l&&u<c}function Wy(t,e,n){return Math.max(e,Math.min(n,t))}function Zy(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}const Yy=t=>0===t||1===t,Xy=(t,e,n)=>-Math.pow(2,10*(t-=1))*Math.sin((t-e)*Sy/n),$y=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Sy/n)+1,Ky={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>1-Math.cos(t*My),easeOutSine:t=>Math.sin(t*My),easeInOutSine:t=>-.5*(Math.cos(Cy*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>Yy(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1))),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Yy(t)?t:Xy(t,.075,.3),easeOutElastic:t=>Yy(t)?t:$y(t,.075,.3),easeInOutElastic(t){const e=.1125;return Yy(t)?t:t<.5?.5*Xy(2*t,e,.45):.5+.5*$y(2*t-1,e,.45)},easeInBack(t){const e=1.70158;return t*t*((e+1)*t-e)},easeOutBack(t){const e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:t=>1-Ky.easeOutBounce(1-t),easeOutBounce(t){const e=7.5625,n=2.75;return t<1/n?e*t*t:t<2/n?e*(t-=1.5/n)*t+.75:t<2.5/n?e*(t-=2.25/n)*t+.9375:e*(t-=2.625/n)*t+.984375},easeInOutBounce:t=>t<.5?.5*Ky.easeInBounce(2*t):.5*Ky.easeOutBounce(2*t-1)+.5},Jy={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Qy="0123456789ABCDEF",tv=t=>Qy[15&t],ev=t=>Qy[(240&t)>>4]+Qy[15&t],nv=t=>(240&t)>>4==(15&t);function iv(t){var e=function(t){return nv(t.r)&&nv(t.g)&&nv(t.b)&&nv(t.a)}(t)?tv:ev;return t?"#"+e(t.r)+e(t.g)+e(t.b)+(t.a<255?e(t.a):""):t}function ov(t){return t+.5|0}const rv=(t,e,n)=>Math.max(Math.min(t,n),e);function sv(t){return rv(ov(2.55*t),0,255)}function av(t){return rv(ov(255*t),0,255)}function lv(t){return rv(ov(t/2.55)/100,0,1)}function uv(t){return rv(ov(100*t),0,100)}const cv=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const hv=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function pv(t,e,n){const i=e*Math.min(n,1-n),o=(e,o=(e+t/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[o(0),o(8),o(4)]}function fv(t,e,n){const i=(i,o=(i+t/60)%6)=>n-n*e*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function dv(t,e,n){const i=pv(t,1,.5);let o;for(e+n>1&&(o=1/(e+n),e*=o,n*=o),o=0;o<3;o++)i[o]*=1-e-n,i[o]+=e;return i}function gv(t){const e=t.r/255,n=t.g/255,i=t.b/255,o=Math.max(e,n,i),r=Math.min(e,n,i),s=(o+r)/2;let a,l,u;return o!==r&&(u=o-r,l=s>.5?u/(2-o-r):u/(o+r),a=o===e?(n-i)/u+(n<i?6:0):o===n?(i-e)/u+2:(e-n)/u+4,a=60*a+.5),[0|a,l||0,s]}function _v(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(av)}function mv(t,e,n){return _v(pv,t,e,n)}function yv(t){return(t%360+360)%360}function vv(t){const e=hv.exec(t);let n,i=255;if(!e)return;e[5]!==n&&(i=e[6]?sv(+e[5]):av(+e[5]));const o=yv(+e[2]),r=+e[3]/100,s=+e[4]/100;return n="hwb"===e[1]?function(t,e,n){return _v(dv,t,e,n)}(o,r,s):"hsv"===e[1]?function(t,e,n){return _v(fv,t,e,n)}(o,r,s):mv(o,r,s),{r:n[0],g:n[1],b:n[2],a:i}}const xv={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},bv={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let wv;function Ev(t){wv||(wv=function(){const t={},e=Object.keys(bv),n=Object.keys(xv);let i,o,r,s,a;for(i=0;i<e.length;i++){for(s=a=e[i],o=0;o<n.length;o++)r=n[o],a=a.replace(r,xv[r]);r=parseInt(bv[s],16),t[a]=[r>>16&255,r>>8&255,255&r]}return t}(),wv.transparent=[0,0,0,0]);const e=wv[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}function Cv(t,e,n){if(t){let i=gv(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,0===e?360:1)),i=mv(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function Sv(t,e){return t?Object.assign(e||{},t):t}function Iv(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=av(t[3]))):(e=Sv(t,{r:0,g:0,b:0,a:1})).a=av(e.a),e}function Lv(t){return"r"===t.charAt(0)?function(t){const e=cv.exec(t);let n,i,o,r=255;if(e){if(e[7]!==n){const t=+e[7];r=255&(e[8]?sv(t):255*t)}return n=+e[1],i=+e[3],o=+e[5],n=255&(e[2]?sv(n):n),i=255&(e[4]?sv(i):i),o=255&(e[6]?sv(o):o),{r:n,g:i,b:o,a:r}}}(t):vv(t)}class Pv{constructor(t){if(t instanceof Pv)return t;const e=typeof t;let n;var i,o,r;"object"===e?n=Iv(t):"string"===e&&(r=(i=t).length,"#"===i[0]&&(4===r||5===r?o={r:255&17*Jy[i[1]],g:255&17*Jy[i[2]],b:255&17*Jy[i[3]],a:5===r?17*Jy[i[4]]:255}:7!==r&&9!==r||(o={r:Jy[i[1]]<<4|Jy[i[2]],g:Jy[i[3]]<<4|Jy[i[4]],b:Jy[i[5]]<<4|Jy[i[6]],a:9===r?Jy[i[7]]<<4|Jy[i[8]]:255})),n=o||Ev(t)||Lv(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=Sv(this._rgb);return t&&(t.a=lv(t.a)),t}set rgb(t){this._rgb=Iv(t)}rgbString(){return this._valid?(t=this._rgb)&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${lv(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`):this._rgb;var t}hexString(){return this._valid?iv(this._rgb):this._rgb}hslString(){return this._valid?function(t){if(!t)return;const e=gv(t),n=e[0],i=uv(e[1]),o=uv(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${o}%, ${lv(t.a)})`:`hsl(${n}, ${i}%, ${o}%)`}(this._rgb):this._rgb}mix(t,e){const n=this;if(t){const i=n.rgb,o=t.rgb;let r;const s=e===r?.5:e,a=2*s-1,l=i.a-o.a,u=((a*l==-1?a:(a+l)/(1+a*l))+1)/2;r=1-u,i.r=255&u*i.r+r*o.r+.5,i.g=255&u*i.g+r*o.g+.5,i.b=255&u*i.b+r*o.b+.5,i.a=s*i.a+(1-s)*o.a,n.rgb=i}return n}clone(){return new Pv(this.rgb)}alpha(t){return this._rgb.a=av(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=ov(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Cv(this._rgb,2,t),this}darken(t){return Cv(this._rgb,2,-t),this}saturate(t){return Cv(this._rgb,1,t),this}desaturate(t){return Cv(this._rgb,1,-t),this}rotate(t){return function(t,e){var n=gv(t);n[0]=yv(n[0]+e),n=mv(n),t.r=n[0],t.g=n[1],t.b=n[2]}(this._rgb,t),this}}function Mv(t){return new Pv(t)}const Nv=t=>t instanceof CanvasGradient||t instanceof CanvasPattern;function Tv(t){return Nv(t)?t:Mv(t)}function Ov(t){return Nv(t)?t:Mv(t).saturate(.5).darken(.1).hexString()}const Av=Object.create(null),Rv=Object.create(null);function Dv(t,e){if(!e)return t;const n=e.split(".");for(let i=0,o=n.length;i<o;++i){const e=n[i];t=t[e]||(t[e]=Object.create(null))}return t}function kv(t,e,n){return"string"==typeof e?gy(Dv(t,e),n):gy(Dv(t,""),e)}var Fv=new class{constructor(t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,e)=>Ov(e.backgroundColor),this.hoverBorderColor=(t,e)=>Ov(e.borderColor),this.hoverColor=(t,e)=>Ov(e.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t)}set(t,e){return kv(this,t,e)}get(t){return Dv(this,t)}describe(t,e){return kv(Rv,t,e)}override(t,e){return kv(Av,t,e)}route(t,e,n,i){const o=Dv(this,t),r=Dv(this,n),s="_"+e;Object.defineProperties(o,{[s]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const t=this[s],e=r[i];return oy(t)?Object.assign({},e,t):ay(t,e)},set(t){this[s]=t}}})}}({_scriptable:t=>!t.startsWith("on"),_indexable:t=>"events"!==t,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function zv(t,e,n,i,o){let r=e[o];return r||(r=e[o]=t.measureText(o).width,n.push(o)),r>i&&(i=r),i}function Bv(t,e,n,i){let o=(i=i||{}).data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(o=i.data={},r=i.garbageCollect=[],i.font=e),t.save(),t.font=e;let s=0;const a=n.length;let l,u,c,h,p;for(l=0;l<a;l++)if(h=n[l],null!=h&&!0!==iy(h))s=zv(t,o,r,s,h);else if(iy(h))for(u=0,c=h.length;u<c;u++)p=h[u],null==p||iy(p)||(s=zv(t,o,r,s,p));t.restore();const f=r.length/2;if(f>n.length){for(l=0;l<f;l++)delete o[r[l]];r.splice(0,f)}return s}function jv(t,e,n){const i=t.currentDevicePixelRatio,o=0!==n?Math.max(n/2,.5):0;return Math.round((e-o)*i)/i+o}function Vv(t,e){(e=e||t.getContext("2d")).save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function Gv(t,e,n,i){let o,r,s,a,l;const u=e.pointStyle,c=e.rotation,h=e.radius;let p=(c||0)*Py;if(u&&"object"==typeof u&&(o=u.toString(),"[object HTMLImageElement]"===o||"[object HTMLCanvasElement]"===o))return t.save(),t.translate(n,i),t.rotate(p),t.drawImage(u,-u.width/2,-u.height/2,u.width,u.height),void t.restore();if(!(isNaN(h)||h<=0)){switch(t.beginPath(),u){default:t.arc(n,i,h,0,Sy),t.closePath();break;case"triangle":t.moveTo(n+Math.sin(p)*h,i-Math.cos(p)*h),p+=Ty,t.lineTo(n+Math.sin(p)*h,i-Math.cos(p)*h),p+=Ty,t.lineTo(n+Math.sin(p)*h,i-Math.cos(p)*h),t.closePath();break;case"rectRounded":l=.516*h,a=h-l,r=Math.cos(p+Ny)*a,s=Math.sin(p+Ny)*a,t.arc(n-r,i-s,l,p-Cy,p-My),t.arc(n+s,i-r,l,p-My,p),t.arc(n+r,i+s,l,p,p+My),t.arc(n-s,i+r,l,p+My,p+Cy),t.closePath();break;case"rect":if(!c){a=Math.SQRT1_2*h,t.rect(n-a,i-a,2*a,2*a);break}p+=Ny;case"rectRot":r=Math.cos(p)*h,s=Math.sin(p)*h,t.moveTo(n-r,i-s),t.lineTo(n+s,i-r),t.lineTo(n+r,i+s),t.lineTo(n-s,i+r),t.closePath();break;case"crossRot":p+=Ny;case"cross":r=Math.cos(p)*h,s=Math.sin(p)*h,t.moveTo(n-r,i-s),t.lineTo(n+r,i+s),t.moveTo(n+s,i-r),t.lineTo(n-s,i+r);break;case"star":r=Math.cos(p)*h,s=Math.sin(p)*h,t.moveTo(n-r,i-s),t.lineTo(n+r,i+s),t.moveTo(n+s,i-r),t.lineTo(n-s,i+r),p+=Ny,r=Math.cos(p)*h,s=Math.sin(p)*h,t.moveTo(n-r,i-s),t.lineTo(n+r,i+s),t.moveTo(n+s,i-r),t.lineTo(n-s,i+r);break;case"line":r=Math.cos(p)*h,s=Math.sin(p)*h,t.moveTo(n-r,i-s),t.lineTo(n+r,i+s);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(p)*h,i+Math.sin(p)*h)}t.fill(),e.borderWidth>0&&t.stroke()}}function Uv(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function qv(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Hv(t){t.restore()}function Wv(t,e,n,i,o){if(!e)return t.lineTo(n.x,n.y);if("middle"===o){const i=(e.x+n.x)/2;t.lineTo(i,e.y),t.lineTo(i,n.y)}else"after"===o!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function Zv(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function Yv(t,e,n,i,o,r={}){const s=iy(e)?e:[e],a=r.strokeWidth>0&&""!==r.strokeColor;let l,u;for(t.save(),t.font=o.string,function(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]);ny(e.rotation)||t.rotate(e.rotation);e.color&&(t.fillStyle=e.color);e.textAlign&&(t.textAlign=e.textAlign);e.textBaseline&&(t.textBaseline=e.textBaseline)}(t,r),l=0;l<s.length;++l)u=s[l],a&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),ny(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(u,n,i,r.maxWidth)),t.fillText(u,n,i,r.maxWidth),Xv(t,n,i,u,r),i+=o.lineHeight;t.restore()}function Xv(t,e,n,i,o){if(o.strikethrough||o.underline){const r=t.measureText(i),s=e-r.actualBoundingBoxLeft,a=e+r.actualBoundingBoxRight,l=n-r.actualBoundingBoxAscent,u=n+r.actualBoundingBoxDescent,c=o.strikethrough?(l+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=o.decorationWidth||2,t.moveTo(s,c),t.lineTo(a,c),t.stroke()}}function $v(t,e){const{x:n,y:i,w:o,h:r,radius:s}=e;t.arc(n+s.topLeft,i+s.topLeft,s.topLeft,-My,Cy,!0),t.lineTo(n,i+r-s.bottomLeft),t.arc(n+s.bottomLeft,i+r-s.bottomLeft,s.bottomLeft,Cy,My,!0),t.lineTo(n+o-s.bottomRight,i+r),t.arc(n+o-s.bottomRight,i+r-s.bottomRight,s.bottomRight,My,0,!0),t.lineTo(n+o,i+s.topRight),t.arc(n+o-s.topRight,i+s.topRight,s.topRight,0,-My,!0),t.lineTo(n+s.topLeft,i)}const Kv=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),Jv=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function Qv(t,e){const n=(""+t).match(Kv);if(!n||"normal"===n[1])return 1.2*e;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100}return e*t}function tx(t,e){const n={},i=oy(e),o=i?Object.keys(e):e,r=oy(t)?i?n=>ay(t[n],t[e[n]]):e=>t[e]:()=>t;for(const s of o)n[s]=+r(s)||0;return n}function ex(t){return tx(t,{top:"y",right:"x",bottom:"y",left:"x"})}function nx(t){return tx(t,["topLeft","topRight","bottomLeft","bottomRight"])}function ix(t){const e=ex(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function ox(t,e){t=t||{},e=e||Fv.font;let n=ay(t.size,e.size);"string"==typeof n&&(n=parseInt(n,10));let i=ay(t.style,e.style);i&&!(""+i).match(Jv)&&(console.warn('Invalid font style specified: "'+i+'"'),i="");const o={family:ay(t.family,e.family),lineHeight:Qv(ay(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:ay(t.weight,e.weight),string:""};return o.string=function(t){return!t||ny(t.size)||ny(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}(o),o}function rx(t,e,n,i){let o,r,s,a=!0;for(o=0,r=t.length;o<r;++o)if(s=t[o],void 0!==s&&(void 0!==e&&"function"==typeof s&&(s=s(e),a=!1),void 0!==n&&iy(s)&&(s=s[n%s.length],a=!1),void 0!==s))return i&&!a&&(i.cacheable=!1),s}function sx(t,e){return Object.assign(Object.create(t),e)}function ax(t,e,n){n=n||(n=>t[n]<e);let i,o=t.length-1,r=0;for(;o-r>1;)i=r+o>>1,n(i)?r=i:o=i;return{lo:r,hi:o}}const lx=(t,e,n)=>ax(t,n,(i=>t[i][e]<n)),ux=(t,e,n)=>ax(t,n,(i=>t[i][e]>=n));const cx=["push","pop","shift","splice","unshift"];function hx(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,o=i.indexOf(e);-1!==o&&i.splice(o,1),i.length>0||(cx.forEach((e=>{delete t[e]})),delete t._chartjs)}function px(t){const e=new Set;let n,i;for(n=0,i=t.length;n<i;++n)e.add(t[n]);return e.size===i?t:Array.from(e)}function fx(t,e=[""],n=t,i,o=(()=>t[0])){by(i)||(i=Cx("_fallback",t));const r={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:n,_fallback:i,_getTarget:o,override:o=>fx([o,...t],e,n,i)};return new Proxy(r,{deleteProperty:(e,n)=>(delete e[n],delete e._keys,delete t[0][n],!0),get:(n,i)=>yx(n,i,(()=>function(t,e,n,i){let o;for(const r of e)if(o=Cx(_x(r,t),n),by(o))return mx(t,o)?wx(n,i,t,o):o}(i,e,t,n))),getOwnPropertyDescriptor:(t,e)=>Reflect.getOwnPropertyDescriptor(t._scopes[0],e),getPrototypeOf:()=>Reflect.getPrototypeOf(t[0]),has:(t,e)=>Sx(t).includes(e),ownKeys:t=>Sx(t),set(t,e,n){const i=t._storage||(t._storage=o());return t[e]=i[e]=n,delete t._keys,!0}})}function dx(t,e,n,i){const o={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:gx(t,i),setContext:e=>dx(t,e,n,i),override:o=>dx(t.override(o),e,n,i)};return new Proxy(o,{deleteProperty:(e,n)=>(delete e[n],delete t[n],!0),get:(t,e,n)=>yx(t,e,(()=>function(t,e,n){const{_proxy:i,_context:o,_subProxy:r,_descriptors:s}=t;let a=i[e];wy(a)&&s.isScriptable(e)&&(a=function(t,e,n,i){const{_proxy:o,_context:r,_subProxy:s,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t),e=e(r,s||i),a.delete(t),mx(t,e)&&(e=wx(o._scopes,o,t,e));return e}(e,a,t,n));iy(a)&&a.length&&(a=function(t,e,n,i){const{_proxy:o,_context:r,_subProxy:s,_descriptors:a}=n;if(by(r.index)&&i(t))e=e[r.index%e.length];else if(oy(e[0])){const n=e,i=o._scopes.filter((t=>t!==n));e=[];for(const l of n){const n=wx(i,o,t,l);e.push(dx(n,r,s&&s[t],a))}}return e}(e,a,t,s.isIndexable));mx(e,a)&&(a=dx(a,o,r&&r[e],s));return a}(t,e,n))),getOwnPropertyDescriptor:(e,n)=>e._descriptors.allKeys?Reflect.has(t,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,n),getPrototypeOf:()=>Reflect.getPrototypeOf(t),has:(e,n)=>Reflect.has(t,n),ownKeys:()=>Reflect.ownKeys(t),set:(e,n,i)=>(t[n]=i,delete e[n],!0)})}function gx(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:o=e.allKeys}=t;return{allKeys:o,scriptable:n,indexable:i,isScriptable:wy(n)?n:()=>n,isIndexable:wy(i)?i:()=>i}}const _x=(t,e)=>t?t+xy(e):e,mx=(t,e)=>oy(e)&&"adapters"!==t&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function yx(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const i=n();return t[e]=i,i}function vx(t,e,n){return wy(t)?t(e,n):t}const xx=(t,e)=>!0===t?e:"string"==typeof t?vy(e,t):void 0;function bx(t,e,n,i,o){for(const r of e){const e=xx(n,r);if(e){t.add(e);const r=vx(e._fallback,n,o);if(by(r)&&r!==n&&r!==i)return r}else if(!1===e&&by(i)&&n!==i)return null}return!1}function wx(t,e,n,i){const o=e._rootScopes,r=vx(e._fallback,n,i),s=[...t,...o],a=new Set;a.add(i);let l=Ex(a,s,n,r||n,i);return null!==l&&((!by(r)||r===n||(l=Ex(a,s,r,l,i),null!==l))&&fx(Array.from(a),[""],o,r,(()=>function(t,e,n){const i=t._getTarget();e in i||(i[e]={});const o=i[e];if(iy(o)&&oy(n))return n;return o}(e,n,i))))}function Ex(t,e,n,i,o){for(;n;)n=bx(t,e,n,i,o);return n}function Cx(t,e){for(const n of e){if(!n)continue;const e=n[t];if(by(e))return e}}function Sx(t){let e=t._keys;return e||(e=t._keys=function(t){const e=new Set;for(const n of t)for(const t of Object.keys(n).filter((t=>!t.startsWith("_"))))e.add(t);return Array.from(e)}(t._scopes)),e}const Ix=Number.EPSILON||1e-14,Lx=(t,e)=>e<t.length&&!t[e].skip&&t[e],Px=t=>"x"===t?"y":"x";function Mx(t,e,n,i){const o=t.skip?e:t,r=e,s=n.skip?e:n,a=Gy(r,o),l=Gy(s,r);let u=a/(a+l),c=l/(a+l);u=isNaN(u)?0:u,c=isNaN(c)?0:c;const h=i*u,p=i*c;return{previous:{x:r.x-h*(s.x-o.x),y:r.y-h*(s.y-o.y)},next:{x:r.x+p*(s.x-o.x),y:r.y+p*(s.y-o.y)}}}function Nx(t,e="x"){const n=Px(e),i=t.length,o=Array(i).fill(0),r=Array(i);let s,a,l,u=Lx(t,0);for(s=0;s<i;++s)if(a=l,l=u,u=Lx(t,s+1),l){if(u){const t=u[e]-l[e];o[s]=0!==t?(u[n]-l[n])/t:0}r[s]=a?u?Ay(o[s-1])!==Ay(o[s])?0:(o[s-1]+o[s])/2:o[s-1]:o[s]}!function(t,e,n){const i=t.length;let o,r,s,a,l,u=Lx(t,0);for(let c=0;c<i-1;++c)l=u,u=Lx(t,c+1),l&&u&&(ky(e[c],0,Ix)?n[c]=n[c+1]=0:(o=n[c]/e[c],r=n[c+1]/e[c],a=Math.pow(o,2)+Math.pow(r,2),a<=9||(s=3/Math.sqrt(a),n[c]=o*s*e[c],n[c+1]=r*s*e[c])))}(t,o,r),function(t,e,n="x"){const i=Px(n),o=t.length;let r,s,a,l=Lx(t,0);for(let u=0;u<o;++u){if(s=a,a=l,l=Lx(t,u+1),!a)continue;const o=a[n],c=a[i];s&&(r=(o-s[n])/3,a[`cp1${n}`]=o-r,a[`cp1${i}`]=c-r*e[u]),l&&(r=(l[n]-o)/3,a[`cp2${n}`]=o+r,a[`cp2${i}`]=c+r*e[u])}}(t,r,e)}function Tx(t,e,n){return Math.max(Math.min(t,n),e)}function Ox(t,e,n,i,o){let r,s,a,l;if(e.spanGaps&&(t=t.filter((t=>!t.skip))),"monotone"===e.cubicInterpolationMode)Nx(t,o);else{let n=i?t[t.length-1]:t[0];for(r=0,s=t.length;r<s;++r)a=t[r],l=Mx(n,a,t[Math.min(r+1,s-(i?0:1))%s],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,n=a}e.capBezierPoints&&function(t,e){let n,i,o,r,s,a=Uv(t[0],e);for(n=0,i=t.length;n<i;++n)s=r,r=a,a=n<i-1&&Uv(t[n+1],e),r&&(o=t[n],s&&(o.cp1x=Tx(o.cp1x,e.left,e.right),o.cp1y=Tx(o.cp1y,e.top,e.bottom)),a&&(o.cp2x=Tx(o.cp2x,e.left,e.right),o.cp2y=Tx(o.cp2y,e.top,e.bottom)))}(t,n)}function Ax(){return"undefined"!=typeof window&&"undefined"!=typeof document}function Rx(t){let e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function Dx(t,e,n){let i;return"string"==typeof t?(i=parseInt(t,10),-1!==t.indexOf("%")&&(i=i/100*e.parentNode[n])):i=t,i}const kx=t=>window.getComputedStyle(t,null);const Fx=["top","right","bottom","left"];function zx(t,e,n){const i={};n=n?"-"+n:"";for(let o=0;o<4;o++){const r=Fx[o];i[r]=parseFloat(t[e+"-"+r+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}function Bx(t,e){const{canvas:n,currentDevicePixelRatio:i}=e,o=kx(n),r="border-box"===o.boxSizing,s=zx(o,"padding"),a=zx(o,"border","width"),{x:l,y:u,box:c}=function(t,e){const n=t.native||t,i=n.touches,o=i&&i.length?i[0]:n,{offsetX:r,offsetY:s}=o;let a,l,u=!1;if(((t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot))(r,s,n.target))a=r,l=s;else{const t=e.getBoundingClientRect();a=o.clientX-t.left,l=o.clientY-t.top,u=!0}return{x:a,y:l,box:u}}(t,n),h=s.left+(c&&a.left),p=s.top+(c&&a.top);let{width:f,height:d}=e;return r&&(f-=s.width+a.width,d-=s.height+a.height),{x:Math.round((l-h)/f*n.width/i),y:Math.round((u-p)/d*n.height/i)}}const jx=t=>Math.round(10*t)/10;function Vx(t,e,n,i){const o=kx(t),r=zx(o,"margin"),s=Dx(o.maxWidth,t,"clientWidth")||Ly,a=Dx(o.maxHeight,t,"clientHeight")||Ly,l=function(t,e,n){let i,o;if(void 0===e||void 0===n){const r=Rx(t);if(r){const t=r.getBoundingClientRect(),s=kx(r),a=zx(s,"border","width"),l=zx(s,"padding");e=t.width-l.width-a.width,n=t.height-l.height-a.height,i=Dx(s.maxWidth,r,"clientWidth"),o=Dx(s.maxHeight,r,"clientHeight")}else e=t.clientWidth,n=t.clientHeight}return{width:e,height:n,maxWidth:i||Ly,maxHeight:o||Ly}}(t,e,n);let{width:u,height:c}=l;if("content-box"===o.boxSizing){const t=zx(o,"border","width"),e=zx(o,"padding");u-=e.width+t.width,c-=e.height+t.height}return u=Math.max(0,u-r.width),c=Math.max(0,i?Math.floor(u/i):c-r.height),u=jx(Math.min(u,s,l.maxWidth)),c=jx(Math.min(c,a,l.maxHeight)),u&&!c&&(c=jx(u/2)),{width:u,height:c}}function Gx(t,e,n){const i=e||1,o=Math.floor(t.height*i),r=Math.floor(t.width*i);t.height=o/i,t.width=r/i;const s=t.canvas;return s.style&&(n||!s.style.height&&!s.style.width)&&(s.style.height=`${t.height}px`,s.style.width=`${t.width}px`),(t.currentDevicePixelRatio!==i||s.height!==o||s.width!==r)&&(t.currentDevicePixelRatio=i,s.height=o,s.width=r,t.ctx.setTransform(i,0,0,i,0,0),!0)}const Ux=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(e){}return t}();function qx(t,e){const n=function(t,e){return kx(t).getPropertyValue(e)}(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Hx(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function Wx(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:"middle"===i?n<.5?t.y:e.y:"after"===i?n<1?t.y:e.y:n>0?e.y:t.y}}function Zx(t,e,n,i){const o={x:t.cp2x,y:t.cp2y},r={x:e.cp1x,y:e.cp1y},s=Hx(t,o,n),a=Hx(o,r,n),l=Hx(r,e,n),u=Hx(s,a,n),c=Hx(a,l,n);return Hx(u,c,n)}const Yx=new Map;function Xx(t,e,n){return function(t,e){e=e||{};const n=t+JSON.stringify(e);let i=Yx.get(n);return i||(i=new Intl.NumberFormat(t,e),Yx.set(n,i)),i}(e,n).format(t)}function $x(t,e,n){return t?function(t,e){return{x:n=>t+t+e-n,setWidth(t){e=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,e)=>t-e,leftForLtr:(t,e)=>t-e}}(e,n):{x:t=>t,setWidth(t){},textAlign:t=>t,xPlus:(t,e)=>t+e,leftForLtr:(t,e)=>t}}function Kx(t,e){let n,i;"ltr"!==e&&"rtl"!==e||(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function Jx(t,e){void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Qx(t){return"angle"===t?{between:Hy,compare:Uy,normalize:qy}:{between:Zy,compare:(t,e)=>t-e,normalize:t=>t}}function tb({start:t,end:e,count:n,loop:i,style:o}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n==0,style:o}}function eb(t,e,n){if(!n)return[t];const{property:i,start:o,end:r}=n,s=e.length,{compare:a,between:l,normalize:u}=Qx(i),{start:c,end:h,loop:p,style:f}=function(t,e,n){const{property:i,start:o,end:r}=n,{between:s,normalize:a}=Qx(i),l=e.length;let u,c,{start:h,end:p,loop:f}=t;if(f){for(h+=l,p+=l,u=0,c=l;u<c&&s(a(e[h%l][i]),o,r);++u)h--,p--;h%=l,p%=l}return p<h&&(p+=l),{start:h,end:p,loop:f,style:t.style}}(t,e,n),d=[];let g,_,m,y=!1,v=null;const x=()=>y||l(o,m,g)&&0!==a(o,m),b=()=>!y||0===a(r,g)||l(r,m,g);for(let w=c,E=c;w<=h;++w)_=e[w%s],_.skip||(g=u(_[i]),g!==m&&(y=l(g,o,r),null===v&&x()&&(v=0===a(g,o)?w:E),null!==v&&b()&&(d.push(tb({start:v,end:w,loop:p,count:s,style:f})),v=null),E=w,m=g));return null!==v&&d.push(tb({start:v,end:h,loop:p,count:s,style:f})),d}function nb(t,e){const n=[],i=t.segments;for(let o=0;o<i.length;o++){const r=eb(i[o],t.points,e);r.length&&n.push(...r)}return n}function ib(t,e,n,i){return i&&i.setContext&&n?function(t,e,n,i){const o=t._chart.getContext(),r=ob(t.options),{_datasetIndex:s,options:{spanGaps:a}}=t,l=n.length,u=[];let c=r,h=e[0].start,p=h;function f(t,e,i,o){const r=a?-1:1;if(t!==e){for(t+=l;n[t%l].skip;)t-=r;for(;n[e%l].skip;)e+=r;t%l!=e%l&&(u.push({start:t%l,end:e%l,loop:i,style:o}),c=o,h=e%l)}}for(const d of e){h=a?h:d.start;let t,e=n[h%l];for(p=h+1;p<=d.end;p++){const r=n[p%l];t=ob(i.setContext(sx(o,{type:"segment",p0:e,p1:r,p0DataIndex:(p-1)%l,p1DataIndex:p%l,datasetIndex:s}))),rb(t,c)&&f(h,p-1,d.loop,c),e=r,c=t}h<p-1&&f(h,p-1,d.loop,c)}return u}(t,e,n,i):e}function ob(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function rb(t,e){return e&&JSON.stringify(t)!==JSON.stringify(e)}
/*!
 * Chart.js v3.7.0
 * https://www.chartjs.org
 * (c) 2021 Chart.js Contributors
 * Released under the MIT License
 */var sb=new class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,n,i){const o=e.listeners[i],r=e.duration;o.forEach((i=>i({chart:t,initial:e.initial,numSteps:r,currentStep:Math.min(n-e.start,r)})))}_refresh(){this._request||(this._running=!0,this._request=$m.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(t=Date.now()){let e=0;this._charts.forEach(((n,i)=>{if(!n.running||!n.items.length)return;const o=n.items;let r,s=o.length-1,a=!1;for(;s>=0;--s)r=o[s],r._active?(r._total>n.duration&&(n.duration=r._total),r.tick(t),a=!0):(o[s]=o[o.length-1],o.pop());a&&(i.draw(),this._notify(i,n,t,"progress")),o.length||(n.running=!1,this._notify(i,n,t,"complete"),n.initial=!1),e+=o.length})),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let n=e.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,n)),n}listen(t,e,n){this._getAnims(t).listeners[e].push(n)}add(t,e){e&&e.length&&this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce(((t,e)=>Math.max(t,e._duration)),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!!(e&&e.running&&e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const n=e.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}};const ab={boolean:(t,e,n)=>n>.5?e:t,color(t,e,n){const i=Tv(t||"transparent"),o=i.valid&&Tv(e||"transparent");return o&&o.valid?o.mix(i,n).hexString():e},number:(t,e,n)=>t+(e-t)*n};class lb{constructor(t,e,n,i){const o=e[n];i=rx([t.to,i,o,t.from]);const r=rx([t.from,o,i]);this._active=!0,this._fn=t.fn||ab[t.type||typeof r],this._easing=Ky[t.easing]||Ky.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=n,this._from=r,this._to=i,this._promises=void 0}active(){return this._active}update(t,e,n){if(this._active){this._notify(!1);const i=this._target[this._prop],o=n-this._start,r=this._duration-o;this._start=n,this._duration=Math.floor(Math.max(r,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=rx([t.to,e,i,t.from]),this._from=rx([t.from,i,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,n=this._duration,i=this._prop,o=this._from,r=this._loop,s=this._to;let a;if(this._active=o!==s&&(r||e<n),!this._active)return this._target[i]=s,void this._notify(!0);e<0?this._target[i]=o:(a=e/n%2,a=r&&a>1?2-a:a,a=this._easing(Math.min(1,Math.max(0,a))),this._target[i]=this._fn(o,s,a))}wait(){const t=this._promises||(this._promises=[]);return new Promise(((e,n)=>{t.push({res:e,rej:n})}))}_notify(t){const e=t?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][e]()}}Fv.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const ub=Object.keys(Fv.animation);Fv.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),Fv.set("animations",{colors:{type:"color",properties:["color","borderColor","backgroundColor"]},numbers:{type:"number",properties:["x","y","borderWidth","radius","tension"]}}),Fv.describe("animations",{_fallback:"animation"}),Fv.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}});class cb{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!oy(t))return;const e=this._properties;Object.getOwnPropertyNames(t).forEach((n=>{const i=t[n];if(!oy(i))return;const o={};for(const t of ub)o[t]=i[t];(iy(i.properties)&&i.properties||[n]).forEach((t=>{t!==n&&e.has(t)||e.set(t,o)}))}))}_animateOptions(t,e){const n=e.options,i=function(t,e){if(!e)return;let n=t.options;if(!n)return void(t.options=e);n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(t,n);if(!i)return[];const o=this._createAnimations(i,n);return n.$shared&&function(t,e){const n=[],i=Object.keys(e);for(let o=0;o<i.length;o++){const e=t[i[o]];e&&e.active()&&n.push(e.wait())}return Promise.all(n)}(t.options.$animations,n).then((()=>{t.options=n}),(()=>{})),o}_createAnimations(t,e){const n=this._properties,i=[],o=t.$animations||(t.$animations={}),r=Object.keys(e),s=Date.now();let a;for(a=r.length-1;a>=0;--a){const l=r[a];if("$"===l.charAt(0))continue;if("options"===l){i.push(...this._animateOptions(t,e));continue}const u=e[l];let c=o[l];const h=n.get(l);if(c){if(h&&c.active()){c.update(h,u,s);continue}c.cancel()}h&&h.duration?(o[l]=c=new lb(h,t,l,u),i.push(c)):t[l]=u}return i}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const n=this._createAnimations(t,e);return n.length?(sb.add(this._chart,n),!0):void 0}}function hb(t,e){const n=t&&t.options||{},i=n.reverse,o=void 0===n.min?e:0,r=void 0===n.max?e:0;return{start:i?r:o,end:i?o:r}}function pb(t,e){const n=[],i=t._getSortedDatasetMetas(e);let o,r;for(o=0,r=i.length;o<r;++o)n.push(i[o].index);return n}function fb(t,e,n,i={}){const o=t.keys,r="single"===i.mode;let s,a,l,u;if(null!==e){for(s=0,a=o.length;s<a;++s){if(l=+o[s],l===n){if(i.all)continue;break}u=t.values[l],ry(u)&&(r||0===e||Ay(e)===Ay(u))&&(e+=u)}return e}}function db(t,e){const n=t&&t.options.stacked;return n||void 0===n&&void 0!==e.stack}function gb(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function _b(t,e,n,i){for(const o of e.getMatchingVisibleMetas(i).reverse()){const e=t[o.index];if(n&&e>0||!n&&e<0)return o.index}return null}function mb(t,e){const{chart:n,_cachedMeta:i}=t,o=n._stacks||(n._stacks={}),{iScale:r,vScale:s,index:a}=i,l=r.axis,u=s.axis,c=function(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}(r,s,i),h=e.length;let p;for(let f=0;f<h;++f){const t=e[f],{[l]:n,[u]:r}=t;p=(t._stacks||(t._stacks={}))[u]=gb(o,c,n),p[a]=r,p._top=_b(p,s,!0,i.type),p._bottom=_b(p,s,!1,i.type)}}function yb(t,e){const n=t.scales;return Object.keys(n).filter((t=>n[t].axis===e)).shift()}function vb(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const t of e){const e=t._stacks;if(!e||void 0===e[i]||void 0===e[i][n])return;delete e[i][n]}}}const xb=t=>"reset"===t||"none"===t,bb=(t,e)=>e?t:Object.assign({},t);class wb{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=db(t.vScale,t),this.addElements()}updateIndex(t){this.index!==t&&vb(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,n=this.getDataset(),i=(t,e,n,i)=>"x"===t?e:"r"===t?i:n,o=e.xAxisID=ay(n.xAxisID,yb(t,"x")),r=e.yAxisID=ay(n.yAxisID,yb(t,"y")),s=e.rAxisID=ay(n.rAxisID,yb(t,"r")),a=e.indexAxis,l=e.iAxisID=i(a,o,r,s),u=e.vAxisID=i(a,r,o,s);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(r),e.rScale=this.getScaleForId(s),e.iScale=this.getScaleForId(l),e.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&hx(this._data,this),t._stacked&&vb(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),n=this._data;if(oy(e))this._data=function(t){const e=Object.keys(t),n=new Array(e.length);let i,o,r;for(i=0,o=e.length;i<o;++i)r=e[i],n[i]={x:r,y:t[r]};return n}(e);else if(n!==e){if(n){hx(n,this);const t=this._cachedMeta;vb(t),t._parsed=[]}e&&Object.isExtensible(e)&&(o=this,(i=e)._chartjs?i._chartjs.listeners.push(o):(Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[o]}}),cx.forEach((t=>{const e="_onData"+xy(t),n=i[t];Object.defineProperty(i,t,{configurable:!0,enumerable:!1,value(...t){const o=n.apply(this,t);return i._chartjs.listeners.forEach((n=>{"function"==typeof n[e]&&n[e](...t)})),o}})})))),this._syncList=[],this._data=e}var i,o}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const o=e._stacked;e._stacked=db(e.vScale,e),e.stack!==n.stack&&(i=!0,vb(e),e.stack=n.stack),this._resyncElements(t),(i||o!==e._stacked)&&mb(this,e._parsed)}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:n,_data:i}=this,{iScale:o,_stacked:r}=n,s=o.axis;let a,l,u,c=0===t&&e===i.length||n._sorted,h=t>0&&n._parsed[t-1];if(!1===this._parsing)n._parsed=i,n._sorted=!0,u=i;else{u=iy(i[t])?this.parseArrayData(n,i,t,e):oy(i[t])?this.parseObjectData(n,i,t,e):this.parsePrimitiveData(n,i,t,e);const o=()=>null===l[s]||h&&l[s]<h[s];for(a=0;a<e;++a)n._parsed[a+t]=l=u[a],c&&(o()&&(c=!1),h=l);n._sorted=c}r&&mb(this,u)}parsePrimitiveData(t,e,n,i){const{iScale:o,vScale:r}=t,s=o.axis,a=r.axis,l=o.getLabels(),u=o===r,c=new Array(i);let h,p,f;for(h=0,p=i;h<p;++h)f=h+n,c[h]={[s]:u||o.parse(l[f],f),[a]:r.parse(e[f],f)};return c}parseArrayData(t,e,n,i){const{xScale:o,yScale:r}=t,s=new Array(i);let a,l,u,c;for(a=0,l=i;a<l;++a)u=a+n,c=e[u],s[a]={x:o.parse(c[0],u),y:r.parse(c[1],u)};return s}parseObjectData(t,e,n,i){const{xScale:o,yScale:r}=t,{xAxisKey:s="x",yAxisKey:a="y"}=this._parsing,l=new Array(i);let u,c,h,p;for(u=0,c=i;u<c;++u)h=u+n,p=e[h],l[u]={x:o.parse(vy(p,s),h),y:r.parse(vy(p,a),h)};return l}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,n){const i=this.chart,o=this._cachedMeta,r=e[t.axis];return fb({keys:pb(i,!0),values:e._stacks[t.axis]},r,o.index,{mode:n})}updateRangeFromParsed(t,e,n,i){const o=n[e.axis];let r=null===o?NaN:o;const s=i&&n._stacks[e.axis];i&&s&&(i.values=s,r=fb(i,o,this._cachedMeta.index)),t.min=Math.min(t.min,r),t.max=Math.max(t.max,r)}getMinMax(t,e){const n=this._cachedMeta,i=n._parsed,o=n._sorted&&t===n.iScale,r=i.length,s=this._getOtherScale(t),a=((t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:pb(n,!0),values:null})(e,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:c}=function(t){const{min:e,max:n,minDefined:i,maxDefined:o}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:o?n:Number.POSITIVE_INFINITY}}(s);let h,p;function f(){p=i[h];const e=p[s.axis];return!ry(p[t.axis])||u>e||c<e}for(h=0;h<r&&(f()||(this.updateRangeFromParsed(l,t,p,a),!o));++h);if(o)for(h=r-1;h>=0;--h)if(!f()){this.updateRangeFromParsed(l,t,p,a);break}return l}getAllParsedValues(t){const e=this._cachedMeta._parsed,n=[];let i,o,r;for(i=0,o=e.length;i<o;++i)r=e[i][t.axis],ry(r)&&n.push(r);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,n=e.iScale,i=e.vScale,o=this.getParsed(t);return{label:n?""+n.getLabelForValue(o[n.axis]):"",value:i?""+i.getLabelForValue(o[i.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=function(t){let e,n,i,o;return oy(t)?(e=t.top,n=t.right,i=t.bottom,o=t.left):e=n=i=o=t,{top:e,right:n,bottom:i,left:o,disabled:!1===t}}(ay(this.options.clip,function(t,e,n){if(!1===n)return!1;const i=hb(t,n),o=hb(e,n);return{top:o.end,right:i.end,bottom:o.start,left:i.start}}(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,n=this._cachedMeta,i=n.data||[],o=e.chartArea,r=[],s=this._drawStart||0,a=this._drawCount||i.length-s,l=this.options.drawActiveElementsOnTop;let u;for(n.dataset&&n.dataset.draw(t,o,s,a),u=s;u<s+a;++u){const e=i[u];e.hidden||(e.active&&l?r.push(e):e.draw(t,o))}for(u=0;u<r.length;++u)r[u].draw(t,o)}getStyle(t,e){const n=e?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,e,n){const i=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const e=this._cachedMeta.data[t];o=e.$context||(e.$context=function(t,e,n){return sx(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}(this.getContext(),t,e)),o.parsed=this.getParsed(t),o.raw=i.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=function(t,e){return sx(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),o.dataset=i,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=n,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",n){const i="active"===e,o=this._cachedDataOpts,r=t+"-"+e,s=o[r],a=this.enableOptionSharing&&by(n);if(s)return bb(s,a);const l=this.chart.config,u=l.datasetElementScopeKeys(this._type,t),c=i?[`${t}Hover`,"hover",t,""]:[t,""],h=l.getOptionScopes(this.getDataset(),u),p=Object.keys(Fv.elements[t]),f=l.resolveNamedOptions(h,p,(()=>this.getContext(n,i)),c);return f.$shared&&(f.$shared=a,o[r]=Object.freeze(bb(f,a))),f}_resolveAnimations(t,e,n){const i=this.chart,o=this._cachedDataOpts,r=`animation-${e}`,s=o[r];if(s)return s;let a;if(!1!==i.options.animation){const i=this.chart.config,o=i.datasetAnimationScopeKeys(this._type,e),r=i.getOptionScopes(this.getDataset(),o);a=i.createResolver(r,this.getContext(t,n,e))}const l=new cb(i,a&&a.animations);return a&&a._cacheable&&(o[r]=Object.freeze(l)),l}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||xb(t)||this.chart._animationsDisabled}updateElement(t,e,n,i){xb(i)?Object.assign(t,n):this._resolveAnimations(e,i).update(t,n)}updateSharedOptions(t,e,n){t&&!xb(e)&&this._resolveAnimations(void 0,e).update(t,n)}_setStyle(t,e,n,i){t.active=i;const o=this.getStyle(e,i);this._resolveAnimations(e,n,i).update(t,{options:!i&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,e,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,n=this._cachedMeta.data;for(const[s,a,l]of this._syncList)this[s](a,l);this._syncList=[];const i=n.length,o=e.length,r=Math.min(o,i);r&&this.parse(0,r),o>i?this._insertElements(i,o-i,t):o<i&&this._removeElements(o,i-o)}_insertElements(t,e,n=!0){const i=this._cachedMeta,o=i.data,r=t+e;let s;const a=t=>{for(t.length+=e,s=t.length-1;s>=r;s--)t[s]=t[s-e]};for(a(o),s=t;s<r;++s)o[s]=new this.dataElementType;this._parsing&&a(i._parsed),this.parse(t,e),n&&this.updateElements(o,t,e,"reset")}updateElements(t,e,n,i){}_removeElements(t,e){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(t,e);n._stacked&&vb(n,i)}n.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,n,i]=t;this[e](n,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Eb(t){const e=t.iScale,n=function(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let e=0,o=n.length;e<o;e++)i=i.concat(n[e].controller.getAllParsedValues(t));t._cache.$bar=px(i.sort(((t,e)=>t-e)))}return t._cache.$bar}(e,t.type);let i,o,r,s,a=e._length;const l=()=>{32767!==r&&-32768!==r&&(by(s)&&(a=Math.min(a,Math.abs(r-s)||a)),s=r)};for(i=0,o=n.length;i<o;++i)r=e.getPixelForValue(n[i]),l();for(s=void 0,i=0,o=e.ticks.length;i<o;++i)r=e.getPixelForTick(i),l();return a}function Cb(t,e,n,i){return iy(t)?function(t,e,n,i){const o=n.parse(t[0],i),r=n.parse(t[1],i),s=Math.min(o,r),a=Math.max(o,r);let l=s,u=a;Math.abs(s)>Math.abs(a)&&(l=a,u=s),e[n.axis]=u,e._custom={barStart:l,barEnd:u,start:o,end:r,min:s,max:a}}(t,e,n,i):e[n.axis]=n.parse(t,i),e}function Sb(t,e,n,i){const o=t.iScale,r=t.vScale,s=o.getLabels(),a=o===r,l=[];let u,c,h,p;for(u=n,c=n+i;u<c;++u)p=e[u],h={},h[o.axis]=a||o.parse(s[u],u),l.push(Cb(p,h,r,u));return l}function Ib(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}function Lb(t,e,n,i){let o=e.borderSkipped;const r={};if(!o)return void(t.borderSkipped=r);const{start:s,end:a,reverse:l,top:u,bottom:c}=function(t){let e,n,i,o,r;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(o="end",r="start"):(o="start",r="end"),{start:n,end:i,reverse:e,top:o,bottom:r}}(t);"middle"===o&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?o=u:(n._bottom||0)===i?o=c:(r[Pb(c,s,a,l)]=!0,o=u)),r[Pb(o,s,a,l)]=!0,t.borderSkipped=r}function Pb(t,e,n,i){var o,r,s;return i?(s=n,t=Mb(t=(o=t)===(r=e)?s:o===s?r:o,n,e)):t=Mb(t,e,n),t}function Mb(t,e,n){return"start"===t?e:"end"===t?n:t}function Nb(t,{inflateAmount:e},n){t.inflateAmount="auto"===e?1===n?.33:0:e}wb.defaults={},wb.prototype.datasetElementType=null,wb.prototype.dataElementType=null;class Tb extends wb{parsePrimitiveData(t,e,n,i){return Sb(t,e,n,i)}parseArrayData(t,e,n,i){return Sb(t,e,n,i)}parseObjectData(t,e,n,i){const{iScale:o,vScale:r}=t,{xAxisKey:s="x",yAxisKey:a="y"}=this._parsing,l="x"===o.axis?s:a,u="x"===r.axis?s:a,c=[];let h,p,f,d;for(h=n,p=n+i;h<p;++h)d=e[h],f={},f[o.axis]=o.parse(vy(d,l),h),c.push(Cb(vy(d,u),f,r,h));return c}updateRangeFromParsed(t,e,n,i){super.updateRangeFromParsed(t,e,n,i);const o=n._custom;o&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:n,vScale:i}=e,o=this.getParsed(t),r=o._custom,s=Ib(r)?"["+r.start+", "+r.end+"]":""+i.getLabelForValue(o[i.axis]);return{label:""+n.getLabelForValue(o[n.axis]),value:s}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,n,i){const o="reset"===i,{index:r,_cachedMeta:{vScale:s}}=this,a=s.getBasePixel(),l=s.isHorizontal(),u=this._getRuler(),c=this.resolveDataElementOptions(e,i),h=this.getSharedOptions(c),p=this.includeOptions(i,h);this.updateSharedOptions(h,i,c);for(let f=e;f<e+n;f++){const e=this.getParsed(f),n=o||ny(e[s.axis])?{base:a,head:a}:this._calculateBarValuePixels(f),c=this._calculateBarIndexPixels(f,u),d=(e._stacks||{})[s.axis],g={horizontal:l,base:n.base,enableBorderRadius:!d||Ib(e._custom)||r===d._top||r===d._bottom,x:l?n.head:c.center,y:l?c.center:n.head,height:l?c.size:Math.abs(n.size),width:l?Math.abs(n.size):c.size};p&&(g.options=h||this.resolveDataElementOptions(f,t[f].active?"active":i));const _=g.options||t[f].options;Lb(g,_,d,r),Nb(g,_,u.ratio),this.updateElement(t[f],f,g,i)}}_getStacks(t,e){const n=this._cachedMeta.iScale,i=n.getMatchingVisibleMetas(this._type),o=n.options.stacked,r=i.length,s=[];let a,l;for(a=0;a<r;++a)if(l=i[a],l.controller.options.grouped){if(void 0!==e){const t=l.controller.getParsed(e)[l.controller._cachedMeta.vScale.axis];if(ny(t)||isNaN(t))continue}if((!1===o||-1===s.indexOf(l.stack)||void 0===o&&void 0===l.stack)&&s.push(l.stack),l.index===t)break}return s.length||s.push(void 0),s}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,n){const i=this._getStacks(t,n),o=void 0!==e?i.indexOf(e):-1;return-1===o?i.length-1:o}_getRuler(){const t=this.options,e=this._cachedMeta,n=e.iScale,i=[];let o,r;for(o=0,r=e.data.length;o<r;++o)i.push(n.getPixelForValue(this.getParsed(o)[n.axis],o));const s=t.barThickness;return{min:s||Eb(e),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:s?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:n},options:{base:i,minBarLength:o}}=this,r=i||0,s=this.getParsed(t),a=s._custom,l=Ib(a);let u,c,h=s[e.axis],p=0,f=n?this.applyStack(e,s,n):h;f!==h&&(p=f-h,f=h),l&&(h=a.barStart,f=a.barEnd-a.barStart,0!==h&&Ay(h)!==Ay(a.barEnd)&&(p=0),p+=h);const d=ny(i)||l?p:i;let g=e.getPixelForValue(d);if(u=this.chart.getDataVisibility(t)?e.getPixelForValue(p+f):g,c=u-g,Math.abs(c)<o&&(c=function(t,e,n){return 0!==t?Ay(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}(c,e,r)*o,h===r&&(g-=c/2),u=g+c),g===e.getPixelForValue(r)){const t=Ay(c)*e.getLineWidthForValue(r)/2;g+=t,c-=t}return{size:c,base:g,head:u,center:u+c/2}}_calculateBarIndexPixels(t,e){const n=e.scale,i=this.options,o=i.skipNull,r=ay(i.maxBarThickness,1/0);let s,a;if(e.grouped){const n=o?this._getStackCount(t):e.stackCount,l="flex"===i.barThickness?function(t,e,n,i){const o=e.pixels,r=o[t];let s=t>0?o[t-1]:null,a=t<o.length-1?o[t+1]:null;const l=n.categoryPercentage;null===s&&(s=r-(null===a?e.end-e.start:a-r)),null===a&&(a=r+r-s);const u=r-(r-Math.min(s,a))/2*l;return{chunk:Math.abs(a-s)/2*l/i,ratio:n.barPercentage,start:u}}(t,e,i,n):function(t,e,n,i){const o=n.barThickness;let r,s;return ny(o)?(r=e.min*n.categoryPercentage,s=n.barPercentage):(r=o*i,s=1),{chunk:r/i,ratio:s,start:e.pixels[t]-r/2}}(t,e,i,n),u=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0);s=l.start+l.chunk*u+l.chunk/2,a=Math.min(r,l.chunk*l.ratio)}else s=n.getPixelForValue(this.getParsed(t)[n.axis],t),a=Math.min(r,e.min*e.ratio);return{base:s-a/2,head:s+a/2,center:s,size:a}}draw(){const t=this._cachedMeta,e=t.vScale,n=t.data,i=n.length;let o=0;for(;o<i;++o)null!==this.getParsed(o)[e.axis]&&n[o].draw(this._ctx)}}Tb.id="bar",Tb.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},Tb.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class Ob extends wb{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,n,i){const o=super.parsePrimitiveData(t,e,n,i);for(let r=0;r<o.length;r++)o[r]._custom=this.resolveDataElementOptions(r+n).radius;return o}parseArrayData(t,e,n,i){const o=super.parseArrayData(t,e,n,i);for(let r=0;r<o.length;r++){const t=e[n+r];o[r]._custom=ay(t[2],this.resolveDataElementOptions(r+n).radius)}return o}parseObjectData(t,e,n,i){const o=super.parseObjectData(t,e,n,i);for(let r=0;r<o.length;r++){const t=e[n+r];o[r]._custom=ay(t&&t.r&&+t.r,this.resolveDataElementOptions(r+n).radius)}return o}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,{xScale:n,yScale:i}=e,o=this.getParsed(t),r=n.getLabelForValue(o.x),s=i.getLabelForValue(o.y),a=o._custom;return{label:e.label,value:"("+r+", "+s+(a?", "+a:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,n,i){const o="reset"===i,{iScale:r,vScale:s}=this._cachedMeta,a=this.resolveDataElementOptions(e,i),l=this.getSharedOptions(a),u=this.includeOptions(i,l),c=r.axis,h=s.axis;for(let p=e;p<e+n;p++){const e=t[p],n=!o&&this.getParsed(p),a={},l=a[c]=o?r.getPixelForDecimal(.5):r.getPixelForValue(n[c]),f=a[h]=o?s.getBasePixel():s.getPixelForValue(n[h]);a.skip=isNaN(l)||isNaN(f),u&&(a.options=this.resolveDataElementOptions(p,e.active?"active":i),o&&(a.options.radius=0)),this.updateElement(e,p,a,i)}this.updateSharedOptions(l,i,a)}resolveDataElementOptions(t,e){const n=this.getParsed(t);let i=super.resolveDataElementOptions(t,e);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const o=i.radius;return"active"!==e&&(i.radius=0),i.radius+=ay(n&&n._custom,o),i}}Ob.id="bubble",Ob.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},Ob.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title:()=>""}}}};class Ab extends wb{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const n=this.getDataset().data,i=this._cachedMeta;if(!1===this._parsing)i._parsed=n;else{let o,r,s=t=>+n[t];if(oy(n[t])){const{key:t="value"}=this._parsing;s=e=>+vy(n[e],t)}for(o=t,r=t+e;o<r;++o)i._parsed[o]=s(o)}}_getRotation(){return zy(this.options.rotation-90)}_getCircumference(){return zy(this.options.circumference)}_getRotationExtents(){let t=Sy,e=-Sy;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)){const i=this.chart.getDatasetMeta(n).controller,o=i._getRotation(),r=i._getCircumference();t=Math.min(t,o),e=Math.max(e,o+r)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:n}=e,i=this._cachedMeta,o=i.data,r=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,s=Math.max((Math.min(n.width,n.height)-r)/2,0),a=Math.min((l=this.options.cutout,u=s,"string"==typeof l&&l.endsWith("%")?parseFloat(l)/100:l/u),1);var l,u;const c=this._getRingWeight(this.index),{circumference:h,rotation:p}=this._getRotationExtents(),{ratioX:f,ratioY:d,offsetX:g,offsetY:_}=function(t,e,n){let i=1,o=1,r=0,s=0;if(e<Sy){const a=t,l=a+e,u=Math.cos(a),c=Math.sin(a),h=Math.cos(l),p=Math.sin(l),f=(t,e,i)=>Hy(t,a,l,!0)?1:Math.max(e,e*n,i,i*n),d=(t,e,i)=>Hy(t,a,l,!0)?-1:Math.min(e,e*n,i,i*n),g=f(0,u,h),_=f(My,c,p),m=d(Cy,u,h),y=d(Cy+My,c,p);i=(g-m)/2,o=(_-y)/2,r=-(g+m)/2,s=-(_+y)/2}return{ratioX:i,ratioY:o,offsetX:r,offsetY:s}}(p,h,a),m=(n.width-r)/f,y=(n.height-r)/d,v=Math.max(Math.min(m,y)/2,0),x=ly(this.options.radius,v),b=(x-Math.max(x*a,0))/this._getVisibleDatasetWeightTotal();this.offsetX=g*x,this.offsetY=_*x,i.total=this.calculateTotal(),this.outerRadius=x-b*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-b*c,0),this.updateElements(o,0,o.length,t)}_circumference(t,e){const n=this.options,i=this._cachedMeta,o=this._getCircumference();return e&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||null===i._parsed[t]||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*o/Sy)}updateElements(t,e,n,i){const o="reset"===i,r=this.chart,s=r.chartArea,a=r.options.animation,l=(s.left+s.right)/2,u=(s.top+s.bottom)/2,c=o&&a.animateScale,h=c?0:this.innerRadius,p=c?0:this.outerRadius,f=this.resolveDataElementOptions(e,i),d=this.getSharedOptions(f),g=this.includeOptions(i,d);let _,m=this._getRotation();for(_=0;_<e;++_)m+=this._circumference(_,o);for(_=e;_<e+n;++_){const e=this._circumference(_,o),n=t[_],r={x:l+this.offsetX,y:u+this.offsetY,startAngle:m,endAngle:m+e,circumference:e,outerRadius:p,innerRadius:h};g&&(r.options=d||this.resolveDataElementOptions(_,n.active?"active":i)),m+=e,this.updateElement(n,_,r,i)}this.updateSharedOptions(d,i,f)}calculateTotal(){const t=this._cachedMeta,e=t.data;let n,i=0;for(n=0;n<e.length;n++){const o=t._parsed[n];null===o||isNaN(o)||!this.chart.getDataVisibility(n)||e[n].hidden||(i+=Math.abs(o))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?Sy*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,i=n.data.labels||[],o=Xx(e._parsed[t],n.options.locale);return{label:i[t]||"",value:o}}getMaxBorderWidth(t){let e=0;const n=this.chart;let i,o,r,s,a;if(!t)for(i=0,o=n.data.datasets.length;i<o;++i)if(n.isDatasetVisible(i)){r=n.getDatasetMeta(i),t=r.data,s=r.controller;break}if(!t)return 0;for(i=0,o=t.length;i<o;++i)a=s.resolveDataElementOptions(i),"inner"!==a.borderAlign&&(e=Math.max(e,a.borderWidth||0,a.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let n=0,i=t.length;n<i;++n){const t=this.resolveDataElementOptions(n);e=Math.max(e,t.offset||0,t.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(e+=this._getRingWeight(n));return e}_getRingWeight(t){return Math.max(ay(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Ab.id="doughnut",Ab.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},Ab.descriptors={_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t},Ab.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n}}=t.legend.options;return e.labels.map(((e,i)=>{const o=t.getDatasetMeta(0).controller.getStyle(i);return{text:e,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,lineWidth:o.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(i),index:i}}))}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}},tooltip:{callbacks:{title:()=>"",label(t){let e=t.label;const n=": "+t.formattedValue;return iy(e)?(e=e.slice(),e[0]+=n):e+=n,e}}}}};class Rb extends wb{initialize(){this.enableOptionSharing=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:n,data:i=[],_dataset:o}=e,r=this.chart._animationsDisabled;let{start:s,count:a}=function(t,e,n){const i=e.length;let o=0,r=i;if(t._sorted){const{iScale:s,_parsed:a}=t,l=s.axis,{min:u,max:c,minDefined:h,maxDefined:p}=s.getUserBounds();h&&(o=Wy(Math.min(lx(a,s.axis,u).lo,n?i:lx(e,l,s.getPixelForValue(u)).lo),0,i-1)),r=p?Wy(Math.max(lx(a,s.axis,c).hi+1,n?0:lx(e,l,s.getPixelForValue(c)).hi+1),o,i)-o:i-o}return{start:o,count:r}}(e,i,r);this._drawStart=s,this._drawCount=a,function(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,o={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=o,!0;const r=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,o),r}(e)&&(s=0,a=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!o._decimated,n.points=i;const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(n,void 0,{animated:!r,options:l},t),this.updateElements(i,s,a,t)}updateElements(t,e,n,i){const o="reset"===i,{iScale:r,vScale:s,_stacked:a,_dataset:l}=this._cachedMeta,u=this.resolveDataElementOptions(e,i),c=this.getSharedOptions(u),h=this.includeOptions(i,c),p=r.axis,f=s.axis,{spanGaps:d,segment:g}=this.options,_=Dy(d)?d:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||o||"none"===i;let y=e>0&&this.getParsed(e-1);for(let v=e;v<e+n;++v){const e=t[v],n=this.getParsed(v),u=m?e:{},d=ny(n[f]),x=u[p]=r.getPixelForValue(n[p],v),b=u[f]=o||d?s.getBasePixel():s.getPixelForValue(a?this.applyStack(s,n,a):n[f],v);u.skip=isNaN(x)||isNaN(b)||d,u.stop=v>0&&n[p]-y[p]>_,g&&(u.parsed=n,u.raw=l.data[v]),h&&(u.options=c||this.resolveDataElementOptions(v,e.active?"active":i)),m||this.updateElement(e,v,u,i),y=n}this.updateSharedOptions(c,i,u)}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,n=e.options&&e.options.borderWidth||0,i=t.data||[];if(!i.length)return n;const o=i[0].size(this.resolveDataElementOptions(0)),r=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,o,r)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}Rb.id="line",Rb.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},Rb.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};class Db extends wb{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,i=n.data.labels||[],o=Xx(e._parsed[t].r,n.options.locale);return{label:i[t]||"",value:o}}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}_updateRadius(){const t=this.chart,e=t.chartArea,n=t.options,i=Math.min(e.right-e.left,e.bottom-e.top),o=Math.max(i/2,0),r=(o-Math.max(n.cutoutPercentage?o/100*n.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=o-r*this.index,this.innerRadius=this.outerRadius-r}updateElements(t,e,n,i){const o="reset"===i,r=this.chart,s=this.getDataset(),a=r.options.animation,l=this._cachedMeta.rScale,u=l.xCenter,c=l.yCenter,h=l.getIndexAngle(0)-.5*Cy;let p,f=h;const d=360/this.countVisibleElements();for(p=0;p<e;++p)f+=this._computeAngle(p,i,d);for(p=e;p<e+n;p++){const e=t[p];let n=f,g=f+this._computeAngle(p,i,d),_=r.getDataVisibility(p)?l.getDistanceFromCenterForValue(s.data[p]):0;f=g,o&&(a.animateScale&&(_=0),a.animateRotate&&(n=g=h));const m={x:u,y:c,innerRadius:0,outerRadius:_,startAngle:n,endAngle:g,options:this.resolveDataElementOptions(p,e.active?"active":i)};this.updateElement(e,p,m,i)}}countVisibleElements(){const t=this.getDataset(),e=this._cachedMeta;let n=0;return e.data.forEach(((e,i)=>{!isNaN(t.data[i])&&this.chart.getDataVisibility(i)&&n++})),n}_computeAngle(t,e,n){return this.chart.getDataVisibility(t)?zy(this.resolveDataElementOptions(t,e).angle||n):0}}Db.id="polarArea",Db.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},Db.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n}}=t.legend.options;return e.labels.map(((e,i)=>{const o=t.getDatasetMeta(0).controller.getStyle(i);return{text:e,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,lineWidth:o.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(i),index:i}}))}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}},tooltip:{callbacks:{title:()=>"",label:t=>t.chart.data.labels[t.dataIndex]+": "+t.formattedValue}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class kb extends Ab{}kb.id="pie",kb.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class Fb extends wb{getLabelAndValue(t){const e=this._cachedMeta.vScale,n=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(n[e.axis])}}update(t){const e=this._cachedMeta,n=e.dataset,i=e.data||[],o=e.iScale.getLabels();if(n.points=i,"resize"!==t){const e=this.resolveDatasetElementOptions(t);this.options.showLine||(e.borderWidth=0);const r={_loop:!0,_fullLoop:o.length===i.length,options:e};this.updateElement(n,void 0,r,t)}this.updateElements(i,0,i.length,t)}updateElements(t,e,n,i){const o=this.getDataset(),r=this._cachedMeta.rScale,s="reset"===i;for(let a=e;a<e+n;a++){const e=t[a],n=this.resolveDataElementOptions(a,e.active?"active":i),l=r.getPointPositionForValue(a,o.data[a]),u=s?r.xCenter:l.x,c=s?r.yCenter:l.y,h={x:u,y:c,angle:l.angle,skip:isNaN(u)||isNaN(c),options:n};this.updateElement(e,a,h,i)}}}Fb.id="radar",Fb.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},Fb.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};class zb extends Rb{}zb.id="scatter",zb.defaults={showLine:!1,fill:!1},zb.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title:()=>"",label:t=>"("+t.label+", "+t.formattedValue+")"}}},scales:{x:{type:"linear"},y:{type:"linear"}}};var Bb=Object.freeze({__proto__:null,BarController:Tb,BubbleController:Ob,DoughnutController:Ab,LineController:Rb,PolarAreaController:Db,PieController:kb,RadarController:Fb,ScatterController:zb});function jb(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Vb{constructor(t){this.options=t||{}}formats(){return jb()}parse(t,e){return jb()}format(t,e){return jb()}add(t,e,n){return jb()}diff(t,e,n){return jb()}startOf(t,e,n){return jb()}endOf(t,e){return jb()}}Vb.override=function(t){Object.assign(Vb.prototype,t)};var Gb={_date:Vb};function Ub(t,e){return"native"in t?{x:t.x,y:t.y}:Bx(t,e)}function qb(t,e,n,i){const{controller:o,data:r,_sorted:s}=t,a=o._cachedMeta.iScale;if(a&&e===a.axis&&"r"!==e&&s&&r.length){const t=a._reversePixels?ux:lx;if(!i)return t(r,e,n);if(o._sharedOptions){const i=r[0],o="function"==typeof i.getRange&&i.getRange(e);if(o){const i=t(r,e,n-o),s=t(r,e,n+o);return{lo:i.lo,hi:s.hi}}}}return{lo:0,hi:r.length-1}}function Hb(t,e,n,i,o){const r=t.getSortedVisibleDatasetMetas(),s=n[e];for(let a=0,l=r.length;a<l;++a){const{index:t,data:n}=r[a],{lo:l,hi:u}=qb(r[a],e,s,o);for(let e=l;e<=u;++e){const o=n[e];o.skip||i(o,t,e)}}}function Wb(t,e,n,i){const o=[];if(!Uv(e,t.chartArea,t._minPadding))return o;return Hb(t,n,e,(function(t,n,r){t.inRange(e.x,e.y,i)&&o.push({element:t,datasetIndex:n,index:r})}),!0),o}function Zb(t,e,n,i,o){let r=[];const s=function(t){const e=-1!==t.indexOf("x"),n=-1!==t.indexOf("y");return function(t,i){const o=e?Math.abs(t.x-i.x):0,r=n?Math.abs(t.y-i.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(r,2))}}(n);let a=Number.POSITIVE_INFINITY;return Hb(t,n,e,(function(n,l,u){const c=n.inRange(e.x,e.y,o);if(i&&!c)return;const h=n.getCenterPoint(o);if(!Uv(h,t.chartArea,t._minPadding)&&!c)return;const p=s(e,h);p<a?(r=[{element:n,datasetIndex:l,index:u}],a=p):p===a&&r.push({element:n,datasetIndex:l,index:u})})),r}function Yb(t,e,n,i,o){return Uv(e,t.chartArea,t._minPadding)?"r"!==n||i?Zb(t,e,n,i,o):function(t,e,n,i){let o=[];return Hb(t,n,e,(function(t,n,r){const{startAngle:s,endAngle:a}=t.getProps(["startAngle","endAngle"],i),{angle:l}=Vy(t,{x:e.x,y:e.y});Hy(l,s,a)&&o.push({element:t,datasetIndex:n,index:r})})),o}(t,e,n,o):[]}function Xb(t,e,n,i){const o=Ub(e,t),r=[],s=n.axis,a="x"===s?"inXRange":"inYRange";let l=!1;return function(t,e){const n=t.getSortedVisibleDatasetMetas();let i,o,r;for(let s=0,a=n.length;s<a;++s){({index:i,data:o}=n[s]);for(let t=0,n=o.length;t<n;++t)r=o[t],r.skip||e(r,i,t)}}(t,((t,e,n)=>{t[a](o[s],i)&&r.push({element:t,datasetIndex:e,index:n}),t.inRange(o.x,o.y,i)&&(l=!0)})),n.intersect&&!l?[]:r}var $b={modes:{index(t,e,n,i){const o=Ub(e,t),r=n.axis||"x",s=n.intersect?Wb(t,o,r,i):Yb(t,o,r,!1,i),a=[];return s.length?(t.getSortedVisibleDatasetMetas().forEach((t=>{const e=s[0].index,n=t.data[e];n&&!n.skip&&a.push({element:n,datasetIndex:t.index,index:e})})),a):[]},dataset(t,e,n,i){const o=Ub(e,t),r=n.axis||"xy";let s=n.intersect?Wb(t,o,r,i):Yb(t,o,r,!1,i);if(s.length>0){const e=s[0].datasetIndex,n=t.getDatasetMeta(e).data;s=[];for(let t=0;t<n.length;++t)s.push({element:n[t],datasetIndex:e,index:t})}return s},point:(t,e,n,i)=>Wb(t,Ub(e,t),n.axis||"xy",i),nearest:(t,e,n,i)=>Yb(t,Ub(e,t),n.axis||"xy",n.intersect,i),x:(t,e,n,i)=>Xb(t,e,{axis:"x",intersect:n.intersect},i),y:(t,e,n,i)=>Xb(t,e,{axis:"y",intersect:n.intersect},i)}};const Kb=["left","top","right","bottom"];function Jb(t,e){return t.filter((t=>t.pos===e))}function Qb(t,e){return t.filter((t=>-1===Kb.indexOf(t.pos)&&t.box.axis===e))}function tw(t,e){return t.sort(((t,n)=>{const i=e?n:t,o=e?t:n;return i.weight===o.weight?i.index-o.index:i.weight-o.weight}))}function ew(t,e){const n=function(t){const e={};for(const n of t){const{stack:t,pos:i,stackWeight:o}=n;if(!t||!Kb.includes(i))continue;const r=e[t]||(e[t]={count:0,placed:0,weight:0,size:0});r.count++,r.weight+=o}return e}(t),{vBoxMaxWidth:i,hBoxMaxHeight:o}=e;let r,s,a;for(r=0,s=t.length;r<s;++r){a=t[r];const{fullSize:s}=a.box,l=n[a.stack],u=l&&a.stackWeight/l.weight;a.horizontal?(a.width=u?u*i:s&&e.availableWidth,a.height=o):(a.width=i,a.height=u?u*o:s&&e.availableHeight)}return n}function nw(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function iw(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function ow(t,e,n,i){const{pos:o,box:r}=n,s=t.maxPadding;if(!oy(o)){n.size&&(t[o]-=n.size);const e=i[n.stack]||{size:0,count:1};e.size=Math.max(e.size,n.horizontal?r.height:r.width),n.size=e.size/e.count,t[o]+=n.size}r.getPadding&&iw(s,r.getPadding());const a=Math.max(0,e.outerWidth-nw(s,t,"left","right")),l=Math.max(0,e.outerHeight-nw(s,t,"top","bottom")),u=a!==t.w,c=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:u,other:c}:{same:c,other:u}}function rw(t,e){const n=e.maxPadding;function i(t){const i={left:0,top:0,right:0,bottom:0};return t.forEach((t=>{i[t]=Math.max(e[t],n[t])})),i}return i(t?["left","right"]:["top","bottom"])}function sw(t,e,n,i){const o=[];let r,s,a,l,u,c;for(r=0,s=t.length,u=0;r<s;++r){a=t[r],l=a.box,l.update(a.width||e.w,a.height||e.h,rw(a.horizontal,e));const{same:s,other:h}=ow(e,n,a,i);u|=s&&o.length,c=c||h,l.fullSize||o.push(a)}return u&&sw(o,e,n,i)||c}function aw(t,e,n,i,o){t.top=n,t.left=e,t.right=e+i,t.bottom=n+o,t.width=i,t.height=o}function lw(t,e,n,i){const o=n.padding;let{x:r,y:s}=e;for(const a of t){const t=a.box,l=i[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/l.weight||1;if(a.horizontal){const i=e.w*u,r=l.size||t.height;by(l.start)&&(s=l.start),t.fullSize?aw(t,o.left,s,n.outerWidth-o.right-o.left,r):aw(t,e.left+l.placed,s,i,r),l.start=s,l.placed+=i,s=t.bottom}else{const i=e.h*u,s=l.size||t.width;by(l.start)&&(r=l.start),t.fullSize?aw(t,r,o.top,s,n.outerHeight-o.bottom-o.top):aw(t,r,e.top+l.placed,s,i),l.start=r,l.placed+=i,r=t.right}}e.x=r,e.y=s}Fv.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var uw={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;-1!==n&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const o=ix(t.options.layout.padding),r=Math.max(e-o.width,0),s=Math.max(n-o.height,0),a=function(t){const e=function(t){const e=[];let n,i,o,r,s,a;for(n=0,i=(t||[]).length;n<i;++n)o=t[n],({position:r,options:{stack:s,stackWeight:a=1}}=o),e.push({index:n,box:o,pos:r,horizontal:o.isHorizontal(),weight:o.weight,stack:s&&r+s,stackWeight:a});return e}(t),n=tw(e.filter((t=>t.box.fullSize)),!0),i=tw(Jb(e,"left"),!0),o=tw(Jb(e,"right")),r=tw(Jb(e,"top"),!0),s=tw(Jb(e,"bottom")),a=Qb(e,"x"),l=Qb(e,"y");return{fullSize:n,leftAndTop:i.concat(r),rightAndBottom:o.concat(l).concat(s).concat(a),chartArea:Jb(e,"chartArea"),vertical:i.concat(o).concat(l),horizontal:r.concat(s).concat(a)}}(t.boxes),l=a.vertical,u=a.horizontal;cy(t.boxes,(t=>{"function"==typeof t.beforeLayout&&t.beforeLayout()}));const c=l.reduce(((t,e)=>e.box.options&&!1===e.box.options.display?t:t+1),0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:o,availableWidth:r,availableHeight:s,vBoxMaxWidth:r/2/c,hBoxMaxHeight:s/2}),p=Object.assign({},o);iw(p,ix(i));const f=Object.assign({maxPadding:p,w:r,h:s,x:o.left,y:o.top},o),d=ew(l.concat(u),h);sw(a.fullSize,f,h,d),sw(l,f,h,d),sw(u,f,h,d)&&sw(l,f,h,d),function(t){const e=t.maxPadding;function n(n){const i=Math.max(e[n]-t[n],0);return t[n]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}(f),lw(a.leftAndTop,f,h,d),f.x+=f.w,f.y+=f.h,lw(a.rightAndBottom,f,h,d),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},cy(a.chartArea,(e=>{const n=e.box;Object.assign(n,t.chartArea),n.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})}))}};class cw{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,n){}removeEventListener(t,e,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,n,i){return e=Math.max(0,e||t.width),n=n||t.height,{width:e,height:Math.max(0,i?Math.floor(e/i):n)}}isAttached(t){return!0}updateConfig(t){}}class hw extends cw{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const pw={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},fw=t=>null===t||""===t;const dw=!!Ux&&{passive:!0};function gw(t,e,n){t.canvas.removeEventListener(e,n,dw)}function _w(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function mw(t,e,n){const i=t.canvas,o=new MutationObserver((t=>{let e=!1;for(const n of t)e=e||_w(n.addedNodes,i),e=e&&!_w(n.removedNodes,i);e&&n()}));return o.observe(document,{childList:!0,subtree:!0}),o}function yw(t,e,n){const i=t.canvas,o=new MutationObserver((t=>{let e=!1;for(const n of t)e=e||_w(n.removedNodes,i),e=e&&!_w(n.addedNodes,i);e&&n()}));return o.observe(document,{childList:!0,subtree:!0}),o}const vw=new Map;let xw=0;function bw(){const t=window.devicePixelRatio;t!==xw&&(xw=t,vw.forEach(((e,n)=>{n.currentDevicePixelRatio!==t&&e()})))}function ww(t,e,n){const i=t.canvas,o=i&&Rx(i);if(!o)return;const r=Km(((t,e)=>{const i=o.clientWidth;n(t,e),i<o.clientWidth&&n()}),window),s=new ResizeObserver((t=>{const e=t[0],n=e.contentRect.width,i=e.contentRect.height;0===n&&0===i||r(n,i)}));return s.observe(o),function(t,e){vw.size||window.addEventListener("resize",bw),vw.set(t,e)}(t,r),s}function Ew(t,e,n){n&&n.disconnect(),"resize"===e&&function(t){vw.delete(t),vw.size||window.removeEventListener("resize",bw)}(t)}function Cw(t,e,n){const i=t.canvas,o=Km((e=>{null!==t.ctx&&n(function(t,e){const n=pw[t.type]||t.type,{x:i,y:o}=Bx(t,e);return{type:n,chart:e,native:t,x:void 0!==i?i:null,y:void 0!==o?o:null}}(e,t))}),t,(t=>{const e=t[0];return[e,e.offsetX,e.offsetY]}));return function(t,e,n){t.addEventListener(e,n,dw)}(i,e,o),o}class Sw extends cw{acquireContext(t,e){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(function(t,e){const n=t.style,i=t.getAttribute("height"),o=t.getAttribute("width");if(t.$chartjs={initial:{height:i,width:o,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",fw(o)){const e=qx(t,"width");void 0!==e&&(t.width=e)}if(fw(i))if(""===t.style.height)t.height=t.width/(e||2);else{const e=qx(t,"height");void 0!==e&&(t.height=e)}}(t,e),n):null}releaseContext(t){const e=t.canvas;if(!e.$chartjs)return!1;const n=e.$chartjs.initial;["height","width"].forEach((t=>{const i=n[t];ny(i)?e.removeAttribute(t):e.setAttribute(t,i)}));const i=n.style||{};return Object.keys(i).forEach((t=>{e.style[t]=i[t]})),e.width=e.width,delete e.$chartjs,!0}addEventListener(t,e,n){this.removeEventListener(t,e);const i=t.$proxies||(t.$proxies={}),o={attach:mw,detach:yw,resize:ww}[e]||Cw;i[e]=o(t,e,n)}removeEventListener(t,e){const n=t.$proxies||(t.$proxies={}),i=n[e];if(!i)return;({attach:Ew,detach:Ew,resize:Ew}[e]||gw)(t,e,i),n[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,n,i){return Vx(t,e,n,i)}isAttached(t){const e=Rx(t);return!(!e||!e.isConnected)}}function Iw(t){return!Ax()||"undefined"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas?hw:Sw}class Lw{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}hasValue(){return Dy(this.x)&&Dy(this.y)}getProps(t,e){const n=this.$animations;if(!e||!n)return this;const i={};return t.forEach((t=>{i[t]=n[t]&&n[t].active()?n[t]._to:this[t]})),i}}Lw.defaults={},Lw.defaultRoutes=void 0;const Pw={values:t=>iy(t)?t:""+t,numeric(t,e,n){if(0===t)return"0";const i=this.chart.options.locale;let o,r=t;if(n.length>1){const e=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(e<1e-4||e>1e15)&&(o="scientific"),r=function(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t));return n}(t,n)}const s=Oy(Math.abs(r)),a=Math.max(Math.min(-1*Math.floor(s),20),0),l={notation:o,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Xx(t,i,l)},logarithmic(t,e,n){if(0===t)return"0";const i=t/Math.pow(10,Math.floor(Oy(t)));return 1===i||2===i||5===i?Pw.numeric.call(this,t,e,n):""}};var Mw={formatters:Pw};function Nw(t,e){const n=t.options.ticks,i=n.maxTicksLimit||function(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),o=t._maxLength/n;return Math.floor(Math.min(i,o))}(t),o=n.major.enabled?function(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}(e):[],r=o.length,s=o[0],a=o[r-1],l=[];if(r>i)return function(t,e,n,i){let o,r=0,s=n[0];for(i=Math.ceil(i),o=0;o<t.length;o++)o===s&&(e.push(t[o]),r++,s=n[r*i])}(e,l,o,r/i),l;const u=function(t,e,n){const i=function(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}(t),o=e.length/n;if(!i)return Math.max(o,1);const r=function(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i==0&&(e.push(i),e.push(t/i));return n===(0|n)&&e.push(n),e.sort(((t,e)=>t-e)).pop(),e}(i);for(let s=0,a=r.length-1;s<a;s++){const t=r[s];if(t>o)return t}return Math.max(o,1)}(o,e,i);if(r>0){let t,n;const i=r>1?Math.round((a-s)/(r-1)):null;for(Tw(e,l,u,ny(i)?0:s-i,s),t=0,n=r-1;t<n;t++)Tw(e,l,u,o[t],o[t+1]);return Tw(e,l,u,a,ny(i)?e.length:a+i),l}return Tw(e,l,u),l}function Tw(t,e,n,i,o){const r=ay(i,0),s=Math.min(ay(o,t.length),t.length);let a,l,u,c=0;for(n=Math.ceil(n),o&&(a=o-i,n=a/Math.floor(a/n)),u=r;u<0;)c++,u=Math.round(r+c*n);for(l=Math.max(r,0);l<s;l++)l===u&&(e.push(t[l]),c++,u=Math.round(r+c*n))}Fv.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Mw.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),Fv.route("scale.ticks","color","","color"),Fv.route("scale.grid","color","","borderColor"),Fv.route("scale.grid","borderColor","","borderColor"),Fv.route("scale.title","color","","color"),Fv.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t}),Fv.describe("scales",{_fallback:"scale"}),Fv.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t});const Ow=(t,e,n)=>"top"===e||"left"===e?t[e]+n:t[e]-n;function Aw(t,e){const n=[],i=t.length/e,o=t.length;let r=0;for(;r<o;r+=i)n.push(t[Math.floor(r)]);return n}function Rw(t,e,n){const i=t.ticks.length,o=Math.min(e,i-1),r=t._startPixel,s=t._endPixel,a=1e-6;let l,u=t.getPixelForTick(o);if(!(n&&(l=1===i?Math.max(u-r,s-u):0===e?(t.getPixelForTick(1)-u)/2:(u-t.getPixelForTick(o-1))/2,u+=o<e?l:-l,u<r-a||u>s+a)))return u}function Dw(t){return t.drawTicks?t.tickLength:0}function kw(t,e){if(!t.display)return 0;const n=ox(t.font,e),i=ix(t.padding);return(iy(t.text)?t.text.length:1)*n.lineHeight+i.height}function Fw(t,e,n){let i=Jm(t);return(n&&"right"!==e||!n&&"right"===e)&&(i=(t=>"left"===t?"right":"right"===t?"left":t)(i)),i}class zw extends Lw{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:n,_suggestedMax:i}=this;return t=sy(t,Number.POSITIVE_INFINITY),e=sy(e,Number.NEGATIVE_INFINITY),n=sy(n,Number.POSITIVE_INFINITY),i=sy(i,Number.NEGATIVE_INFINITY),{min:sy(t,n),max:sy(e,i),minDefined:ry(t),maxDefined:ry(e)}}getMinMax(t){let e,{min:n,max:i,minDefined:o,maxDefined:r}=this.getUserBounds();if(o&&r)return{min:n,max:i};const s=this.getMatchingVisibleMetas();for(let a=0,l=s.length;a<l;++a)e=s[a].controller.getMinMax(this,t),o||(n=Math.min(n,e.min)),r||(i=Math.max(i,e.max));return n=r&&n>i?i:n,i=o&&n>i?n:i,{min:sy(n,sy(i,n)),max:sy(i,sy(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){uy(this.options.beforeUpdate,[this])}update(t,e,n){const{beginAtZero:i,grace:o,ticks:r}=this.options,s=r.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(t,e,n){const{min:i,max:o}=t,r=ly(e,(o-i)/2),s=(t,e)=>n&&0===t?0:t+e;return{min:s(i,-Math.abs(r)),max:s(o,r)}}(this,o,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const a=s<this.ticks.length;this._convertTicksToLabels(a?Aw(this.ticks,s):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),r.display&&(r.autoSkip||"auto"===r.source)&&(this.ticks=Nw(this,this.ticks),this._labelSizes=null),a&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,e,n=this.options.reverse;this.isHorizontal()?(t=this.left,e=this.right):(t=this.top,e=this.bottom,n=!n),this._startPixel=t,this._endPixel=e,this._reversePixels=n,this._length=e-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){uy(this.options.afterUpdate,[this])}beforeSetDimensions(){uy(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){uy(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),uy(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){uy(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let n,i,o;for(n=0,i=t.length;n<i;n++)o=t[n],o.label=uy(e.callback,[o.value,n,t],this)}afterTickToLabelConversion(){uy(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){uy(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,n=this.ticks.length,i=e.minRotation||0,o=e.maxRotation;let r,s,a,l=i;if(!this._isVisible()||!e.display||i>=o||n<=1||!this.isHorizontal())return void(this.labelRotation=i);const u=this._getLabelSizes(),c=u.widest.width,h=u.highest.height,p=Wy(this.chart.width-c,0,this.maxWidth);r=t.offset?this.maxWidth/n:p/(n-1),c+6>r&&(r=p/(n-(t.offset?.5:1)),s=this.maxHeight-Dw(t.grid)-e.padding-kw(t.title,this.chart.options.font),a=Math.sqrt(c*c+h*h),l=By(Math.min(Math.asin(Wy((u.highest.height+6)/r,-1,1)),Math.asin(Wy(s/a,-1,1))-Math.asin(Wy(h/a,-1,1)))),l=Math.max(i,Math.min(o,l))),this.labelRotation=l}afterCalculateLabelRotation(){uy(this.options.afterCalculateLabelRotation,[this])}beforeFit(){uy(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:n,title:i,grid:o}}=this,r=this._isVisible(),s=this.isHorizontal();if(r){const r=kw(i,e.options.font);if(s?(t.width=this.maxWidth,t.height=Dw(o)+r):(t.height=this.maxHeight,t.width=Dw(o)+r),n.display&&this.ticks.length){const{first:e,last:i,widest:o,highest:r}=this._getLabelSizes(),a=2*n.padding,l=zy(this.labelRotation),u=Math.cos(l),c=Math.sin(l);if(s){const e=n.mirror?0:c*o.width+u*r.height;t.height=Math.min(this.maxHeight,t.height+e+a)}else{const e=n.mirror?0:u*o.width+c*r.height;t.width=Math.min(this.maxWidth,t.width+e+a)}this._calculatePadding(e,i,c,u)}}this._handleMargins(),s?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,n,i){const{ticks:{align:o,padding:r},position:s}=this.options,a=0!==this.labelRotation,l="top"!==s&&"x"===this.axis;if(this.isHorizontal()){const s=this.getPixelForTick(0)-this.left,u=this.right-this.getPixelForTick(this.ticks.length-1);let c=0,h=0;a?l?(c=i*t.width,h=n*e.height):(c=n*t.height,h=i*e.width):"start"===o?h=e.width:"end"===o?c=t.width:(c=t.width/2,h=e.width/2),this.paddingLeft=Math.max((c-s+r)*this.width/(this.width-s),0),this.paddingRight=Math.max((h-u+r)*this.width/(this.width-u),0)}else{let n=e.height/2,i=t.height/2;"start"===o?(n=0,i=t.height):"end"===o&&(n=e.height,i=0),this.paddingTop=n+r,this.paddingBottom=i+r}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){uy(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,n=t.length;e<n;e++)ny(t[e].label)&&(t.splice(e,1),n--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let n=this.ticks;e<n.length&&(n=Aw(n,e)),this._labelSizes=t=this._computeLabelSizes(n,n.length)}return t}_computeLabelSizes(t,e){const{ctx:n,_longestTextCache:i}=this,o=[],r=[];let s,a,l,u,c,h,p,f,d,g,_,m=0,y=0;for(s=0;s<e;++s){if(u=t[s].label,c=this._resolveTickFontOptions(s),n.font=h=c.string,p=i[h]=i[h]||{data:{},gc:[]},f=c.lineHeight,d=g=0,ny(u)||iy(u)){if(iy(u))for(a=0,l=u.length;a<l;++a)_=u[a],ny(_)||iy(_)||(d=zv(n,p.data,p.gc,d,_),g+=f)}else d=zv(n,p.data,p.gc,d,u),g=f;o.push(d),r.push(g),m=Math.max(d,m),y=Math.max(g,y)}!function(t,e){cy(t,(t=>{const n=t.gc,i=n.length/2;let o;if(i>e){for(o=0;o<i;++o)delete t.data[n[o]];n.splice(0,i)}}))}(i,e);const v=o.indexOf(m),x=r.indexOf(y),b=t=>({width:o[t]||0,height:r[t]||0});return{first:b(0),last:b(e-1),widest:b(v),highest:b(x),widths:o,heights:r}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return Wy(this._alignToPixels?jv(this.chart,e,0):e,-32768,32767)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const n=e[t];return n.$context||(n.$context=function(t,e,n){return sx(t,{tick:n,index:e,type:"tick"})}(this.getContext(),t,n))}return this.$context||(this.$context=function(t,e){return sx(t,{scale:e,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=zy(this.labelRotation),n=Math.abs(Math.cos(e)),i=Math.abs(Math.sin(e)),o=this._getLabelSizes(),r=t.autoSkipPadding||0,s=o?o.widest.width+r:0,a=o?o.highest.height+r:0;return this.isHorizontal()?a*n>s*i?s/n:a/i:a*i<s*n?a/n:s/i}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,n=this.chart,i=this.options,{grid:o,position:r}=i,s=o.offset,a=this.isHorizontal(),l=this.ticks.length+(s?1:0),u=Dw(o),c=[],h=o.setContext(this.getContext()),p=h.drawBorder?h.borderWidth:0,f=p/2,d=function(t){return jv(n,t,p)};let g,_,m,y,v,x,b,w,E,C,S,I;if("top"===r)g=d(this.bottom),x=this.bottom-u,w=g-f,C=d(t.top)+f,I=t.bottom;else if("bottom"===r)g=d(this.top),C=t.top,I=d(t.bottom)-f,x=g+f,w=this.top+u;else if("left"===r)g=d(this.right),v=this.right-u,b=g-f,E=d(t.left)+f,S=t.right;else if("right"===r)g=d(this.left),E=t.left,S=d(t.right)-f,v=g+f,b=this.left+u;else if("x"===e){if("center"===r)g=d((t.top+t.bottom)/2+.5);else if(oy(r)){const t=Object.keys(r)[0],e=r[t];g=d(this.chart.scales[t].getPixelForValue(e))}C=t.top,I=t.bottom,x=g+f,w=x+u}else if("y"===e){if("center"===r)g=d((t.left+t.right)/2);else if(oy(r)){const t=Object.keys(r)[0],e=r[t];g=d(this.chart.scales[t].getPixelForValue(e))}v=g-f,b=v-u,E=t.left,S=t.right}const L=ay(i.ticks.maxTicksLimit,l),P=Math.max(1,Math.ceil(l/L));for(_=0;_<l;_+=P){const t=o.setContext(this.getContext(_)),e=t.lineWidth,i=t.color,r=o.borderDash||[],l=t.borderDashOffset,u=t.tickWidth,h=t.tickColor,p=t.tickBorderDash||[],f=t.tickBorderDashOffset;m=Rw(this,_,s),void 0!==m&&(y=jv(n,m,e),a?v=b=E=S=y:x=w=C=I=y,c.push({tx1:v,ty1:x,tx2:b,ty2:w,x1:E,y1:C,x2:S,y2:I,width:e,color:i,borderDash:r,borderDashOffset:l,tickWidth:u,tickColor:h,tickBorderDash:p,tickBorderDashOffset:f}))}return this._ticksLength=l,this._borderValue=g,c}_computeLabelItems(t){const e=this.axis,n=this.options,{position:i,ticks:o}=n,r=this.isHorizontal(),s=this.ticks,{align:a,crossAlign:l,padding:u,mirror:c}=o,h=Dw(n.grid),p=h+u,f=c?-u:p,d=-zy(this.labelRotation),g=[];let _,m,y,v,x,b,w,E,C,S,I,L,P="middle";if("top"===i)b=this.bottom-f,w=this._getXAxisLabelAlignment();else if("bottom"===i)b=this.top+f,w=this._getXAxisLabelAlignment();else if("left"===i){const t=this._getYAxisLabelAlignment(h);w=t.textAlign,x=t.x}else if("right"===i){const t=this._getYAxisLabelAlignment(h);w=t.textAlign,x=t.x}else if("x"===e){if("center"===i)b=(t.top+t.bottom)/2+p;else if(oy(i)){const t=Object.keys(i)[0],e=i[t];b=this.chart.scales[t].getPixelForValue(e)+p}w=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===i)x=(t.left+t.right)/2-p;else if(oy(i)){const t=Object.keys(i)[0],e=i[t];x=this.chart.scales[t].getPixelForValue(e)}w=this._getYAxisLabelAlignment(h).textAlign}"y"===e&&("start"===a?P="top":"end"===a&&(P="bottom"));const M=this._getLabelSizes();for(_=0,m=s.length;_<m;++_){y=s[_],v=y.label;const t=o.setContext(this.getContext(_));E=this.getPixelForTick(_)+o.labelOffset,C=this._resolveTickFontOptions(_),S=C.lineHeight,I=iy(v)?v.length:1;const e=I/2,n=t.color,a=t.textStrokeColor,u=t.textStrokeWidth;let h;if(r?(x=E,L="top"===i?"near"===l||0!==d?-I*S+S/2:"center"===l?-M.highest.height/2-e*S+S:-M.highest.height+S/2:"near"===l||0!==d?S/2:"center"===l?M.highest.height/2-e*S:M.highest.height-I*S,c&&(L*=-1)):(b=E,L=(1-I)*S/2),t.showLabelBackdrop){const e=ix(t.backdropPadding),n=M.heights[_],i=M.widths[_];let o=b+L-e.top,r=x-e.left;switch(P){case"middle":o-=n/2;break;case"bottom":o-=n}switch(w){case"center":r-=i/2;break;case"right":r-=i}h={left:r,top:o,width:i+e.width,height:n+e.height,color:t.backdropColor}}g.push({rotation:d,label:v,font:C,color:n,strokeColor:a,strokeWidth:u,textOffset:L,textAlign:w,textBaseline:P,translation:[x,b],backdrop:h})}return g}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-zy(this.labelRotation))return"top"===t?"left":"right";let n="center";return"start"===e.align?n="left":"end"===e.align&&(n="right"),n}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:n,mirror:i,padding:o}}=this.options,r=t+o,s=this._getLabelSizes().widest.width;let a,l;return"left"===e?i?(l=this.right+o,"near"===n?a="left":"center"===n?(a="center",l+=s/2):(a="right",l+=s)):(l=this.right-r,"near"===n?a="right":"center"===n?(a="center",l-=s/2):(a="left",l=this.left)):"right"===e?i?(l=this.left+o,"near"===n?a="right":"center"===n?(a="center",l-=s/2):(a="left",l-=s)):(l=this.left+r,"near"===n?a="left":"center"===n?(a="center",l+=s/2):(a="right",l=this.right)):a="right",{textAlign:a,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:n,top:i,width:o,height:r}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(n,i,o,r),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const n=this.ticks.findIndex((e=>e.value===t));if(n>=0){return e.setContext(this.getContext(n)).lineWidth}return 0}drawGrid(t){const e=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,r;const s=(t,e,i)=>{i.width&&i.color&&(n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.setLineDash(i.borderDash||[]),n.lineDashOffset=i.borderDashOffset,n.beginPath(),n.moveTo(t.x,t.y),n.lineTo(e.x,e.y),n.stroke(),n.restore())};if(e.display)for(o=0,r=i.length;o<r;++o){const t=i[o];e.drawOnChartArea&&s({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},t),e.drawTicks&&s({x:t.tx1,y:t.ty1},{x:t.tx2,y:t.ty2},{color:t.tickColor,width:t.tickWidth,borderDash:t.tickBorderDash,borderDashOffset:t.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{grid:n}}=this,i=n.setContext(this.getContext()),o=n.drawBorder?i.borderWidth:0;if(!o)return;const r=n.setContext(this.getContext(0)).lineWidth,s=this._borderValue;let a,l,u,c;this.isHorizontal()?(a=jv(t,this.left,o)-o/2,l=jv(t,this.right,r)+r/2,u=c=s):(u=jv(t,this.top,o)-o/2,c=jv(t,this.bottom,r)+r/2,a=l=s),e.save(),e.lineWidth=i.borderWidth,e.strokeStyle=i.borderColor,e.beginPath(),e.moveTo(a,u),e.lineTo(l,c),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const e=this.ctx,n=this._computeLabelArea();n&&qv(e,n);const i=this._labelItems||(this._labelItems=this._computeLabelItems(t));let o,r;for(o=0,r=i.length;o<r;++o){const t=i[o],n=t.font,r=t.label;t.backdrop&&(e.fillStyle=t.backdrop.color,e.fillRect(t.backdrop.left,t.backdrop.top,t.backdrop.width,t.backdrop.height)),Yv(e,r,0,t.textOffset,n,t)}n&&Hv(e)}drawTitle(){const{ctx:t,options:{position:e,title:n,reverse:i}}=this;if(!n.display)return;const o=ox(n.font),r=ix(n.padding),s=n.align;let a=o.lineHeight/2;"bottom"===e||"center"===e||oy(e)?(a+=r.bottom,iy(n.text)&&(a+=o.lineHeight*(n.text.length-1))):a+=r.top;const{titleX:l,titleY:u,maxWidth:c,rotation:h}=function(t,e,n,i){const{top:o,left:r,bottom:s,right:a,chart:l}=t,{chartArea:u,scales:c}=l;let h,p,f,d=0;const g=s-o,_=a-r;if(t.isHorizontal()){if(p=Qm(i,r,a),oy(n)){const t=Object.keys(n)[0],i=n[t];f=c[t].getPixelForValue(i)+g-e}else f="center"===n?(u.bottom+u.top)/2+g-e:Ow(t,n,e);h=a-r}else{if(oy(n)){const t=Object.keys(n)[0],i=n[t];p=c[t].getPixelForValue(i)-_+e}else p="center"===n?(u.left+u.right)/2-_+e:Ow(t,n,e);f=Qm(i,s,o),d="left"===n?-My:My}return{titleX:p,titleY:f,maxWidth:h,rotation:d}}(this,a,e,s);Yv(t,n.text,0,0,o,{color:n.color,maxWidth:c,rotation:h,textAlign:Fw(s,e,i),textBaseline:"middle",translation:[l,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,n=ay(t.grid&&t.grid.z,-1);return this._isVisible()&&this.draw===zw.prototype.draw?[{z:n,draw:t=>{this.drawBackground(),this.drawGrid(t),this.drawTitle()}},{z:n+1,draw:()=>{this.drawBorder()}},{z:e,draw:t=>{this.drawLabels(t)}}]:[{z:e,draw:t=>{this.draw(t)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let o,r;for(o=0,r=e.length;o<r;++o){const r=e[o];r[n]!==this.id||t&&r.type!==t||i.push(r)}return i}_resolveTickFontOptions(t){return ox(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Bw{constructor(t,e,n){this.type=t,this.scope=e,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let n;(function(t){return"id"in t&&"defaults"in t})(e)&&(n=this.register(e));const i=this.items,o=t.id,r=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in i||(i[o]=t,function(t,e,n){const i=gy(Object.create(null),[n?Fv.get(n):{},Fv.get(e),t.defaults]);Fv.set(e,i),t.defaultRoutes&&function(t,e){Object.keys(e).forEach((n=>{const i=n.split("."),o=i.pop(),r=[t].concat(i).join("."),s=e[n].split("."),a=s.pop(),l=s.join(".");Fv.route(r,o,l,a)}))}(e,t.defaultRoutes);t.descriptors&&Fv.describe(e,t.descriptors)}(t,r,n),this.override&&Fv.override(t.id,t.overrides)),r}get(t){return this.items[t]}unregister(t){const e=this.items,n=t.id,i=this.scope;n in e&&delete e[n],i&&n in Fv[i]&&(delete Fv[i][n],this.override&&delete Av[n])}}var jw=new class{constructor(){this.controllers=new Bw(wb,"datasets",!0),this.elements=new Bw(Lw,"elements"),this.plugins=new Bw(Object,"plugins"),this.scales=new Bw(zw,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,n){[...e].forEach((e=>{const i=n||this._getRegistryForType(e);n||i.isForType(e)||i===this.plugins&&e.id?this._exec(t,i,e):cy(e,(e=>{const i=n||this._getRegistryForType(e);this._exec(t,i,e)}))}))}_exec(t,e,n){const i=xy(t);uy(n["before"+i],[],n),e[t](n),uy(n["after"+i],[],n)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const n=this._typedRegistries[e];if(n.isForType(t))return n}return this.plugins}_get(t,e,n){const i=e.get(t);if(void 0===i)throw new Error('"'+t+'" is not a registered '+n+".");return i}};class Vw{constructor(){this._init=[]}notify(t,e,n,i){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=i?this._descriptors(t).filter(i):this._descriptors(t),r=this._notify(o,t,e,n);return"afterDestroy"===e&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),r}_notify(t,e,n,i){i=i||{};for(const o of t){const t=o.plugin;if(!1===uy(t[n],[e,i,o.options],t)&&i.cancelable)return!1}return!0}invalidate(){ny(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const n=t&&t.config,i=ay(n.options&&n.options.plugins,{}),o=function(t){const e=[],n=Object.keys(jw.plugins.items);for(let o=0;o<n.length;o++)e.push(jw.getPlugin(n[o]));const i=t.plugins||[];for(let o=0;o<i.length;o++){const t=i[o];-1===e.indexOf(t)&&e.push(t)}return e}(n);return!1!==i||e?function(t,e,n,i){const o=[],r=t.getContext();for(let s=0;s<e.length;s++){const a=e[s],l=Gw(n[a.id],i);null!==l&&o.push({plugin:a,options:Uw(t.config,a,l,r)})}return o}(t,o,i,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],n=this._cache,i=(t,e)=>t.filter((t=>!e.some((e=>t.plugin.id===e.plugin.id))));this._notify(i(e,n),t,"stop"),this._notify(i(n,e),t,"start")}}function Gw(t,e){return e||!1!==t?!0===t?{}:t:null}function Uw(t,e,n,i){const o=t.pluginScopeKeys(e),r=t.getOptionScopes(n,o);return t.createResolver(r,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function qw(t,e){const n=Fv.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function Hw(t,e){return"x"===t||"y"===t?t:e.axis||("top"===(n=e.position)||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0)||t.charAt(0).toLowerCase();var n}function Ww(t){const e=t.options||(t.options={});e.plugins=ay(e.plugins,{}),e.scales=function(t,e){const n=Av[t.type]||{scales:{}},i=e.scales||{},o=qw(t.type,e),r=Object.create(null),s=Object.create(null);return Object.keys(i).forEach((t=>{const e=i[t];if(!oy(e))return console.error(`Invalid scale configuration for scale: ${t}`);if(e._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${t}`);const a=Hw(t,e),l=function(t,e){return t===e?"_index_":"_value_"}(a,o),u=n.scales||{};r[a]=r[a]||t,s[t]=_y(Object.create(null),[{axis:a},e,u[a],u[l]])})),t.data.datasets.forEach((n=>{const o=n.type||t.type,a=n.indexAxis||qw(o,e),l=(Av[o]||{}).scales||{};Object.keys(l).forEach((t=>{const e=function(t,e){let n=t;return"_index_"===t?n=e:"_value_"===t&&(n="x"===e?"y":"x"),n}(t,a),o=n[e+"AxisID"]||r[e]||e;s[o]=s[o]||Object.create(null),_y(s[o],[{axis:e},i[o],l[t]])}))})),Object.keys(s).forEach((t=>{const e=s[t];_y(e,[Fv.scales[e.type],Fv.scale])})),s}(t,e)}function Zw(t){return(t=t||{}).datasets=t.datasets||[],t.labels=t.labels||[],t}const Yw=new Map,Xw=new Set;function $w(t,e){let n=Yw.get(t);return n||(n=e(),Yw.set(t,n),Xw.add(n)),n}const Kw=(t,e,n)=>{const i=vy(e,n);void 0!==i&&t.add(i)};class Jw{constructor(t){this._config=function(t){return(t=t||{}).data=Zw(t.data),Ww(t),t}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Zw(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Ww(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return $w(t,(()=>[[`datasets.${t}`,""]]))}datasetAnimationScopeKeys(t,e){return $w(`${t}.transition.${e}`,(()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]]))}datasetElementScopeKeys(t,e){return $w(`${t}-${e}`,(()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]]))}pluginScopeKeys(t){const e=t.id;return $w(`${this.type}-plugin-${e}`,(()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]]))}_cachedScopes(t,e){const n=this._scopeCache;let i=n.get(t);return i&&!e||(i=new Map,n.set(t,i)),i}getOptionScopes(t,e,n){const{options:i,type:o}=this,r=this._cachedScopes(t,n),s=r.get(e);if(s)return s;const a=new Set;e.forEach((e=>{t&&(a.add(t),e.forEach((e=>Kw(a,t,e)))),e.forEach((t=>Kw(a,i,t))),e.forEach((t=>Kw(a,Av[o]||{},t))),e.forEach((t=>Kw(a,Fv,t))),e.forEach((t=>Kw(a,Rv,t)))}));const l=Array.from(a);return 0===l.length&&l.push(Object.create(null)),Xw.has(e)&&r.set(e,l),l}chartOptionScopes(){const{options:t,type:e}=this;return[t,Av[e]||{},Fv.datasets[e]||{},{type:e},Fv,Rv]}resolveNamedOptions(t,e,n,i=[""]){const o={$shared:!0},{resolver:r,subPrefixes:s}=Qw(this._resolverCache,t,i);let a=r;if(function(t,e){const{isScriptable:n,isIndexable:i}=gx(t);for(const o of e){const e=n(o),r=i(o),s=(r||e)&&t[o];if(e&&(wy(s)||tE(s))||r&&iy(s))return!0}return!1}(r,e)){o.$shared=!1;a=dx(r,n=wy(n)?n():n,this.createResolver(t,n,s))}for(const l of e)o[l]=a[l];return o}createResolver(t,e,n=[""],i){const{resolver:o}=Qw(this._resolverCache,t,n);return oy(e)?dx(o,e,void 0,i):o}}function Qw(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const o=n.join();let r=i.get(o);if(!r){r={resolver:fx(e,n),subPrefixes:n.filter((t=>!t.toLowerCase().includes("hover")))},i.set(o,r)}return r}const tE=t=>oy(t)&&Object.getOwnPropertyNames(t).reduce(((e,n)=>e||wy(t[n])),!1);const eE=["top","bottom","left","right","chartArea"];function nE(t,e){return"top"===t||"bottom"===t||-1===eE.indexOf(t)&&"x"===e}function iE(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function oE(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),uy(n&&n.onComplete,[t],e)}function rE(t){const e=t.chart,n=e.options.animation;uy(n&&n.onProgress,[t],e)}function sE(t){return Ax()&&"string"==typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const aE={},lE=t=>{const e=sE(t);return Object.values(aE).filter((t=>t.canvas===e)).pop()};function uE(t,e,n){const i=Object.keys(t);for(const o of i){const i=+o;if(i>=e){const r=t[o];delete t[o],(n>0||i>e)&&(t[i+n]=r)}}}class cE{constructor(t,e){const n=this.config=new Jw(e),i=sE(t),o=lE(i);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas can be reused.");const r=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||Iw(i)),this.platform.updateConfig(n);const s=this.platform.acquireContext(i,r.aspectRatio),a=s&&s.canvas,l=a&&a.height,u=a&&a.width;this.id=ey(),this.ctx=s,this.canvas=a,this.width=u,this.height=l,this._options=r,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Vw,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}((t=>this.update(t)),r.resizeDelay||0),this._dataChanges=[],aE[this.id]=this,s&&a?(sb.listen(this,"complete",oE),sb.listen(this,"progress",rE),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:n,height:i,_aspectRatio:o}=this;return ny(t)?e&&o?o:i?n/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Gx(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Vv(this.canvas,this.ctx),this}stop(){return sb.stop(this),this}resize(t,e){sb.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const n=this.options,i=this.canvas,o=n.maintainAspectRatio&&this.aspectRatio,r=this.platform.getMaximumSize(i,t,e,o),s=n.devicePixelRatio||this.platform.getDevicePixelRatio(),a=this.width?"resize":"attach";this.width=r.width,this.height=r.height,this._aspectRatio=this.aspectRatio,Gx(this,s,!0)&&(this.notifyPlugins("resize",{size:r}),uy(n.onResize,[this,r],this),this.attached&&this._doResize(a)&&this.render())}ensureScalesHaveIDs(){cy(this.options.scales||{},((t,e)=>{t.id=e}))}buildOrUpdateScales(){const t=this.options,e=t.scales,n=this.scales,i=Object.keys(n).reduce(((t,e)=>(t[e]=!1,t)),{});let o=[];e&&(o=o.concat(Object.keys(e).map((t=>{const n=e[t],i=Hw(t,n),o="r"===i,r="x"===i;return{options:n,dposition:o?"chartArea":r?"bottom":"left",dtype:o?"radialLinear":r?"category":"linear"}})))),cy(o,(e=>{const o=e.options,r=o.id,s=Hw(r,o),a=ay(o.type,e.dtype);void 0!==o.position&&nE(o.position,s)===nE(e.dposition)||(o.position=e.dposition),i[r]=!0;let l=null;if(r in n&&n[r].type===a)l=n[r];else{l=new(jw.getScale(a))({id:r,type:a,ctx:this.ctx,chart:this}),n[l.id]=l}l.init(o,t)})),cy(i,((t,e)=>{t||delete n[e]})),cy(n,(t=>{uw.configure(this,t,t.options),uw.addBox(this,t)}))}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,n=t.length;if(t.sort(((t,e)=>t.index-e.index)),n>e){for(let t=e;t<n;++t)this._destroyDatasetMeta(t);t.splice(e,n-e)}this._sortedMetasets=t.slice(0).sort(iE("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach(((t,n)=>{0===e.filter((e=>e===t._dataset)).length&&this._destroyDatasetMeta(n)}))}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=e.length;n<i;n++){const i=e[n];let o=this.getDatasetMeta(n);const r=i.type||this.config.type;if(o.type&&o.type!==r&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=r,o.indexAxis=i.indexAxis||qw(r,this.options),o.order=i.order||0,o.index=n,o.label=""+i.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{const e=jw.getController(r),{datasetElementType:i,dataElementType:s}=Fv.datasets[r];Object.assign(e.prototype,{dataElementType:jw.getElement(s),datasetElementType:i&&jw.getElement(i)}),o.controller=new e(this,n),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){cy(this.data.datasets,((t,e)=>{this.getDatasetMeta(e).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const n=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let r=0;for(let l=0,u=this.data.datasets.length;l<u;l++){const{controller:t}=this.getDatasetMeta(l),e=!i&&-1===o.indexOf(t);t.buildOrUpdateElements(e),r=Math.max(+t.getMaxOverflow(),r)}r=this._minPadding=n.layout.autoPadding?r:0,this._updateLayout(r),i||cy(o,(t=>{t.reset()})),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(iE("z","_idx"));const{_active:s,_lastEvent:a}=this;a?this._eventHandler(a,!0):s.length&&this._updateHoverStyles(s,s,!0),this.render()}_updateScales(){cy(this.scales,(t=>{uw.removeBox(this,t)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),n=new Set(t.events);Ey(e,n)&&!!this._responsiveListeners===t.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:o}of e){uE(t,i,"_removeElements"===n?-o:o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,n=e=>new Set(t.filter((t=>t[0]===e)).map(((t,e)=>e+","+t.splice(1).join(",")))),i=n(0);for(let o=1;o<e;o++)if(!Ey(i,n(o)))return;return Array.from(i).map((t=>t.split(","))).map((t=>({method:t[1],start:+t[2],count:+t[3]})))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;uw.update(this,this.width,this.height,t);const e=this.chartArea,n=e.width<=0||e.height<=0;this._layers=[],cy(this.boxes,(t=>{n&&"chartArea"===t.position||(t.configure&&t.configure(),this._layers.push(...t._layers()))}),this),this._layers.forEach(((t,e)=>{t._idx=e})),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let t=0,e=this.data.datasets.length;t<e;++t)this.getDatasetMeta(t).controller.configure();for(let e=0,n=this.data.datasets.length;e<n;++e)this._updateDataset(e,wy(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const n=this.getDatasetMeta(t),i={meta:n,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",i)&&(n.controller._update(e),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(sb.has(this)?this.attached&&!sb.running(this)&&sb.start(this):(this.draw(),oE({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:t,height:e}=this._resizeBeforeDraw;this._resize(t,e),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,n=[];let i,o;for(i=0,o=e.length;i<o;++i){const o=e[i];t&&!o.visible||n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,n=t._clip,i=!n.disabled,o=this.chartArea,r={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",r)&&(i&&qv(e,{left:!1===n.left?0:o.left-n.left,right:!1===n.right?this.width:o.right+n.right,top:!1===n.top?0:o.top-n.top,bottom:!1===n.bottom?this.height:o.bottom+n.bottom}),t.controller.draw(),i&&Hv(e),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}getElementsAtEventForMode(t,e,n,i){const o=$b.modes[e];return"function"==typeof o?o(this,t,n,i):[]}getDatasetMeta(t){const e=this.data.datasets[t],n=this._metasets;let i=n.filter((t=>t&&t._dataset===e)).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=sx(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const n=this.getDatasetMeta(t);return"boolean"==typeof n.hidden?!n.hidden:!e.hidden}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,n){const i=n?"show":"hide",o=this.getDatasetMeta(t),r=o.controller._resolveAnimations(void 0,i);by(e)?(o.data[e].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),r.update(o,{visible:n}),this.update((e=>e.datasetIndex===t?i:void 0)))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),sb.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Vv(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete aE[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,n=(n,i)=>{e.addEventListener(this,n,i),t[n]=i},i=(t,e,n)=>{t.offsetX=e,t.offsetY=n,this._eventHandler(t)};cy(this.options.events,(t=>n(t,i)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,n=(n,i)=>{e.addEventListener(this,n,i),t[n]=i},i=(n,i)=>{t[n]&&(e.removeEventListener(this,n,i),delete t[n])},o=(t,e)=>{this.canvas&&this.resize(t,e)};let r;const s=()=>{i("attach",s),this.attached=!0,this.resize(),n("resize",o),n("detach",r)};r=()=>{this.attached=!1,i("resize",o),this._stop(),this._resize(0,0),n("attach",s)},e.isAttached(this.canvas)?s():r()}unbindEvents(){cy(this._listeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._listeners={},cy(this._responsiveListeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._responsiveListeners=void 0}updateHoverStyle(t,e,n){const i=n?"set":"remove";let o,r,s,a;for("dataset"===e&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+i+"DatasetHoverStyle"]()),s=0,a=t.length;s<a;++s){r=t[s];const e=r&&this.getDatasetMeta(r.datasetIndex).controller;e&&e[i+"HoverStyle"](r.element,r.datasetIndex,r.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],n=t.map((({datasetIndex:t,index:e})=>{const n=this.getDatasetMeta(t);if(!n)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:n.data[e],index:e}}));!hy(n,e)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,e))}notifyPlugins(t,e,n){return this._plugins.notify(this,t,e,n)}_updateHoverStyles(t,e,n){const i=this.options.hover,o=(t,e)=>t.filter((t=>!e.some((e=>t.datasetIndex===e.datasetIndex&&t.index===e.index)))),r=o(e,t),s=n?t:o(t,e);r.length&&this.updateHoverStyle(r,i.mode,!1),s.length&&i.mode&&this.updateHoverStyle(s,i.mode,!0)}_eventHandler(t,e){const n={event:t,replay:e,cancelable:!0,inChartArea:Uv(t,this.chartArea,this._minPadding)},i=e=>(e.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",n,i))return;const o=this._handleEvent(t,e,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(o||n.changed)&&this.render(),this}_handleEvent(t,e,n){const{_active:i=[],options:o}=this,r=e,s=this._getActiveElements(t,i,n,r),a=function(t){return"mouseup"===t.type||"click"===t.type||"contextmenu"===t.type}(t),l=function(t,e,n,i){return n&&"mouseout"!==t.type?i?e:t:null}(t,this._lastEvent,n,a);n&&(this._lastEvent=null,uy(o.onHover,[t,s,this],this),a&&uy(o.onClick,[t,s,this],this));const u=!hy(s,i);return(u||e)&&(this._active=s,this._updateHoverStyles(s,i,e)),this._lastEvent=l,u}_getActiveElements(t,e,n,i){if("mouseout"===t.type)return[];if(!n)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,i)}}const hE=()=>cy(cE.instances,(t=>t._plugins.invalidate()));function pE(t,e,n){const{startAngle:i,pixelMargin:o,x:r,y:s,outerRadius:a,innerRadius:l}=e;let u=o/a;t.beginPath(),t.arc(r,s,a,i-u,n+u),l>o?(u=o/l,t.arc(r,s,l,n+u,i-u,!0)):t.arc(r,s,o,n+My,i-My),t.closePath(),t.clip()}function fE(t,e,n,i){const o=tx(t.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const r=(n-e)/2,s=Math.min(r,i*e/2),a=t=>{const e=(n-Math.min(r,t))*i/2;return Wy(t,0,Math.min(r,e))};return{outerStart:a(o.outerStart),outerEnd:a(o.outerEnd),innerStart:Wy(o.innerStart,0,s),innerEnd:Wy(o.innerEnd,0,s)}}function dE(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function gE(t,e,n,i,o){const{x:r,y:s,startAngle:a,pixelMargin:l,innerRadius:u}=e,c=Math.max(e.outerRadius+i+n-l,0),h=u>0?u+i+n+l:0;let p=0;const f=o-a;if(i){const t=((u>0?u-i:0)+(c>0?c-i:0))/2;p=(f-(0!==t?f*t/(t+i):f))/2}const d=(f-Math.max(.001,f*c-n/Cy)/c)/2,g=a+d+p,_=o-d-p,{outerStart:m,outerEnd:y,innerStart:v,innerEnd:x}=fE(e,h,c,_-g),b=c-m,w=c-y,E=g+m/b,C=_-y/w,S=h+v,I=h+x,L=g+v/S,P=_-x/I;if(t.beginPath(),t.arc(r,s,c,E,C),y>0){const e=dE(w,C,r,s);t.arc(e.x,e.y,y,C,_+My)}const M=dE(I,_,r,s);if(t.lineTo(M.x,M.y),x>0){const e=dE(I,P,r,s);t.arc(e.x,e.y,x,_+My,P+Math.PI)}if(t.arc(r,s,h,_-x/h,g+v/h,!0),v>0){const e=dE(S,L,r,s);t.arc(e.x,e.y,v,L+Math.PI,g-My)}const N=dE(b,g,r,s);if(t.lineTo(N.x,N.y),m>0){const e=dE(b,E,r,s);t.arc(e.x,e.y,m,g-My,E)}t.closePath()}function _E(t,e,n,i,o){const{options:r}=e,{borderWidth:s,borderJoinStyle:a}=r,l="inner"===r.borderAlign;s&&(l?(t.lineWidth=2*s,t.lineJoin=a||"round"):(t.lineWidth=s,t.lineJoin=a||"bevel"),e.fullCircles&&function(t,e,n){const{x:i,y:o,startAngle:r,pixelMargin:s,fullCircles:a}=e,l=Math.max(e.outerRadius-s,0),u=e.innerRadius+s;let c;for(n&&pE(t,e,r+Sy),t.beginPath(),t.arc(i,o,u,r+Sy,r,!0),c=0;c<a;++c)t.stroke();for(t.beginPath(),t.arc(i,o,l,r,r+Sy),c=0;c<a;++c)t.stroke()}(t,e,l),l&&pE(t,e,o),gE(t,e,n,i,o),t.stroke())}Object.defineProperties(cE,{defaults:{enumerable:true,value:Fv},instances:{enumerable:true,value:aE},overrides:{enumerable:true,value:Av},registry:{enumerable:true,value:jw},version:{enumerable:true,value:"3.7.0"},getChart:{enumerable:true,value:lE},register:{enumerable:true,value:(...t)=>{jw.add(...t),hE()}},unregister:{enumerable:true,value:(...t)=>{jw.remove(...t),hE()}}});class mE extends Lw{constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,n){const i=this.getProps(["x","y"],n),{angle:o,distance:r}=Vy(i,{x:t,y:e}),{startAngle:s,endAngle:a,innerRadius:l,outerRadius:u,circumference:c}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),h=this.options.spacing/2,p=ay(c,a-s)>=Sy||Hy(o,s,a),f=Zy(r,l+h,u+h);return p&&f}getCenterPoint(t){const{x:e,y:n,startAngle:i,endAngle:o,innerRadius:r,outerRadius:s}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],t),{offset:a,spacing:l}=this.options,u=(i+o)/2,c=(r+s+l+a)/2;return{x:e+Math.cos(u)*c,y:n+Math.sin(u)*c}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:n}=this,i=(e.offset||0)/2,o=(e.spacing||0)/2;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=n>Sy?Math.floor(n/Sy):0,0===n||this.innerRadius<0||this.outerRadius<0)return;t.save();let r=0;if(i){r=i/2;const e=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(e)*r,Math.sin(e)*r),this.circumference>=Cy&&(r=i)}t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor;const s=function(t,e,n,i){const{fullCircles:o,startAngle:r,circumference:s}=e;let a=e.endAngle;if(o){gE(t,e,n,i,r+Sy);for(let e=0;e<o;++e)t.fill();isNaN(s)||(a=r+s%Sy,s%Sy==0&&(a+=Sy))}return gE(t,e,n,i,a),t.fill(),a}(t,this,r,o);_E(t,this,r,o,s),t.restore()}}function yE(t,e,n=e){t.lineCap=ay(n.borderCapStyle,e.borderCapStyle),t.setLineDash(ay(n.borderDash,e.borderDash)),t.lineDashOffset=ay(n.borderDashOffset,e.borderDashOffset),t.lineJoin=ay(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=ay(n.borderWidth,e.borderWidth),t.strokeStyle=ay(n.borderColor,e.borderColor)}function vE(t,e,n){t.lineTo(n.x,n.y)}function xE(t,e,n={}){const i=t.length,{start:o=0,end:r=i-1}=n,{start:s,end:a}=e,l=Math.max(o,s),u=Math.min(r,a),c=o<s&&r<s||o>a&&r>a;return{count:i,start:l,loop:e.loop,ilen:u<l&&!c?i+u-l:u-l}}function bE(t,e,n,i){const{points:o,options:r}=e,{count:s,start:a,loop:l,ilen:u}=xE(o,n,i),c=function(t){return t.stepped?Wv:t.tension||"monotone"===t.cubicInterpolationMode?Zv:vE}(r);let h,p,f,{move:d=!0,reverse:g}=i||{};for(h=0;h<=u;++h)p=o[(a+(g?u-h:h))%s],p.skip||(d?(t.moveTo(p.x,p.y),d=!1):c(t,f,p,g,r.stepped),f=p);return l&&(p=o[(a+(g?u:0))%s],c(t,f,p,g,r.stepped)),!!l}function wE(t,e,n,i){const o=e.points,{count:r,start:s,ilen:a}=xE(o,n,i),{move:l=!0,reverse:u}=i||{};let c,h,p,f,d,g,_=0,m=0;const y=t=>(s+(u?a-t:t))%r,v=()=>{f!==d&&(t.lineTo(_,d),t.lineTo(_,f),t.lineTo(_,g))};for(l&&(h=o[y(0)],t.moveTo(h.x,h.y)),c=0;c<=a;++c){if(h=o[y(c)],h.skip)continue;const e=h.x,n=h.y,i=0|e;i===p?(n<f?f=n:n>d&&(d=n),_=(m*_+e)/++m):(v(),t.lineTo(e,n),p=i,m=0,f=d=n),g=n}v()}function EE(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!(t._decimated||t._loop||e.tension||"monotone"===e.cubicInterpolationMode||e.stepped||n)?wE:bE}mE.id="arc",mE.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0},mE.defaultRoutes={backgroundColor:"backgroundColor"};const CE="function"==typeof Path2D;function SE(t,e,n,i){CE&&!e.options.segment?function(t,e,n,i){let o=e._path;o||(o=e._path=new Path2D,e.path(o,n,i)&&o.closePath()),yE(t,e.options),t.stroke(o)}(t,e,n,i):function(t,e,n,i){const{segments:o,options:r}=e,s=EE(e);for(const a of o)yE(t,r,a.style),t.beginPath(),s(t,e,a,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}(t,e,n,i)}class IE extends Lw{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;Ox(this._points,n,t,i,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(t,e){const n=t.points,i=t.options.spanGaps,o=n.length;if(!o)return[];const r=!!t._loop,{start:s,end:a}=function(t,e,n,i){let o=0,r=e-1;if(n&&!i)for(;o<e&&!t[o].skip;)o++;for(;o<e&&t[o].skip;)o++;for(o%=e,n&&(r+=o);r>o&&t[r%e].skip;)r--;return r%=e,{start:o,end:r}}(n,o,r,i);return ib(t,!0===i?[{start:s,end:a,loop:r}]:function(t,e,n,i){const o=t.length,r=[];let s,a=e,l=t[e];for(s=e+1;s<=n;++s){const n=t[s%o];n.skip||n.stop?l.skip||(i=!1,r.push({start:e%o,end:(s-1)%o,loop:i}),e=a=n.stop?s:null):(a=s,l.skip&&(e=s)),l=n}return null!==a&&r.push({start:e%o,end:a%o,loop:i}),r}(n,s,a<s?a+o:a,!!t._fullLoop&&0===s&&a===o-1),n,e)}(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,n=t.length;return n&&e[t[n-1].end]}interpolate(t,e){const n=this.options,i=t[e],o=this.points,r=nb(this,{property:e,start:i,end:i});if(!r.length)return;const s=[],a=function(t){return t.stepped?Wx:t.tension||"monotone"===t.cubicInterpolationMode?Zx:Hx}(n);let l,u;for(l=0,u=r.length;l<u;++l){const{start:u,end:c}=r[l],h=o[u],p=o[c];if(h===p){s.push(h);continue}const f=a(h,p,Math.abs((i-h[e])/(p[e]-h[e])),n.stepped);f[e]=t[e],s.push(f)}return 1===s.length?s[0]:s}pathSegment(t,e,n){return EE(this)(t,this,e,n)}path(t,e,n){const i=this.segments,o=EE(this);let r=this._loop;e=e||0,n=n||this.points.length-e;for(const s of i)r&=o(t,this,s,{start:e,end:e+n-1});return!!r}draw(t,e,n,i){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),SE(t,this,n,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function LE(t,e,n,i){const o=t.options,{[n]:r}=t.getProps([n],i);return Math.abs(e-r)<o.radius+o.hitRadius}IE.id="line",IE.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},IE.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},IE.descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t};class PE extends Lw{constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,n){const i=this.options,{x:o,y:r}=this.getProps(["x","y"],n);return Math.pow(t-o,2)+Math.pow(e-r,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(t,e){return LE(this,t,"x",e)}inYRange(t,e){return LE(this,t,"y",e)}getCenterPoint(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}size(t){let e=(t=t||this.options||{}).radius||0;e=Math.max(e,e&&t.hoverRadius||0);return 2*(e+(e&&t.borderWidth||0))}draw(t,e){const n=this.options;this.skip||n.radius<.1||!Uv(this,e,this.size(n)/2)||(t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.fillStyle=n.backgroundColor,Gv(t,n,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function ME(t,e){const{x:n,y:i,base:o,width:r,height:s}=t.getProps(["x","y","base","width","height"],e);let a,l,u,c,h;return t.horizontal?(h=s/2,a=Math.min(n,o),l=Math.max(n,o),u=i-h,c=i+h):(h=r/2,a=n-h,l=n+h,u=Math.min(i,o),c=Math.max(i,o)),{left:a,top:u,right:l,bottom:c}}function NE(t,e,n,i){return t?0:Wy(e,n,i)}function TE(t){const e=ME(t),n=e.right-e.left,i=e.bottom-e.top,o=function(t,e,n){const i=t.options.borderWidth,o=t.borderSkipped,r=ex(i);return{t:NE(o.top,r.top,0,n),r:NE(o.right,r.right,0,e),b:NE(o.bottom,r.bottom,0,n),l:NE(o.left,r.left,0,e)}}(t,n/2,i/2),r=function(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),o=t.options.borderRadius,r=nx(o),s=Math.min(e,n),a=t.borderSkipped,l=i||oy(o);return{topLeft:NE(!l||a.top||a.left,r.topLeft,0,s),topRight:NE(!l||a.top||a.right,r.topRight,0,s),bottomLeft:NE(!l||a.bottom||a.left,r.bottomLeft,0,s),bottomRight:NE(!l||a.bottom||a.right,r.bottomRight,0,s)}}(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:r},inner:{x:e.left+o.l,y:e.top+o.t,w:n-o.l-o.r,h:i-o.t-o.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(o.t,o.l)),topRight:Math.max(0,r.topRight-Math.max(o.t,o.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(o.b,o.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(o.b,o.r))}}}}function OE(t,e,n,i){const o=null===e,r=null===n,s=t&&!(o&&r)&&ME(t,i);return s&&(o||Zy(e,s.left,s.right))&&(r||Zy(n,s.top,s.bottom))}function AE(t,e){t.rect(e.x,e.y,e.w,e.h)}function RE(t,e,n={}){const i=t.x!==n.x?-e:0,o=t.y!==n.y?-e:0,r=(t.x+t.w!==n.x+n.w?e:0)-i,s=(t.y+t.h!==n.y+n.h?e:0)-o;return{x:t.x+i,y:t.y+o,w:t.w+r,h:t.h+s,radius:t.radius}}PE.id="point",PE.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},PE.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};class DE extends Lw{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:n,backgroundColor:i}}=this,{inner:o,outer:r}=TE(this),s=(a=r.radius).topLeft||a.topRight||a.bottomLeft||a.bottomRight?$v:AE;var a;t.save(),r.w===o.w&&r.h===o.h||(t.beginPath(),s(t,RE(r,e,o)),t.clip(),s(t,RE(o,-e,r)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),s(t,RE(o,e)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,e,n){return OE(this,t,e,n)}inXRange(t,e){return OE(this,t,null,e)}inYRange(t,e){return OE(this,null,t,e)}getCenterPoint(t){const{x:e,y:n,base:i,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+i)/2:e,y:o?n:(n+i)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}DE.id="bar",DE.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},DE.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var kE=Object.freeze({__proto__:null,ArcElement:mE,LineElement:IE,PointElement:PE,BarElement:DE});function FE(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{value:e})}}function zE(t){t.data.datasets.forEach((t=>{FE(t)}))}var BE={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled)return void zE(t);const i=t.width;t.data.datasets.forEach(((e,o)=>{const{_data:r,indexAxis:s}=e,u=t.getDatasetMeta(o),c=r||e.data;if("y"===rx([s,t.options.indexAxis]))return;if("line"!==u.type)return;const h=t.scales[u.xAxisID];if("linear"!==h.type&&"time"!==h.type)return;if(t.options.parsing)return;let{start:p,count:f}=function(t,e){const n=e.length;let i,o=0;const{iScale:r}=t,{min:s,max:a,minDefined:l,maxDefined:u}=r.getUserBounds();return l&&(o=Wy(lx(e,r.axis,s).lo,0,n-1)),i=u?Wy(lx(e,r.axis,a).hi+1,o,n)-o:n-o,{start:o,count:i}}(u,c);if(f<=(n.threshold||4*i))return void FE(e);let d;switch(ny(r)&&(e._data=c,delete e.data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(t){this._data=t}})),n.algorithm){case"lttb":d=function(t,e,n,i,o){const r=o.samples||i;if(r>=n)return t.slice(e,e+n);const s=[],a=(n-2)/(r-2);let l=0;const u=e+n-1;let c,h,p,f,d,g=e;for(s[l++]=t[g],c=0;c<r-2;c++){let i,o=0,r=0;const u=Math.floor((c+1)*a)+1+e,_=Math.min(Math.floor((c+2)*a)+1,n)+e,m=_-u;for(i=u;i<_;i++)o+=t[i].x,r+=t[i].y;o/=m,r/=m;const y=Math.floor(c*a)+1+e,v=Math.min(Math.floor((c+1)*a)+1,n)+e,{x:x,y:b}=t[g];for(p=f=-1,i=y;i<v;i++)f=.5*Math.abs((x-o)*(t[i].y-b)-(x-t[i].x)*(r-b)),f>p&&(p=f,h=t[i],d=i);s[l++]=h,g=d}return s[l++]=t[u],s}(c,p,f,i,n);break;case"min-max":d=function(t,e,n,i){let o,r,s,u,c,h,p,f,d,g,_=0,m=0;const y=[],v=e+n-1,x=t[e].x,b=t[v].x-x;for(o=e;o<e+n;++o){r=t[o],s=(r.x-x)/b*i,u=r.y;const e=0|s;if(e===c)u<d?(d=u,h=o):u>g&&(g=u,p=o),_=(m*_+r.x)/++m;else{const n=o-1;if(!ny(h)&&!ny(p)){const e=Math.min(h,p),i=Math.max(h,p);e!==f&&e!==n&&y.push(l(a({},t[e]),{x:_})),i!==f&&i!==n&&y.push(l(a({},t[i]),{x:_}))}o>0&&n!==f&&y.push(t[n]),y.push(r),c=e,m=0,d=g=u,h=p=f=o}}return y}(c,p,f,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}e._decimated=d}))},destroy(t){zE(t)}};function jE(t,e,n){const i=function(t){const e=t.options,n=e.fill;let i=ay(n&&n.target,n);return void 0===i&&(i=!!e.backgroundColor),!1!==i&&null!==i&&(!0===i?"origin":i)}(t);if(oy(i))return!isNaN(i.value)&&i;let o=parseFloat(i);return ry(o)&&Math.floor(o)===o?("-"!==i[0]&&"+"!==i[0]||(o=e+o),!(o===e||o<0||o>=n)&&o):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}class VE{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,n){const{x:i,y:o,radius:r}=this;return e=e||{start:0,end:Sy},t.arc(i,o,r,e.end,e.start,!0),!n.bounds}interpolate(t){const{x:e,y:n,radius:i}=this,o=t.angle;return{x:e+Math.cos(o)*i,y:n+Math.sin(o)*i,angle:o}}}function GE(t){return(t.scale||{}).getPointPositionForValue?function(t){const{scale:e,fill:n}=t,i=e.options,o=e.getLabels().length,r=[],s=i.reverse?e.max:e.min,a=i.reverse?e.min:e.max;let l,u,c;if(c="start"===n?s:"end"===n?a:oy(n)?n.value:e.getBaseValue(),i.grid.circular)return u=e.getPointPositionForValue(0,s),new VE({x:u.x,y:u.y,radius:e.getDistanceFromCenterForValue(c)});for(l=0;l<o;++l)r.push(e.getPointPositionForValue(l,c));return r}(t):function(t){const{scale:e={},fill:n}=t;let i,o=null;return"start"===n?o=e.bottom:"end"===n?o=e.top:oy(n)?o=e.getPixelForValue(n.value):e.getBasePixel&&(o=e.getBasePixel()),ry(o)?(i=e.isHorizontal(),{x:i?o:null,y:i?null:o}):null}(t)}function UE(t,e,n){for(;e>t;e--){const t=n[e];if(!isNaN(t.x)&&!isNaN(t.y))break}return e}function qE(t,e,n){const i=[];for(let o=0;o<n.length;o++){const r=n[o],{first:s,last:a,point:l}=HE(r,e,"x");if(!(!l||s&&a))if(s)i.unshift(l);else if(t.push(l),!a)break}t.push(...i)}function HE(t,e,n){const i=t.interpolate(e,n);if(!i)return{};const o=i[n],r=t.segments,s=t.points;let a=!1,l=!1;for(let u=0;u<r.length;u++){const t=r[u],e=s[t.start][n],i=s[t.end][n];if(Zy(o,e,i)){a=o===e,l=o===i;break}}return{first:a,last:l,point:i}}function WE(t){const{chart:e,fill:n,line:i}=t;if(ry(n))return function(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}(e,n);if("stack"===n)return function(t){const{scale:e,index:n,line:i}=t,o=[],r=i.segments,s=i.points,a=function(t,e){const n=[],i=t.getMatchingVisibleMetas("line");for(let o=0;o<i.length;o++){const t=i[o];if(t.index===e)break;t.hidden||n.unshift(t.dataset)}return n}(e,n);a.push(ZE({x:null,y:e.bottom},i));for(let l=0;l<r.length;l++){const t=r[l];for(let e=t.start;e<=t.end;e++)qE(o,s[e],a)}return new IE({points:o,options:{}})}(t);if("shape"===n)return!0;const o=GE(t);return o instanceof VE?o:ZE(o,i)}function ZE(t,e){let n=[],i=!1;return iy(t)?(i=!0,n=t):n=function(t,e){const{x:n=null,y:i=null}=t||{},o=e.points,r=[];return e.segments.forEach((({start:t,end:e})=>{e=UE(t,e,o);const s=o[t],a=o[e];null!==i?(r.push({x:s.x,y:i}),r.push({x:a.x,y:i})):null!==n&&(r.push({x:n,y:s.y}),r.push({x:n,y:a.y}))})),r}(t,e),n.length?new IE({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function YE(t,e,n){let i=t[e].fill;const o=[e];let r;if(!n)return i;for(;!1!==i&&-1===o.indexOf(i);){if(!ry(i))return i;if(r=t[i],!r)return!1;if(r.visible)return i;o.push(i),i=r.fill}return!1}function XE(t,e,n){t.beginPath(),e.path(t),t.lineTo(e.last().x,n),t.lineTo(e.first().x,n),t.closePath(),t.clip()}function $E(t,e,n,i){if(i)return;let o=e[t],r=n[t];return"angle"===t&&(o=qy(o),r=qy(r)),{property:t,start:o,end:r}}function KE(t,e,n,i){return t&&e?i(t[n],e[n]):t?t[n]:e?e[n]:0}function JE(t,e,n){const{top:i,bottom:o}=e.chart.chartArea,{property:r,start:s,end:a}=n||{};"x"===r&&(t.beginPath(),t.rect(s,i,a-s,o-i),t.clip())}function QE(t,e,n,i){const o=e.interpolate(n,i);o&&t.lineTo(o.x,o.y)}function tC(t,e){const{line:n,target:i,property:o,color:r,scale:s}=e,a=function(t,e,n){const i=t.segments,o=t.points,r=e.points,s=[];for(const a of i){let{start:t,end:i}=a;i=UE(t,i,o);const l=$E(n,o[t],o[i],a.loop);if(!e.segments){s.push({source:a,target:l,start:o[t],end:o[i]});continue}const u=nb(e,l);for(const e of u){const t=$E(n,r[e.start],r[e.end],e.loop),i=eb(a,o,t);for(const o of i)s.push({source:o,target:e,start:{[n]:KE(l,t,"start",Math.max)},end:{[n]:KE(l,t,"end",Math.min)}})}}return s}(n,i,o);for(const{source:l,target:u,start:c,end:h}of a){const{style:{backgroundColor:e=r}={}}=l,a=!0!==i;t.save(),t.fillStyle=e,JE(t,s,a&&$E(o,c,h)),t.beginPath();const p=!!n.pathSegment(t,l);let f;if(a){p?t.closePath():QE(t,i,h,o);const e=!!i.pathSegment(t,u,{move:p,reverse:!0});f=p&&e,f||QE(t,i,c,o)}t.closePath(),t.fill(f?"evenodd":"nonzero"),t.restore()}}function eC(t,e,n){const i=WE(e),{line:o,scale:r,axis:s}=e,a=o.options,l=a.fill,u=a.backgroundColor,{above:c=u,below:h=u}=l||{};i&&o.points.length&&(qv(t,n),function(t,e){const{line:n,target:i,above:o,below:r,area:s,scale:a}=e,l=n._loop?"angle":e.axis;t.save(),"x"===l&&r!==o&&(XE(t,i,s.top),tC(t,{line:n,target:i,color:o,scale:a,property:l}),t.restore(),t.save(),XE(t,i,s.bottom)),tC(t,{line:n,target:i,color:r,scale:a,property:l}),t.restore()}(t,{line:o,target:i,above:c,below:h,area:n,scale:r,axis:s}),Hv(t))}var nC={id:"filler",afterDatasetsUpdate(t,e,n){const i=(t.data.datasets||[]).length,o=[];let r,s,a,l;for(s=0;s<i;++s)r=t.getDatasetMeta(s),a=r.dataset,l=null,a&&a.options&&a instanceof IE&&(l={visible:t.isDatasetVisible(s),index:s,fill:jE(a,s,i),chart:t,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=l,o.push(l);for(s=0;s<i;++s)l=o[s],l&&!1!==l.fill&&(l.fill=YE(o,s,n.propagate))},beforeDraw(t,e,n){const i="beforeDraw"===n.drawTime,o=t.getSortedVisibleDatasetMetas(),r=t.chartArea;for(let s=o.length-1;s>=0;--s){const e=o[s].$filler;e&&(e.line.updateControlPoints(r,e.axis),i&&eC(t.ctx,e,r))}},beforeDatasetsDraw(t,e,n){if("beforeDatasetsDraw"!==n.drawTime)return;const i=t.getSortedVisibleDatasetMetas();for(let o=i.length-1;o>=0;--o){const e=i[o].$filler;e&&eC(t.ctx,e,t.chartArea)}},beforeDatasetDraw(t,e,n){const i=e.meta.$filler;i&&!1!==i.fill&&"beforeDatasetDraw"===n.drawTime&&eC(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const iC=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}};class oC extends Lw{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,n){this.maxWidth=t,this.maxHeight=e,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=uy(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter((e=>t.filter(e,this.chart.data)))),t.sort&&(e=e.sort(((e,n)=>t.sort(e,n,this.chart.data)))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const n=t.labels,i=ox(n.font),o=i.size,r=this._computeTitleHeight(),{boxWidth:s,itemHeight:a}=iC(n,o);let l,u;e.font=i.string,this.isHorizontal()?(l=this.maxWidth,u=this._fitRows(r,o,s,a)+10):(u=this.maxHeight,l=this._fitCols(r,o,s,a)+10),this.width=Math.min(l,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,e,n,i){const{ctx:o,maxWidth:r,options:{labels:{padding:s}}}=this,a=this.legendHitBoxes=[],l=this.lineWidths=[0],u=i+s;let c=t;o.textAlign="left",o.textBaseline="middle";let h=-1,p=-u;return this.legendItems.forEach(((t,f)=>{const d=n+e/2+o.measureText(t.text).width;(0===f||l[l.length-1]+d+2*s>r)&&(c+=u,l[l.length-(f>0?0:1)]=0,p+=u,h++),a[f]={left:0,top:p,row:h,width:d,height:i},l[l.length-1]+=d+s})),c}_fitCols(t,e,n,i){const{ctx:o,maxHeight:r,options:{labels:{padding:s}}}=this,a=this.legendHitBoxes=[],l=this.columnSizes=[],u=r-t;let c=s,h=0,p=0,f=0,d=0;return this.legendItems.forEach(((t,r)=>{const g=n+e/2+o.measureText(t.text).width;r>0&&p+i+2*s>u&&(c+=h+s,l.push({width:h,height:p}),f+=h+s,d++,h=p=0),a[r]={left:f,top:p,col:d,width:g,height:i},h=Math.max(h,g),p+=i+s})),c+=h,l.push({width:h,height:p}),c}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:n,labels:{padding:i},rtl:o}}=this,r=$x(o,this.left,this.width);if(this.isHorizontal()){let o=0,s=Qm(n,this.left+i,this.right-this.lineWidths[o]);for(const a of e)o!==a.row&&(o=a.row,s=Qm(n,this.left+i,this.right-this.lineWidths[o])),a.top+=this.top+t+i,a.left=r.leftForLtr(r.x(s),a.width),s+=a.width+i}else{let o=0,s=Qm(n,this.top+t+i,this.bottom-this.columnSizes[o].height);for(const a of e)a.col!==o&&(o=a.col,s=Qm(n,this.top+t+i,this.bottom-this.columnSizes[o].height)),a.top=s,a.left+=this.left+i,a.left=r.leftForLtr(r.x(a.left),a.width),s+=a.height+i}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;qv(t,this),this._draw(),Hv(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:n,ctx:i}=this,{align:o,labels:r}=t,s=Fv.color,a=$x(t.rtl,this.left,this.width),l=ox(r.font),{color:u,padding:c}=r,h=l.size,p=h/2;let f;this.drawTitle(),i.textAlign=a.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=l.string;const{boxWidth:d,boxHeight:g,itemHeight:_}=iC(r,h),m=this.isHorizontal(),y=this._computeTitleHeight();f=m?{x:Qm(o,this.left+c,this.right-n[0]),y:this.top+c+y,line:0}:{x:this.left+c,y:Qm(o,this.top+y+c,this.bottom-e[0].height),line:0},Kx(this.ctx,t.textDirection);const v=_+c;this.legendItems.forEach(((x,b)=>{i.strokeStyle=x.fontColor||u,i.fillStyle=x.fontColor||u;const w=i.measureText(x.text).width,E=a.textAlign(x.textAlign||(x.textAlign=r.textAlign)),C=d+p+w;let S=f.x,I=f.y;a.setWidth(this.width),m?b>0&&S+C+c>this.right&&(I=f.y+=v,f.line++,S=f.x=Qm(o,this.left+c,this.right-n[f.line])):b>0&&I+v>this.bottom&&(S=f.x=S+e[f.line].width+c,f.line++,I=f.y=Qm(o,this.top+y+c,this.bottom-e[f.line].height));!function(t,e,n){if(isNaN(d)||d<=0||isNaN(g)||g<0)return;i.save();const o=ay(n.lineWidth,1);if(i.fillStyle=ay(n.fillStyle,s),i.lineCap=ay(n.lineCap,"butt"),i.lineDashOffset=ay(n.lineDashOffset,0),i.lineJoin=ay(n.lineJoin,"miter"),i.lineWidth=o,i.strokeStyle=ay(n.strokeStyle,s),i.setLineDash(ay(n.lineDash,[])),r.usePointStyle){const r={radius:d*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:o},s=a.xPlus(t,d/2);Gv(i,r,s,e+p)}else{const r=e+Math.max((h-g)/2,0),s=a.leftForLtr(t,d),l=nx(n.borderRadius);i.beginPath(),Object.values(l).some((t=>0!==t))?$v(i,{x:s,y:r,w:d,h:g,radius:l}):i.rect(s,r,d,g),i.fill(),0!==o&&i.stroke()}i.restore()}(a.x(S),I,x),S=((t,e,n,i)=>t===(i?"left":"right")?n:"center"===t?(e+n)/2:e)(E,S+d+p,m?S+C:this.right,t.rtl),function(t,e,n){Yv(i,n.text,t,e+_/2,l,{strikethrough:n.hidden,textAlign:a.textAlign(n.textAlign)})}(a.x(S),I,x),m?f.x+=C+c:f.y+=v})),Jx(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,n=ox(e.font),i=ix(e.padding);if(!e.display)return;const o=$x(t.rtl,this.left,this.width),r=this.ctx,s=e.position,a=n.size/2,l=i.top+a;let u,c=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),u=this.top+l,c=Qm(t.align,c,this.right-h);else{const e=this.columnSizes.reduce(((t,e)=>Math.max(t,e.height)),0);u=l+Qm(t.align,this.top,this.bottom-e-t.labels.padding-this._computeTitleHeight())}const p=Qm(s,c,c+h);r.textAlign=o.textAlign(Jm(s)),r.textBaseline="middle",r.strokeStyle=e.color,r.fillStyle=e.color,r.font=n.string,Yv(r,e.text,p,u,n)}_computeTitleHeight(){const t=this.options.title,e=ox(t.font),n=ix(t.padding);return t.display?e.lineHeight+n.height:0}_getLegendItemAt(t,e){let n,i,o;if(Zy(t,this.left,this.right)&&Zy(e,this.top,this.bottom))for(o=this.legendHitBoxes,n=0;n<o.length;++n)if(i=o[n],Zy(t,i.left,i.left+i.width)&&Zy(e,i.top,i.top+i.height))return this.legendItems[n];return null}handleEvent(t){const e=this.options;if(!function(t,e){if("mousemove"===t&&(e.onHover||e.onLeave))return!0;if(e.onClick&&("click"===t||"mouseup"===t))return!0;return!1}(t.type,e))return;const n=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type){const r=this._hoveredItem,s=(o=n,null!==(i=r)&&null!==o&&i.datasetIndex===o.datasetIndex&&i.index===o.index);r&&!s&&uy(e.onLeave,[t,r,this],this),this._hoveredItem=n,n&&!s&&uy(e.onHover,[t,n,this],this)}else n&&uy(e.onClick,[t,n,this],this);var i,o}}var rC={id:"legend",_element:oC,start(t,e,n){const i=t.legend=new oC({ctx:t.ctx,options:n,chart:t});uw.configure(t,i,n),uw.addBox(t,i)},stop(t){uw.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;uw.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,o=n.chart;o.isDatasetVisible(i)?(o.hide(i),e.hidden=!0):(o.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:o,color:r}}=t.legend.options;return t._getSortedDatasetMetas().map((t=>{const s=t.controller.getStyle(n?0:void 0),a=ix(s.borderWidth);return{text:e[t.index].label,fillStyle:s.backgroundColor,fontColor:r,hidden:!t.visible,lineCap:s.borderCapStyle,lineDash:s.borderDash,lineDashOffset:s.borderDashOffset,lineJoin:s.borderJoinStyle,lineWidth:(a.width+a.height)/4,strokeStyle:s.borderColor,pointStyle:i||s.pointStyle,rotation:s.rotation,textAlign:o||s.textAlign,borderRadius:0,datasetIndex:t.index}}),this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class sC extends Lw{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const i=iy(n.text)?n.text.length:1;this._padding=ix(n.padding);const o=i*ox(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:n,bottom:i,right:o,options:r}=this,s=r.align;let a,l,u,c=0;return this.isHorizontal()?(l=Qm(s,n,o),u=e+t,a=o-n):("left"===r.position?(l=n+t,u=Qm(s,i,e),c=-.5*Cy):(l=o-t,u=Qm(s,e,i),c=.5*Cy),a=i-e),{titleX:l,titleY:u,maxWidth:a,rotation:c}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const n=ox(e.font),i=n.lineHeight/2+this._padding.top,{titleX:o,titleY:r,maxWidth:s,rotation:a}=this._drawArgs(i);Yv(t,e.text,0,0,n,{color:e.color,maxWidth:s,rotation:a,textAlign:Jm(e.align),textBaseline:"middle",translation:[o,r]})}}var aC={id:"title",_element:sC,start(t,e,n){!function(t,e){const n=new sC({ctx:t.ctx,options:e,chart:t});uw.configure(t,n,e),uw.addBox(t,n),t.titleBlock=n}(t,n)},stop(t){const e=t.titleBlock;uw.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;uw.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const lC=new WeakMap;var uC={id:"subtitle",start(t,e,n){const i=new sC({ctx:t.ctx,options:n,chart:t});uw.configure(t,i,n),uw.addBox(t,i),lC.set(t,i)},stop(t){uw.removeBox(t,lC.get(t)),lC.delete(t)},beforeUpdate(t,e,n){const i=lC.get(t);uw.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const cC={average(t){if(!t.length)return!1;let e,n,i=0,o=0,r=0;for(e=0,n=t.length;e<n;++e){const n=t[e].element;if(n&&n.hasValue()){const t=n.tooltipPosition();i+=t.x,o+=t.y,++r}}return{x:i/r,y:o/r}},nearest(t,e){if(!t.length)return!1;let n,i,o,r=e.x,s=e.y,a=Number.POSITIVE_INFINITY;for(n=0,i=t.length;n<i;++n){const i=t[n].element;if(i&&i.hasValue()){const t=Gy(e,i.getCenterPoint());t<a&&(a=t,o=i)}}if(o){const t=o.tooltipPosition();r=t.x,s=t.y}return{x:r,y:s}}};function hC(t,e){return e&&(iy(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function pC(t){return("string"==typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function fC(t,e){const{element:n,datasetIndex:i,index:o}=e,r=t.getDatasetMeta(i).controller,{label:s,value:a}=r.getLabelAndValue(o);return{chart:t,label:s,parsed:r.getParsed(o),raw:t.data.datasets[i].data[o],formattedValue:a,dataset:r.getDataset(),dataIndex:o,datasetIndex:i,element:n}}function dC(t,e){const n=t.chart.ctx,{body:i,footer:o,title:r}=t,{boxWidth:s,boxHeight:a}=e,l=ox(e.bodyFont),u=ox(e.titleFont),c=ox(e.footerFont),h=r.length,p=o.length,f=i.length,d=ix(e.padding);let g=d.height,_=0,m=i.reduce(((t,e)=>t+e.before.length+e.lines.length+e.after.length),0);if(m+=t.beforeBody.length+t.afterBody.length,h&&(g+=h*u.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),m){g+=f*(e.displayColors?Math.max(a,l.lineHeight):l.lineHeight)+(m-f)*l.lineHeight+(m-1)*e.bodySpacing}p&&(g+=e.footerMarginTop+p*c.lineHeight+(p-1)*e.footerSpacing);let y=0;const v=function(t){_=Math.max(_,n.measureText(t).width+y)};return n.save(),n.font=u.string,cy(t.title,v),n.font=l.string,cy(t.beforeBody.concat(t.afterBody),v),y=e.displayColors?s+2+e.boxPadding:0,cy(i,(t=>{cy(t.before,v),cy(t.lines,v),cy(t.after,v)})),y=0,n.font=c.string,cy(t.footer,v),n.restore(),_+=d.width,{width:_,height:g}}function gC(t,e,n,i){const{x:o,width:r}=n,{width:s,chartArea:{left:a,right:l}}=t;let u="center";return"center"===i?u=o<=(a+l)/2?"left":"right":o<=r/2?u="left":o>=s-r/2&&(u="right"),function(t,e,n,i){const{x:o,width:r}=i,s=n.caretSize+n.caretPadding;return"left"===t&&o+r+s>e.width||"right"===t&&o-r-s<0||void 0}(u,t,e,n)&&(u="center"),u}function _C(t,e,n){const i=n.yAlign||e.yAlign||function(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}(t,n);return{xAlign:n.xAlign||e.xAlign||gC(t,e,n,i),yAlign:i}}function mC(t,e,n,i){const{caretSize:o,caretPadding:r,cornerRadius:s}=t,{xAlign:a,yAlign:l}=n,u=o+r,{topLeft:c,topRight:h,bottomLeft:p,bottomRight:f}=nx(s);let d=function(t,e){let{x:n,width:i}=t;return"right"===e?n-=i:"center"===e&&(n-=i/2),n}(e,a);const g=function(t,e,n){let{y:i,height:o}=t;return"top"===e?i+=n:i-="bottom"===e?o+n:o/2,i}(e,l,u);return"center"===l?"left"===a?d+=u:"right"===a&&(d-=u):"left"===a?d-=Math.max(c,p)+o:"right"===a&&(d+=Math.max(h,f)+o),{x:Wy(d,0,i.width-e.width),y:Wy(g,0,i.height-e.height)}}function yC(t,e,n){const i=ix(n.padding);return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-i.right:t.x+i.left}function vC(t){return hC([],pC(t))}function xC(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}class bC extends Lw{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart||t._chart,this._chart=this.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&e.options.animation&&n.animations,o=new cb(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=(t=this.chart.getContext(),e=this,n=this._tooltipItems,sx(t,{tooltip:e,tooltipItems:n,type:"tooltip"})));var t,e,n}getTitle(t,e){const{callbacks:n}=e,i=n.beforeTitle.apply(this,[t]),o=n.title.apply(this,[t]),r=n.afterTitle.apply(this,[t]);let s=[];return s=hC(s,pC(i)),s=hC(s,pC(o)),s=hC(s,pC(r)),s}getBeforeBody(t,e){return vC(e.callbacks.beforeBody.apply(this,[t]))}getBody(t,e){const{callbacks:n}=e,i=[];return cy(t,(t=>{const e={before:[],lines:[],after:[]},o=xC(n,t);hC(e.before,pC(o.beforeLabel.call(this,t))),hC(e.lines,o.label.call(this,t)),hC(e.after,pC(o.afterLabel.call(this,t))),i.push(e)})),i}getAfterBody(t,e){return vC(e.callbacks.afterBody.apply(this,[t]))}getFooter(t,e){const{callbacks:n}=e,i=n.beforeFooter.apply(this,[t]),o=n.footer.apply(this,[t]),r=n.afterFooter.apply(this,[t]);let s=[];return s=hC(s,pC(i)),s=hC(s,pC(o)),s=hC(s,pC(r)),s}_createItems(t){const e=this._active,n=this.chart.data,i=[],o=[],r=[];let s,a,l=[];for(s=0,a=e.length;s<a;++s)l.push(fC(this.chart,e[s]));return t.filter&&(l=l.filter(((e,i,o)=>t.filter(e,i,o,n)))),t.itemSort&&(l=l.sort(((e,i)=>t.itemSort(e,i,n)))),cy(l,(e=>{const n=xC(t.callbacks,e);i.push(n.labelColor.call(this,e)),o.push(n.labelPointStyle.call(this,e)),r.push(n.labelTextColor.call(this,e))})),this.labelColors=i,this.labelPointStyles=o,this.labelTextColors=r,this.dataPoints=l,l}update(t,e){const n=this.options.setContext(this.getContext()),i=this._active;let o,r=[];if(i.length){const t=cC[n.position].call(this,i,this._eventPosition);r=this._createItems(n),this.title=this.getTitle(r,n),this.beforeBody=this.getBeforeBody(r,n),this.body=this.getBody(r,n),this.afterBody=this.getAfterBody(r,n),this.footer=this.getFooter(r,n);const e=this._size=dC(this,n),s=Object.assign({},t,e),a=_C(this.chart,n,s),l=mC(n,s,a,this.chart);this.xAlign=a.xAlign,this.yAlign=a.yAlign,o={opacity:1,x:l.x,y:l.y,width:e.width,height:e.height,caretX:t.x,caretY:t.y}}else 0!==this.opacity&&(o={opacity:0});this._tooltipItems=r,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,n,i){const o=this.getCaretPosition(t,n,i);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,n){const{xAlign:i,yAlign:o}=this,{caretSize:r,cornerRadius:s}=n,{topLeft:a,topRight:l,bottomLeft:u,bottomRight:c}=nx(s),{x:h,y:p}=t,{width:f,height:d}=e;let g,_,m,y,v,x;return"center"===o?(v=p+d/2,"left"===i?(g=h,_=g-r,y=v+r,x=v-r):(g=h+f,_=g+r,y=v-r,x=v+r),m=g):(_="left"===i?h+Math.max(a,u)+r:"right"===i?h+f-Math.max(l,c)-r:this.caretX,"top"===o?(y=p,v=y-r,g=_-r,m=_+r):(y=p+d,v=y+r,g=_+r,m=_-r),x=y),{x1:g,x2:_,x3:m,y1:y,y2:v,y3:x}}drawTitle(t,e,n){const i=this.title,o=i.length;let r,s,a;if(o){const l=$x(n.rtl,this.x,this.width);for(t.x=yC(this,n.titleAlign,n),e.textAlign=l.textAlign(n.titleAlign),e.textBaseline="middle",r=ox(n.titleFont),s=n.titleSpacing,e.fillStyle=n.titleColor,e.font=r.string,a=0;a<o;++a)e.fillText(i[a],l.x(t.x),t.y+r.lineHeight/2),t.y+=r.lineHeight+s,a+1===o&&(t.y+=n.titleMarginBottom-s)}}_drawColorBox(t,e,n,i,o){const r=this.labelColors[n],s=this.labelPointStyles[n],{boxHeight:a,boxWidth:l,boxPadding:u}=o,c=ox(o.bodyFont),h=yC(this,"left",o),p=i.x(h),f=a<c.lineHeight?(c.lineHeight-a)/2:0,d=e.y+f;if(o.usePointStyle){const e={radius:Math.min(l,a)/2,pointStyle:s.pointStyle,rotation:s.rotation,borderWidth:1},n=i.leftForLtr(p,l)+l/2,u=d+a/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,Gv(t,e,n,u),t.strokeStyle=r.borderColor,t.fillStyle=r.backgroundColor,Gv(t,e,n,u)}else{t.lineWidth=r.borderWidth||1,t.strokeStyle=r.borderColor,t.setLineDash(r.borderDash||[]),t.lineDashOffset=r.borderDashOffset||0;const e=i.leftForLtr(p,l-u),n=i.leftForLtr(i.xPlus(p,1),l-u-2),s=nx(r.borderRadius);Object.values(s).some((t=>0!==t))?(t.beginPath(),t.fillStyle=o.multiKeyBackground,$v(t,{x:e,y:d,w:l,h:a,radius:s}),t.fill(),t.stroke(),t.fillStyle=r.backgroundColor,t.beginPath(),$v(t,{x:n,y:d+1,w:l-2,h:a-2,radius:s}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(e,d,l,a),t.strokeRect(e,d,l,a),t.fillStyle=r.backgroundColor,t.fillRect(n,d+1,l-2,a-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,e,n){const{body:i}=this,{bodySpacing:o,bodyAlign:r,displayColors:s,boxHeight:a,boxWidth:l,boxPadding:u}=n,c=ox(n.bodyFont);let h=c.lineHeight,p=0;const f=$x(n.rtl,this.x,this.width),d=function(n){e.fillText(n,f.x(t.x+p),t.y+h/2),t.y+=h+o},g=f.textAlign(r);let _,m,y,v,x,b,w;for(e.textAlign=r,e.textBaseline="middle",e.font=c.string,t.x=yC(this,g,n),e.fillStyle=n.bodyColor,cy(this.beforeBody,d),p=s&&"right"!==g?"center"===r?l/2+u:l+2+u:0,v=0,b=i.length;v<b;++v){for(_=i[v],m=this.labelTextColors[v],e.fillStyle=m,cy(_.before,d),y=_.lines,s&&y.length&&(this._drawColorBox(e,t,v,f,n),h=Math.max(c.lineHeight,a)),x=0,w=y.length;x<w;++x)d(y[x]),h=c.lineHeight;cy(_.after,d)}p=0,h=c.lineHeight,cy(this.afterBody,d),t.y-=o}drawFooter(t,e,n){const i=this.footer,o=i.length;let r,s;if(o){const a=$x(n.rtl,this.x,this.width);for(t.x=yC(this,n.footerAlign,n),t.y+=n.footerMarginTop,e.textAlign=a.textAlign(n.footerAlign),e.textBaseline="middle",r=ox(n.footerFont),e.fillStyle=n.footerColor,e.font=r.string,s=0;s<o;++s)e.fillText(i[s],a.x(t.x),t.y+r.lineHeight/2),t.y+=r.lineHeight+n.footerSpacing}}drawBackground(t,e,n,i){const{xAlign:o,yAlign:r}=this,{x:s,y:a}=t,{width:l,height:u}=n,{topLeft:c,topRight:h,bottomLeft:p,bottomRight:f}=nx(i.cornerRadius);e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.beginPath(),e.moveTo(s+c,a),"top"===r&&this.drawCaret(t,e,n,i),e.lineTo(s+l-h,a),e.quadraticCurveTo(s+l,a,s+l,a+h),"center"===r&&"right"===o&&this.drawCaret(t,e,n,i),e.lineTo(s+l,a+u-f),e.quadraticCurveTo(s+l,a+u,s+l-f,a+u),"bottom"===r&&this.drawCaret(t,e,n,i),e.lineTo(s+p,a+u),e.quadraticCurveTo(s,a+u,s,a+u-p),"center"===r&&"left"===o&&this.drawCaret(t,e,n,i),e.lineTo(s,a+c),e.quadraticCurveTo(s,a,s+c,a),e.closePath(),e.fill(),i.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,n=this.$animations,i=n&&n.x,o=n&&n.y;if(i||o){const n=cC[t.position].call(this,this._active,this._eventPosition);if(!n)return;const r=this._size=dC(this,t),s=Object.assign({},n,this._size),a=_C(e,t,s),l=mC(t,s,a,e);i._to===l.x&&o._to===l.y||(this.xAlign=a.xAlign,this.yAlign=a.yAlign,this.width=r.width,this.height=r.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}draw(t){const e=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(e);const i={width:this.width,height:this.height},o={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const r=ix(e.padding),s=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&s&&(t.save(),t.globalAlpha=n,this.drawBackground(o,t,i,e),Kx(t,e.textDirection),o.y+=r.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),Jx(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const n=this._active,i=t.map((({datasetIndex:t,index:e})=>{const n=this.chart.getDatasetMeta(t);if(!n)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:n.data[e],index:e}})),o=!hy(n,i),r=this._positionChanged(i,e);(o||r)&&(this._active=i,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,n=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,o=this._active||[],r=this._getActiveElements(t,o,e,n),s=this._positionChanged(r,t),a=e||!hy(r,o)||s;return a&&(this._active=r,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),a}_getActiveElements(t,e,n,i){const o=this.options;if("mouseout"===t.type)return[];if(!i)return e;const r=this.chart.getElementsAtEventForMode(t,o.mode,o,n);return o.reverse&&r.reverse(),r}_positionChanged(t,e){const{caretX:n,caretY:i,options:o}=this,r=cC[o.position].call(this,t,e);return!1!==r&&(n!==r.x||i!==r.y)}}bC.positioners=cC;var wC={id:"tooltip",_element:bC,positioners:cC,afterInit(t,e,n){n&&(t.tooltip=new bC({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip,n={tooltip:e};!1!==t.notifyPlugins("beforeTooltipDraw",n)&&(e&&e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n))},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:ty,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:ty,beforeBody:ty,beforeLabel:ty,label(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return ny(n)||(e+=n),e},labelColor(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:ty,afterBody:ty,beforeFooter:ty,footer:ty,afterFooter:ty}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>"filter"!==t&&"itemSort"!==t&&"external"!==t,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},EC=Object.freeze({__proto__:null,Decimation:BE,Filler:nC,Legend:rC,SubTitle:uC,Title:aC,Tooltip:wC});function CC(t,e,n,i){const o=t.indexOf(e);if(-1===o)return((t,e,n,i)=>("string"==typeof e?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n))(t,e,n,i);return o!==t.lastIndexOf(e)?n:o}class SC extends zw{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const t=this.getLabels();for(const{index:n,label:i}of e)t[n]===i&&t.splice(n,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(ny(t))return null;const n=this.getLabels();return((t,e)=>null===t?null:Wy(Math.round(t),0,e))(e=isFinite(e)&&n[e]===t?e:CC(n,t,ay(e,t),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(n=0),e||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const t=this.min,e=this.max,n=this.options.offset,i=[];let o=this.getLabels();o=0===t&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let r=t;r<=e;r++)i.push({value:r});return i}getLabelForValue(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!=typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function IC(t,e){const n=[],{bounds:i,step:o,min:r,max:s,precision:a,count:l,maxTicks:u,maxDigits:c,includeBounds:h}=t,p=o||1,f=u-1,{min:d,max:g}=e,_=!ny(r),m=!ny(s),y=!ny(l),v=(g-d)/(c+1);let x,b,w,E,C=Ry((g-d)/f/p)*p;if(C<1e-14&&!_&&!m)return[{value:d},{value:g}];E=Math.ceil(g/C)-Math.floor(d/C),E>f&&(C=Ry(E*C/f/p)*p),ny(a)||(x=Math.pow(10,a),C=Math.ceil(C*x)/x),"ticks"===i?(b=Math.floor(d/C)*C,w=Math.ceil(g/C)*C):(b=d,w=g),_&&m&&o&&function(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}((s-r)/o,C/1e3)?(E=Math.round(Math.min((s-r)/C,u)),C=(s-r)/E,b=r,w=s):y?(b=_?r:b,w=m?s:w,E=l-1,C=(w-b)/E):(E=(w-b)/C,E=ky(E,Math.round(E),C/1e3)?Math.round(E):Math.ceil(E));const S=Math.max(jy(C),jy(b));x=Math.pow(10,ny(a)?S:a),b=Math.round(b*x)/x,w=Math.round(w*x)/x;let I=0;for(_&&(h&&b!==r?(n.push({value:r}),b<r&&I++,ky(Math.round((b+I*C)*x)/x,r,LC(r,v,t))&&I++):b<r&&I++);I<E;++I)n.push({value:Math.round((b+I*C)*x)/x});return m&&h&&w!==s?n.length&&ky(n[n.length-1].value,s,LC(s,v,t))?n[n.length-1].value=s:n.push({value:s}):m&&w!==s||n.push({value:w}),n}function LC(t,e,{horizontal:n,minRotation:i}){const o=zy(i),r=(n?Math.sin(o):Math.cos(o))||.001,s=.75*e*(""+t).length;return Math.min(e/r,s)}SC.id="category",SC.defaults={ticks:{callback:SC.prototype.getLabelForValue}};class PC extends zw{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return ny(t)||("number"==typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:o}=this;const r=t=>i=e?i:t,s=t=>o=n?o:t;if(t){const t=Ay(i),e=Ay(o);t<0&&e<0?s(0):t>0&&e>0&&r(0)}if(i===o){let e=1;(o>=Number.MAX_SAFE_INTEGER||i<=Number.MIN_SAFE_INTEGER)&&(e=Math.abs(.05*o)),s(o+e),t||r(i-e)}this.min=i,this.max=o}getTickLimit(){const t=this.options.ticks;let e,{maxTicksLimit:n,stepSize:i}=t;return i?(e=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,e>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${e} ticks. Limiting to 1000.`),e=1e3)):(e=this.computeTickLimit(),n=n||11),n&&(e=Math.min(n,e)),e}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i=IC({maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&Fy(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}configure(){const t=this.ticks;let e=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const i=(n-e)/Math.max(t.length-1,1)/2;e-=i,n+=i}this._startValue=e,this._endValue=n,this._valueRange=n-e}getLabelForValue(t){return Xx(t,this.chart.options.locale,this.options.ticks.format)}}class MC extends PC{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=ry(t)?t:0,this.max=ry(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,n=zy(this.options.ticks.minRotation),i=(t?Math.sin(n):Math.cos(n))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/i))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}function NC(t){return 1===t/Math.pow(10,Math.floor(Oy(t)))}MC.id="linear",MC.defaults={ticks:{callback:Mw.formatters.numeric}};class TC extends zw{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const n=PC.prototype.parse.apply(this,[t,e]);if(0!==n)return ry(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=ry(t)?Math.max(0,t):null,this.max=ry(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let n=this.min,i=this.max;const o=e=>n=t?n:e,r=t=>i=e?i:t,s=(t,e)=>Math.pow(10,Math.floor(Oy(t))+e);n===i&&(n<=0?(o(1),r(10)):(o(s(n,-1)),r(s(i,1)))),n<=0&&o(s(i,-1)),i<=0&&r(s(n,1)),this._zero&&this.min!==this._suggestedMin&&n===s(this.min,0)&&o(s(n,-1)),this.min=n,this.max=i}buildTicks(){const t=this.options,e=function(t,e){const n=Math.floor(Oy(e.max)),i=Math.ceil(e.max/Math.pow(10,n)),o=[];let r=sy(t.min,Math.pow(10,Math.floor(Oy(e.min)))),s=Math.floor(Oy(r)),a=Math.floor(r/Math.pow(10,s)),l=s<0?Math.pow(10,Math.abs(s)):1;do{o.push({value:r,major:NC(r)}),++a,10===a&&(a=1,++s,l=s>=0?1:l),r=Math.round(a*Math.pow(10,s)*l)/l}while(s<n||s===n&&a<i);const u=sy(t.max,r);return o.push({value:u,major:NC(r)}),o}({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&Fy(e,this,"value"),t.reverse?(e.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),e}getLabelForValue(t){return void 0===t?"0":Xx(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Oy(t),this._valueRange=Oy(this.max)-Oy(t)}getPixelForValue(t){return void 0!==t&&0!==t||(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Oy(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function OC(t){const e=t.ticks;if(e.display&&t.display){const t=ix(e.backdropPadding);return ay(e.font&&e.font.size,Fv.font.size)+t.height}return 0}function AC(t,e,n,i,o){return t===i||t===o?{start:e-n/2,end:e+n/2}:t<i||t>o?{start:e-n,end:e}:{start:e,end:e+n}}function RC(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),i=[],o=[],r=t._pointLabels.length,s=t.options.pointLabels,a=s.centerPointLabels?Cy/r:0;for(let h=0;h<r;h++){const r=s.setContext(t.getPointLabelContext(h));o[h]=r.padding;const p=t.getPointPosition(h,t.drawingArea+o[h],a),f=ox(r.font),d=(l=t.ctx,u=f,c=iy(c=t._pointLabels[h])?c:[c],{w:Bv(l,u.string,c),h:c.length*u.lineHeight});i[h]=d;const g=qy(t.getIndexAngle(h)+a),_=Math.round(By(g));DC(n,e,g,AC(_,p.x,d.w,0,180),AC(_,p.y,d.h,90,270))}var l,u,c;t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=function(t,e,n){const i=[],o=t._pointLabels.length,r=t.options,s=OC(r)/2,a=t.drawingArea,l=r.pointLabels.centerPointLabels?Cy/o:0;for(let u=0;u<o;u++){const o=t.getPointPosition(u,a+s+n[u],l),r=Math.round(By(qy(o.angle+My))),c=e[u],h=zC(o.y,c.h,r),p=kC(r),f=FC(o.x,c.w,p);i.push({x:o.x,y:h,textAlign:p,left:f,top:h,right:f+c.w,bottom:h+c.h})}return i}(t,i,o)}function DC(t,e,n,i,o){const r=Math.abs(Math.sin(n)),s=Math.abs(Math.cos(n));let a=0,l=0;i.start<e.l?(a=(e.l-i.start)/r,t.l=Math.min(t.l,e.l-a)):i.end>e.r&&(a=(i.end-e.r)/r,t.r=Math.max(t.r,e.r+a)),o.start<e.t?(l=(e.t-o.start)/s,t.t=Math.min(t.t,e.t-l)):o.end>e.b&&(l=(o.end-e.b)/s,t.b=Math.max(t.b,e.b+l))}function kC(t){return 0===t||180===t?"center":t<180?"left":"right"}function FC(t,e,n){return"right"===n?t-=e:"center"===n&&(t-=e/2),t}function zC(t,e,n){return 90===n||270===n?t-=e/2:(n>270||n<90)&&(t-=e),t}function BC(t,e,n,i){const{ctx:o}=t;if(n)o.arc(t.xCenter,t.yCenter,e,0,Sy);else{let n=t.getPointPosition(0,e);o.moveTo(n.x,n.y);for(let r=1;r<i;r++)n=t.getPointPosition(r,e),o.lineTo(n.x,n.y)}}TC.id="logarithmic",TC.defaults={ticks:{callback:Mw.formatters.logarithmic,major:{enabled:!0}}};class jC extends PC{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=ix(OC(this.options)/2),e=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(e,n)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=ry(t)&&!isNaN(t)?t:0,this.max=ry(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/OC(this.options))}generateTickLabels(t){PC.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map(((t,e)=>{const n=uy(this.options.pointLabels.callback,[t,e],this);return n||0===n?n:""})).filter(((t,e)=>this.chart.getDataVisibility(e)))}fit(){const t=this.options;t.display&&t.pointLabels.display?RC(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,n,i){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((n-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,n,i))}getIndexAngle(t){return qy(t*(Sy/(this._pointLabels.length||1))+zy(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(ny(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(ny(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const n=e[t];return function(t,e,n){return sx(t,{label:n,index:e,type:"pointLabel"})}(this.getContext(),t,n)}}getPointPosition(t,e,n=0){const i=this.getIndexAngle(t)-My+n;return{x:Math.cos(i)*e+this.xCenter,y:Math.sin(i)*e+this.yCenter,angle:i}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:n,right:i,bottom:o}=this._pointLabelItems[t];return{left:e,top:n,right:i,bottom:o}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const n=this.ctx;n.save(),n.beginPath(),BC(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:n,grid:i}=e,o=this._pointLabels.length;let r,s,a;if(e.pointLabels.display&&function(t,e){const{ctx:n,options:{pointLabels:i}}=t;for(let o=e-1;o>=0;o--){const e=i.setContext(t.getPointLabelContext(o)),r=ox(e.font),{x:s,y:a,textAlign:l,left:u,top:c,right:h,bottom:p}=t._pointLabelItems[o],{backdropColor:f}=e;if(!ny(f)){const t=ix(e.backdropPadding);n.fillStyle=f,n.fillRect(u-t.left,c-t.top,h-u+t.width,p-c+t.height)}Yv(n,t._pointLabels[o],s,a+r.lineHeight/2,r,{color:e.color,textAlign:l,textBaseline:"middle"})}}(this,o),i.display&&this.ticks.forEach(((t,e)=>{if(0!==e){s=this.getDistanceFromCenterForValue(t.value);!function(t,e,n,i){const o=t.ctx,r=e.circular,{color:s,lineWidth:a}=e;!r&&!i||!s||!a||n<0||(o.save(),o.strokeStyle=s,o.lineWidth=a,o.setLineDash(e.borderDash),o.lineDashOffset=e.borderDashOffset,o.beginPath(),BC(t,n,r,i),o.closePath(),o.stroke(),o.restore())}(this,i.setContext(this.getContext(e-1)),s,o)}})),n.display){for(t.save(),r=o-1;r>=0;r--){const i=n.setContext(this.getPointLabelContext(r)),{color:o,lineWidth:l}=i;l&&o&&(t.lineWidth=l,t.strokeStyle=o,t.setLineDash(i.borderDash),t.lineDashOffset=i.borderDashOffset,s=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),a=this.getPointPosition(r,s),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(a.x,a.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,n=e.ticks;if(!n.display)return;const i=this.getIndexAngle(0);let o,r;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(i),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach(((i,s)=>{if(0===s&&!e.reverse)return;const a=n.setContext(this.getContext(s)),l=ox(a.font);if(o=this.getDistanceFromCenterForValue(this.ticks[s].value),a.showLabelBackdrop){t.font=l.string,r=t.measureText(i.label).width,t.fillStyle=a.backdropColor;const e=ix(a.backdropPadding);t.fillRect(-r/2-e.left,-o-l.size/2-e.top,r+e.width,l.size+e.height)}Yv(t,i.label,0,-o,l,{color:a.color})})),t.restore()}drawTitle(){}}jC.id="radialLinear",jC.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Mw.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:t=>t,padding:5,centerPointLabels:!1}},jC.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},jC.descriptors={angleLines:{_fallback:"grid"}};const VC={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},GC=Object.keys(VC);function UC(t,e){return t-e}function qC(t,e){if(ny(e))return null;const n=t._adapter,{parser:i,round:o,isoWeekday:r}=t._parseOpts;let s=e;return"function"==typeof i&&(s=i(s)),ry(s)||(s="string"==typeof i?n.parse(s,i):n.parse(s)),null===s?null:(o&&(s="week"!==o||!Dy(r)&&!0!==r?n.startOf(s,o):n.startOf(s,"isoWeek",r)),+s)}function HC(t,e,n,i){const o=GC.length;for(let r=GC.indexOf(t);r<o-1;++r){const t=VC[GC[r]],o=t.steps?t.steps:Number.MAX_SAFE_INTEGER;if(t.common&&Math.ceil((n-e)/(o*t.size))<=i)return GC[r]}return GC[o-1]}function WC(t,e,n){if(n){if(n.length){const{lo:i,hi:o}=ax(n,e);t[n[i]>=e?n[i]:n[o]]=!0}}else t[e]=!0}function ZC(t,e,n){const i=[],o={},r=e.length;let s,a;for(s=0;s<r;++s)a=e[s],o[a]=s,i.push({value:a,major:!1});return 0!==r&&n?function(t,e,n,i){const o=t._adapter,r=+o.startOf(e[0].value,i),s=e[e.length-1].value;let a,l;for(a=r;a<=s;a=+o.add(a,1,i))l=n[a],l>=0&&(e[l].major=!0);return e}(t,i,o,n):i}class YC extends zw{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e){const n=t.time||(t.time={}),i=this._adapter=new Gb._date(t.adapters.date);_y(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return void 0===t?null:qC(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,n=t.time.unit||"day";let{min:i,max:o,minDefined:r,maxDefined:s}=this.getUserBounds();function a(t){r||isNaN(t.min)||(i=Math.min(i,t.min)),s||isNaN(t.max)||(o=Math.max(o,t.max))}r&&s||(a(this._getLabelBounds()),"ticks"===t.bounds&&"labels"===t.ticks.source||a(this.getMinMax(!1))),i=ry(i)&&!isNaN(i)?i:+e.startOf(Date.now(),n),o=ry(o)&&!isNaN(o)?o:+e.endOf(Date.now(),n)+1,this.min=Math.min(i,o-1),this.max=Math.max(i+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],n=t[t.length-1]),{min:e,max:n}}buildTicks(){const t=this.options,e=t.time,n=t.ticks,i="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const o=this.min,r=function(t,e,n){let i=0,o=t.length;for(;i<o&&t[i]<e;)i++;for(;o>i&&t[o-1]>n;)o--;return i>0||o<t.length?t.slice(i,o):t}(i,o,this.max);return this._unit=e.unit||(n.autoSkip?HC(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):function(t,e,n,i,o){for(let r=GC.length-1;r>=GC.indexOf(n);r--){const n=GC[r];if(VC[n].common&&t._adapter.diff(o,i,n)>=e-1)return n}return GC[n?GC.indexOf(n):0]}(this,r.length,e.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(t){for(let e=GC.indexOf(t)+1,n=GC.length;e<n;++e)if(VC[GC[e]].common)return GC[e]}(this._unit):void 0,this.initOffsets(i),t.reverse&&r.reverse(),ZC(this,r,this._majorUnit)}initOffsets(t){let e,n,i=0,o=0;this.options.offset&&t.length&&(e=this.getDecimalForValue(t[0]),i=1===t.length?1-e:(this.getDecimalForValue(t[1])-e)/2,n=this.getDecimalForValue(t[t.length-1]),o=1===t.length?n:(n-this.getDecimalForValue(t[t.length-2]))/2);const r=t.length<3?.5:.25;i=Wy(i,0,r),o=Wy(o,0,r),this._offsets={start:i,end:o,factor:1/(i+1+o)}}_generate(){const t=this._adapter,e=this.min,n=this.max,i=this.options,o=i.time,r=o.unit||HC(o.minUnit,e,n,this._getLabelCapacity(e)),s=ay(o.stepSize,1),a="week"===r&&o.isoWeekday,l=Dy(a)||!0===a,u={};let c,h,p=e;if(l&&(p=+t.startOf(p,"isoWeek",a)),p=+t.startOf(p,l?"day":r),t.diff(n,e,r)>1e5*s)throw new Error(e+" and "+n+" are too far apart with stepSize of "+s+" "+r);const f="data"===i.ticks.source&&this.getDataTimestamps();for(c=p,h=0;c<n;c=+t.add(c,s,r),h++)WC(u,c,f);return c!==n&&"ticks"!==i.bounds&&1!==h||WC(u,c,f),Object.keys(u).sort(((t,e)=>t-e)).map((t=>+t))}getLabelForValue(t){const e=this._adapter,n=this.options.time;return n.tooltipFormat?e.format(t,n.tooltipFormat):e.format(t,n.displayFormats.datetime)}_tickFormatFunction(t,e,n,i){const o=this.options,r=o.time.displayFormats,s=this._unit,a=this._majorUnit,l=s&&r[s],u=a&&r[a],c=n[e],h=a&&u&&c&&c.major,p=this._adapter.format(t,i||(h?u:l)),f=o.ticks.callback;return f?uy(f,[p,e,n],this):p}generateTickLabels(t){let e,n,i;for(e=0,n=t.length;e<n;++e)i=t[e],i.label=this._tickFormatFunction(i.value,e,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+n)*e.factor)}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,n=this.ctx.measureText(t).width,i=zy(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(i),r=Math.sin(i),s=this._resolveTickFontOptions(0).size;return{w:n*o+s*r,h:n*r+s*o}}_getLabelCapacity(t){const e=this.options.time,n=e.displayFormats,i=n[e.unit]||n.millisecond,o=this._tickFormatFunction(t,0,ZC(this,[t],this._majorUnit),i),r=this._getLabelSize(o),s=Math.floor(this.isHorizontal()?this.width/r.w:this.height/r.h)-1;return s>0?s:1}getDataTimestamps(){let t,e,n=this._cache.data||[];if(n.length)return n;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,e=i.length;t<e;++t)n=n.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const t=this._cache.labels||[];let e,n;if(t.length)return t;const i=this.getLabels();for(e=0,n=i.length;e<n;++e)t.push(qC(this,i[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return px(t.sort(UC))}}function XC(t,e,n){let i,o,r,s,a=0,l=t.length-1;n?(e>=t[a].pos&&e<=t[l].pos&&({lo:a,hi:l}=lx(t,"pos",e)),({pos:i,time:r}=t[a]),({pos:o,time:s}=t[l])):(e>=t[a].time&&e<=t[l].time&&({lo:a,hi:l}=lx(t,"time",e)),({time:i,pos:r}=t[a]),({time:o,pos:s}=t[l]));const u=o-i;return u?r+(s-r)*(e-i)/u:r}YC.id="time",YC.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};class $C extends YC{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=XC(e,this.min),this._tableRange=XC(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:n}=this,i=[],o=[];let r,s,a,l,u;for(r=0,s=t.length;r<s;++r)l=t[r],l>=e&&l<=n&&i.push(l);if(i.length<2)return[{time:e,pos:0},{time:n,pos:1}];for(r=0,s=i.length;r<s;++r)u=i[r+1],a=i[r-1],l=i[r],Math.round((u+a)/2)!==l&&o.push({time:l,pos:r/(s-1)});return o}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),n=this.getLabelTimestamps();return t=e.length&&n.length?this.normalize(e.concat(n)):e.length?e:n,t=this._cache.all=t,t}getDecimalForValue(t){return(XC(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return XC(this._table,n*this._tableRange+this._minPos,!0)}}$C.id="timeseries",$C.defaults=YC.defaults;var KC=Object.freeze({__proto__:null,CategoryScale:SC,LinearScale:MC,LogarithmicScale:TC,RadialLinearScale:jC,TimeScale:YC,TimeSeriesScale:$C});const JC=[Bb,kE,EC,KC];var QC=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",Animation:lb,Animations:cb,ArcElement:mE,BarController:Tb,BarElement:DE,BasePlatform:cw,BasicPlatform:hw,BubbleController:Ob,CategoryScale:SC,Chart:cE,DatasetController:wb,Decimation:BE,DomPlatform:Sw,DoughnutController:Ab,Element:Lw,Filler:nC,Interaction:$b,Legend:rC,LineController:Rb,LineElement:IE,LinearScale:MC,LogarithmicScale:TC,PieController:kb,PointElement:PE,PolarAreaController:Db,RadarController:Fb,RadialLinearScale:jC,Scale:zw,ScatterController:zb,SubTitle:uC,Ticks:Mw,TimeScale:YC,TimeSeriesScale:$C,Title:aC,Tooltip:wC,_adapters:Gb,_detectPlatform:Iw,animator:sb,controllers:Bb,elements:kE,layouts:uw,plugins:EC,registerables:JC,registry:jw,scales:KC,defaults:Fv}),tS={},eS={},nS=Nl(QC);var iS=function(){this.__data__=[],this.size=0};var oS=function(t,e){return t===e||t!=t&&e!=e},rS=oS;var sS=function(t,e){for(var n=t.length;n--;)if(rS(t[n][0],e))return n;return-1},aS=sS,lS=Array.prototype.splice;var uS=sS;var cS=sS;var hS=sS;var pS=iS,fS=function(t){var e=this.__data__,n=aS(e,t);return!(n<0)&&(n==e.length-1?e.pop():lS.call(e,n,1),--this.size,!0)},dS=function(t){var e=this.__data__,n=uS(e,t);return n<0?void 0:e[n][1]},gS=function(t){return cS(this.__data__,t)>-1},_S=function(t,e){var n=this.__data__,i=hS(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this};function mS(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}mS.prototype.clear=pS,mS.prototype.delete=fS,mS.prototype.get=dS,mS.prototype.has=gS,mS.prototype.set=_S;var yS=mS,vS=yS;var xS=function(){this.__data__=new vS,this.size=0};var bS=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n};var wS=function(t){return this.__data__.get(t)};var ES=function(t){return this.__data__.has(t)},CS="object"==typeof Ml&&Ml&&Ml.Object===Object&&Ml,SS=CS,IS="object"==typeof self&&self&&self.Object===Object&&self,LS=SS||IS||Function("return this")(),PS=LS.Symbol,MS=PS,NS=Object.prototype,TS=NS.hasOwnProperty,OS=NS.toString,AS=MS?MS.toStringTag:void 0;var RS=function(t){var e=TS.call(t,AS),n=t[AS];try{t[AS]=void 0;var i=!0}catch(r){}var o=OS.call(t);return i&&(e?t[AS]=n:delete t[AS]),o},DS=Object.prototype.toString;var kS=RS,FS=function(t){return DS.call(t)},zS=PS?PS.toStringTag:void 0;var BS=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":zS&&zS in Object(t)?kS(t):FS(t)};var jS=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},VS=BS,GS=jS;var US,qS=function(t){if(!GS(t))return!1;var e=VS(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},HS=LS["__core-js_shared__"],WS=(US=/[^.]+$/.exec(HS&&HS.keys&&HS.keys.IE_PROTO||""))?"Symbol(src)_1."+US:"";var ZS=function(t){return!!WS&&WS in t},YS=Function.prototype.toString;var XS=function(t){if(null!=t){try{return YS.call(t)}catch(e){}try{return t+""}catch(e){}}return""},$S=qS,KS=ZS,JS=jS,QS=XS,tI=/^\[object .+?Constructor\]$/,eI=Function.prototype,nI=Object.prototype,iI=eI.toString,oI=nI.hasOwnProperty,rI=RegExp("^"+iI.call(oI).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var sI=function(t){return!(!JS(t)||KS(t))&&($S(t)?rI:tI).test(QS(t))},aI=function(t,e){return null==t?void 0:t[e]};var lI=function(t,e){var n=aI(t,e);return sI(n)?n:void 0},uI=lI(LS,"Map"),cI=lI(Object,"create"),hI=cI;var pI=function(){this.__data__=hI?hI(null):{},this.size=0};var fI=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},dI=cI,gI=Object.prototype.hasOwnProperty;var _I=function(t){var e=this.__data__;if(dI){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return gI.call(e,t)?e[t]:void 0},mI=cI,yI=Object.prototype.hasOwnProperty;var vI=cI;var xI=pI,bI=fI,wI=_I,EI=function(t){var e=this.__data__;return mI?void 0!==e[t]:yI.call(e,t)},CI=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=vI&&void 0===e?"__lodash_hash_undefined__":e,this};function SI(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}SI.prototype.clear=xI,SI.prototype.delete=bI,SI.prototype.get=wI,SI.prototype.has=EI,SI.prototype.set=CI;var II=SI,LI=yS,PI=uI;var MI=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var NI=function(t,e){var n=t.__data__;return MI(e)?n["string"==typeof e?"string":"hash"]:n.map},TI=NI;var OI=NI;var AI=NI;var RI=NI;var DI=function(){this.size=0,this.__data__={hash:new II,map:new(PI||LI),string:new II}},kI=function(t){var e=TI(this,t).delete(t);return this.size-=e?1:0,e},FI=function(t){return OI(this,t).get(t)},zI=function(t){return AI(this,t).has(t)},BI=function(t,e){var n=RI(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this};function jI(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}jI.prototype.clear=DI,jI.prototype.delete=kI,jI.prototype.get=FI,jI.prototype.has=zI,jI.prototype.set=BI;var VI=jI,GI=yS,UI=uI,qI=VI;var HI=yS,WI=xS,ZI=bS,YI=wS,XI=ES,$I=function(t,e){var n=this.__data__;if(n instanceof GI){var i=n.__data__;if(!UI||i.length<199)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new qI(i)}return n.set(t,e),this.size=n.size,this};function KI(t){var e=this.__data__=new HI(t);this.size=e.size}KI.prototype.clear=WI,KI.prototype.delete=ZI,KI.prototype.get=YI,KI.prototype.has=XI,KI.prototype.set=$I;var JI=KI;var QI=function(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););return t},tL=lI,eL=function(){try{var t=tL(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();var nL=function(t,e,n){"__proto__"==e&&eL?eL(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},iL=nL,oL=oS,rL=Object.prototype.hasOwnProperty;var sL=function(t,e,n){var i=t[e];rL.call(t,e)&&oL(i,n)&&(void 0!==n||e in t)||iL(t,e,n)},aL=sL,lL=nL;var uL=function(t,e,n,i){var o=!n;n||(n={});for(var r=-1,s=e.length;++r<s;){var a=e[r],l=i?i(n[a],t[a],a,n,t):void 0;void 0===l&&(l=t[a]),o?lL(n,a,l):aL(n,a,l)}return n};var cL=function(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i};var hL=function(t){return null!=t&&"object"==typeof t},pL=BS,fL=hL;var dL,gL,_L,mL,yL,vL,xL,bL,wL=function(t){return fL(t)&&"[object Arguments]"==pL(t)},EL=hL,CL=Object.prototype,SL=CL.hasOwnProperty,IL=CL.propertyIsEnumerable,LL=wL(function(){return arguments}())?wL:function(t){return EL(t)&&SL.call(t,"callee")&&!IL.call(t,"callee")},PL=Array.isArray,ML={exports:{}};dL=ML,_L=LS,mL=function(){return!1},yL=(gL=ML.exports)&&!gL.nodeType&&gL,vL=yL&&dL&&!dL.nodeType&&dL,xL=vL&&vL.exports===yL?_L.Buffer:void 0,bL=(xL?xL.isBuffer:void 0)||mL,dL.exports=bL;var NL=/^(?:0|[1-9]\d*)$/;var TL=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&NL.test(t))&&t>-1&&t%1==0&&t<e};var OL=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},AL=BS,RL=OL,DL=hL,kL={};kL["[object Float32Array]"]=kL["[object Float64Array]"]=kL["[object Int8Array]"]=kL["[object Int16Array]"]=kL["[object Int32Array]"]=kL["[object Uint8Array]"]=kL["[object Uint8ClampedArray]"]=kL["[object Uint16Array]"]=kL["[object Uint32Array]"]=!0,kL["[object Arguments]"]=kL["[object Array]"]=kL["[object ArrayBuffer]"]=kL["[object Boolean]"]=kL["[object DataView]"]=kL["[object Date]"]=kL["[object Error]"]=kL["[object Function]"]=kL["[object Map]"]=kL["[object Number]"]=kL["[object Object]"]=kL["[object RegExp]"]=kL["[object Set]"]=kL["[object String]"]=kL["[object WeakMap]"]=!1;var FL=function(t){return DL(t)&&RL(t.length)&&!!kL[AL(t)]};var zL=function(t){return function(e){return t(e)}},BL={exports:{}};!function(t,e){var n=CS,i=e&&!e.nodeType&&e,o=i&&t&&!t.nodeType&&t,r=o&&o.exports===i&&n.process,s=function(){try{var t=o&&o.require&&o.require("util").types;return t||r&&r.binding&&r.binding("util")}catch(e){}}();t.exports=s}(BL,BL.exports);var jL=FL,VL=zL,GL=BL.exports,UL=GL&&GL.isTypedArray,qL=UL?VL(UL):jL,HL=cL,WL=LL,ZL=PL,YL=ML.exports,XL=TL,$L=qL,KL=Object.prototype.hasOwnProperty;var JL=function(t,e){var n=ZL(t),i=!n&&WL(t),o=!n&&!i&&YL(t),r=!n&&!i&&!o&&$L(t),s=n||i||o||r,a=s?HL(t.length,String):[],l=a.length;for(var u in t)!e&&!KL.call(t,u)||s&&("length"==u||o&&("offset"==u||"parent"==u)||r&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||XL(u,l))||a.push(u);return a},QL=Object.prototype;var tP=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||QL)};var eP=function(t,e){return function(n){return t(e(n))}},nP=eP(Object.keys,Object),iP=tP,oP=nP,rP=Object.prototype.hasOwnProperty;var sP=qS,aP=OL;var lP=function(t){return null!=t&&aP(t.length)&&!sP(t)},uP=JL,cP=function(t){if(!iP(t))return oP(t);var e=[];for(var n in Object(t))rP.call(t,n)&&"constructor"!=n&&e.push(n);return e},hP=lP;var pP=function(t){return hP(t)?uP(t):cP(t)},fP=uL,dP=pP;var gP=function(t,e){return t&&fP(e,dP(e),t)};var _P=jS,mP=tP,yP=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e},vP=Object.prototype.hasOwnProperty;var xP=JL,bP=function(t){if(!_P(t))return yP(t);var e=mP(t),n=[];for(var i in t)("constructor"!=i||!e&&vP.call(t,i))&&n.push(i);return n},wP=lP;var EP=function(t){return wP(t)?xP(t,!0):bP(t)},CP=uL,SP=EP;var IP=function(t,e){return t&&CP(e,SP(e),t)},LP={exports:{}};!function(t,e){var n=LS,i=e&&!e.nodeType&&e,o=i&&t&&!t.nodeType&&t,r=o&&o.exports===i?n.Buffer:void 0,s=r?r.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,i=s?s(n):new t.constructor(n);return t.copy(i),i}}(LP,LP.exports);var PP=function(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e};var MP=function(){return[]},NP=function(t,e){for(var n=-1,i=null==t?0:t.length,o=0,r=[];++n<i;){var s=t[n];e(s,n,t)&&(r[o++]=s)}return r},TP=MP,OP=Object.prototype.propertyIsEnumerable,AP=Object.getOwnPropertySymbols,RP=AP?function(t){return null==t?[]:(t=Object(t),NP(AP(t),(function(e){return OP.call(t,e)})))}:TP,DP=uL,kP=RP;var FP=function(t,e){return DP(t,kP(t),e)};var zP=function(t,e){for(var n=-1,i=e.length,o=t.length;++n<i;)t[o+n]=e[n];return t},BP=eP(Object.getPrototypeOf,Object),jP=zP,VP=BP,GP=RP,UP=MP,qP=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)jP(e,GP(t)),t=VP(t);return e}:UP,HP=uL,WP=qP;var ZP=function(t,e){return HP(t,WP(t),e)},YP=zP,XP=PL;var $P=function(t,e,n){var i=e(t);return XP(t)?i:YP(i,n(t))},KP=$P,JP=RP,QP=pP;var tM=function(t){return KP(t,QP,JP)},eM=$P,nM=qP,iM=EP;var oM=function(t){return eM(t,iM,nM)},rM=lI(LS,"DataView"),sM=uI,aM=lI(LS,"Promise"),lM=lI(LS,"Set"),uM=lI(LS,"WeakMap"),cM=BS,hM=XS,pM=hM(rM),fM=hM(sM),dM=hM(aM),gM=hM(lM),_M=hM(uM),mM=cM;(rM&&"[object DataView]"!=mM(new rM(new ArrayBuffer(1)))||sM&&"[object Map]"!=mM(new sM)||aM&&"[object Promise]"!=mM(aM.resolve())||lM&&"[object Set]"!=mM(new lM)||uM&&"[object WeakMap]"!=mM(new uM))&&(mM=function(t){var e=cM(t),n="[object Object]"==e?t.constructor:void 0,i=n?hM(n):"";if(i)switch(i){case pM:return"[object DataView]";case fM:return"[object Map]";case dM:return"[object Promise]";case gM:return"[object Set]";case _M:return"[object WeakMap]"}return e});var yM=mM,vM=Object.prototype.hasOwnProperty;var xM=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&vM.call(t,"index")&&(n.index=t.index,n.input=t.input),n},bM=LS.Uint8Array,wM=bM;var EM=function(t){var e=new t.constructor(t.byteLength);return new wM(e).set(new wM(t)),e},CM=EM;var SM=function(t,e){var n=e?CM(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)},IM=/\w*$/;var LM=function(t){var e=new t.constructor(t.source,IM.exec(t));return e.lastIndex=t.lastIndex,e},PM=PS?PS.prototype:void 0,MM=PM?PM.valueOf:void 0;var NM=EM;var TM=EM,OM=SM,AM=LM,RM=function(t){return MM?Object(MM.call(t)):{}},DM=function(t,e){var n=e?NM(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)};var kM=function(t,e,n){var i=t.constructor;switch(e){case"[object ArrayBuffer]":return TM(t);case"[object Boolean]":case"[object Date]":return new i(+t);case"[object DataView]":return OM(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return DM(t,n);case"[object Map]":return new i;case"[object Number]":case"[object String]":return new i(t);case"[object RegExp]":return AM(t);case"[object Set]":return new i;case"[object Symbol]":return RM(t)}},FM=jS,zM=Object.create,BM=function(){function t(){}return function(e){if(!FM(e))return{};if(zM)return zM(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),jM=BP,VM=tP;var GM=function(t){return"function"!=typeof t.constructor||VM(t)?{}:BM(jM(t))},UM=yM,qM=hL;var HM=function(t){return qM(t)&&"[object Map]"==UM(t)},WM=zL,ZM=BL.exports,YM=ZM&&ZM.isMap,XM=YM?WM(YM):HM,$M=yM,KM=hL;var JM=function(t){return KM(t)&&"[object Set]"==$M(t)},QM=zL,tN=BL.exports,eN=tN&&tN.isSet,nN=eN?QM(eN):JM,iN=JI,oN=QI,rN=sL,sN=gP,aN=IP,lN=LP.exports,uN=PP,cN=FP,hN=ZP,pN=tM,fN=oM,dN=yM,gN=xM,_N=kM,mN=GM,yN=PL,vN=ML.exports,xN=XM,bN=jS,wN=nN,EN=pP,CN=EP,SN={};SN["[object Arguments]"]=SN["[object Array]"]=SN["[object ArrayBuffer]"]=SN["[object DataView]"]=SN["[object Boolean]"]=SN["[object Date]"]=SN["[object Float32Array]"]=SN["[object Float64Array]"]=SN["[object Int8Array]"]=SN["[object Int16Array]"]=SN["[object Int32Array]"]=SN["[object Map]"]=SN["[object Number]"]=SN["[object Object]"]=SN["[object RegExp]"]=SN["[object Set]"]=SN["[object String]"]=SN["[object Symbol]"]=SN["[object Uint8Array]"]=SN["[object Uint8ClampedArray]"]=SN["[object Uint16Array]"]=SN["[object Uint32Array]"]=!0,SN["[object Error]"]=SN["[object Function]"]=SN["[object WeakMap]"]=!1;var IN=function t(e,n,i,o,r,s){var a,l=1&n,u=2&n,c=4&n;if(i&&(a=r?i(e,o,r,s):i(e)),void 0!==a)return a;if(!bN(e))return e;var h=yN(e);if(h){if(a=gN(e),!l)return uN(e,a)}else{var p=dN(e),f="[object Function]"==p||"[object GeneratorFunction]"==p;if(vN(e))return lN(e,l);if("[object Object]"==p||"[object Arguments]"==p||f&&!r){if(a=u||f?{}:mN(e),!l)return u?hN(e,aN(a,e)):cN(e,sN(a,e))}else{if(!SN[p])return r?e:{};a=_N(e,p,l)}}s||(s=new iN);var d=s.get(e);if(d)return d;s.set(e,a),wN(e)?e.forEach((function(o){a.add(t(o,n,i,o,e,s))})):xN(e)&&e.forEach((function(o,r){a.set(r,t(o,n,i,r,e,s))}));var g=h?void 0:(c?u?fN:pN:u?CN:EN)(e);return oN(g||e,(function(o,r){g&&(o=e[r=o]),rN(a,r,t(o,n,i,r,e,s))})),a};var LN=function(t){return IN(t,5)};var PN=VI,MN=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},NN=function(t){return this.__data__.has(t)};function TN(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new PN;++e<n;)this.add(t[e])}TN.prototype.add=TN.prototype.push=MN,TN.prototype.has=NN;var ON=TN,AN=function(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1},RN=function(t,e){return t.has(e)};var DN=function(t,e,n,i,o,r){var s=1&n,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=r.get(t),c=r.get(e);if(u&&c)return u==e&&c==t;var h=-1,p=!0,f=2&n?new ON:void 0;for(r.set(t,e),r.set(e,t);++h<a;){var d=t[h],g=e[h];if(i)var _=s?i(g,d,h,e,t,r):i(d,g,h,t,e,r);if(void 0!==_){if(_)continue;p=!1;break}if(f){if(!AN(e,(function(t,e){if(!RN(f,e)&&(d===t||o(d,t,n,i,r)))return f.push(e)}))){p=!1;break}}else if(d!==g&&!o(d,g,n,i,r)){p=!1;break}}return r.delete(t),r.delete(e),p};var kN=bM,FN=oS,zN=DN,BN=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,i){n[++e]=[i,t]})),n},jN=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n},VN=PS?PS.prototype:void 0,GN=VN?VN.valueOf:void 0;var UN=function(t,e,n,i,o,r,s){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!r(new kN(t),new kN(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return FN(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var a=BN;case"[object Set]":var l=1&i;if(a||(a=jN),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;i|=2,s.set(t,e);var c=zN(a(t),a(e),i,o,r,s);return s.delete(t),c;case"[object Symbol]":if(GN)return GN.call(t)==GN.call(e)}return!1},qN=tM,HN=Object.prototype.hasOwnProperty;var WN=JI,ZN=DN,YN=UN,XN=function(t,e,n,i,o,r){var s=1&n,a=qN(t),l=a.length;if(l!=qN(e).length&&!s)return!1;for(var u=l;u--;){var c=a[u];if(!(s?c in e:HN.call(e,c)))return!1}var h=r.get(t),p=r.get(e);if(h&&p)return h==e&&p==t;var f=!0;r.set(t,e),r.set(e,t);for(var d=s;++u<l;){var g=t[c=a[u]],_=e[c];if(i)var m=s?i(_,g,c,e,t,r):i(g,_,c,t,e,r);if(!(void 0===m?g===_||o(g,_,n,i,r):m)){f=!1;break}d||(d="constructor"==c)}if(f&&!d){var y=t.constructor,v=e.constructor;y==v||!("constructor"in t)||!("constructor"in e)||"function"==typeof y&&y instanceof y&&"function"==typeof v&&v instanceof v||(f=!1)}return r.delete(t),r.delete(e),f},$N=yM,KN=PL,JN=ML.exports,QN=qL,tT="[object Object]",eT=Object.prototype.hasOwnProperty;var nT=function(t,e,n,i,o,r){var s=KN(t),a=KN(e),l=s?"[object Array]":$N(t),u=a?"[object Array]":$N(e),c=(l="[object Arguments]"==l?tT:l)==tT,h=(u="[object Arguments]"==u?tT:u)==tT,p=l==u;if(p&&JN(t)){if(!JN(e))return!1;s=!0,c=!1}if(p&&!c)return r||(r=new WN),s||QN(t)?ZN(t,e,n,i,o,r):YN(t,e,l,n,i,o,r);if(!(1&n)){var f=c&&eT.call(t,"__wrapped__"),d=h&&eT.call(e,"__wrapped__");if(f||d){var g=f?t.value():t,_=d?e.value():e;return r||(r=new WN),o(g,_,n,i,r)}}return!!p&&(r||(r=new WN),XN(t,e,n,i,o,r))},iT=hL;var oT=function t(e,n,i,o,r){return e===n||(null==e||null==n||!iT(e)&&!iT(n)?e!=e&&n!=n:nT(e,n,i,o,t,r))};var rT=function(t,e){return oT(t,e)};let sT=t=>crypto.getRandomValues(new Uint8Array(t)),aT=(t,e,n)=>{let i=(2<<Math.log(t.length-1)/Math.LN2)-1,o=-~(1.6*i*e/t.length);return()=>{let r="";for(;;){let s=n(o),a=o;for(;a--;)if(r+=t[s[a]&i]||"",r.length===e)return r}}};var lT=Nl(Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",nanoid:(t=21)=>{let e="",n=crypto.getRandomValues(new Uint8Array(t));for(;t--;){let i=63&n[t];e+=i<36?i.toString(36):i<62?(i-26).toString(36).toUpperCase():i<63?"_":"-"}return e},customAlphabet:(t,e)=>aT(t,e,sT),customRandom:aT,urlAlphabet:"useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",random:sT})),uT=Nl($s),cT={};var hT=BS,pT=hL;var fT=function(t,e){for(var n=-1,i=null==t?0:t.length,o=Array(i);++n<i;)o[n]=e(t[n],n,t);return o},dT=PL,gT=function(t){return"symbol"==typeof t||pT(t)&&"[object Symbol]"==hT(t)},_T=PS?PS.prototype:void 0,mT=_T?_T.toString:void 0;var yT=function t(e){if("string"==typeof e)return e;if(dT(e))return fT(e,t)+"";if(gT(e))return mT?mT.call(e):"";var n=e+"";return"0"==n&&1/e==-Infinity?"-0":n};var vT=function(t){return null==t?"":yT(t)};var xT=function(t,e,n){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var r=Array(o);++i<o;)r[i]=t[i+e];return r};var bT=function(t,e,n){var i=t.length;return n=void 0===n?i:n,!e&&n>=i?t:xT(t,e,n)},wT=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var ET=function(t){return wT.test(t)};var CT=function(t){return t.split("")},ST="[\\ud800-\\udfff]",IT="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",LT="\\ud83c[\\udffb-\\udfff]",PT="[^\\ud800-\\udfff]",MT="(?:\\ud83c[\\udde6-\\uddff]){2}",NT="[\\ud800-\\udbff][\\udc00-\\udfff]",TT="(?:"+IT+"|"+LT+")"+"?",OT="[\\ufe0e\\ufe0f]?"+TT+("(?:\\u200d(?:"+[PT,MT,NT].join("|")+")[\\ufe0e\\ufe0f]?"+TT+")*"),AT="(?:"+[PT+IT+"?",IT,MT,NT,ST].join("|")+")",RT=RegExp(LT+"(?="+LT+")|"+AT+OT,"g");var DT=CT,kT=ET,FT=function(t){return t.match(RT)||[]};var zT=bT,BT=ET,jT=function(t){return kT(t)?FT(t):DT(t)},VT=vT;var GT=function(t){return function(e){e=VT(e);var n=BT(e)?jT(e):void 0,i=n?n[0]:e.charAt(0),o=n?zT(n,1).join(""):e.slice(1);return i[t]()+o}}("toUpperCase"),UT=vT,qT=GT;var HT=function(t){return qT(UT(t).toLowerCase())};var WT=function(t,e,n,i){var o=-1,r=null==t?0:t.length;for(i&&r&&(n=t[++o]);++o<r;)n=e(n,t[o],o,t);return n};var ZT=function(t){return function(e){return null==t?void 0:t[e]}}({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),YT=vT,XT=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,$T=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");var KT=function(t){return(t=YT(t))&&t.replace(XT,ZT).replace($T,"")},JT=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;var QT=function(t){return t.match(JT)||[]},tO=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var eO=function(t){return tO.test(t)},nO="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",iO="["+nO+"]",oO="\\d+",rO="[\\u2700-\\u27bf]",sO="[a-z\\xdf-\\xf6\\xf8-\\xff]",aO="[^\\ud800-\\udfff"+nO+oO+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",lO="(?:\\ud83c[\\udde6-\\uddff]){2}",uO="[\\ud800-\\udbff][\\udc00-\\udfff]",cO="[A-Z\\xc0-\\xd6\\xd8-\\xde]",hO="(?:"+sO+"|"+aO+")",pO="(?:"+cO+"|"+aO+")",fO="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",dO="[\\ufe0e\\ufe0f]?"+fO+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",lO,uO].join("|")+")[\\ufe0e\\ufe0f]?"+fO+")*"),gO="(?:"+[rO,lO,uO].join("|")+")"+dO,_O=RegExp([cO+"?"+sO+"+(?:['](?:d|ll|m|re|s|t|ve))?(?="+[iO,cO,"$"].join("|")+")",pO+"+(?:['](?:D|LL|M|RE|S|T|VE))?(?="+[iO,cO+hO,"$"].join("|")+")",cO+"?"+hO+"+(?:['](?:d|ll|m|re|s|t|ve))?",cO+"+(?:['](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",oO,gO].join("|"),"g");var mO=QT,yO=eO,vO=vT,xO=function(t){return t.match(_O)||[]};var bO=WT,wO=KT,EO=function(t,e,n){return t=vO(t),void 0===(e=n?void 0:e)?yO(t)?xO(t):mO(t):t.match(e)||[]},CO=RegExp("[']","g");var SO=function(t){return function(e){return bO(EO(wO(e).replace(CO,"")),t,"")}},IO=HT,LO=SO((function(t,e,n){return e=e.toLowerCase(),t+(n?IO(e):e)})),PO=GT,MO=SO((function(t,e,n){return t+(n?" ":"")+PO(e)})),NO=Ml&&Ml.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(cT,"__esModule",{value:!0}),cT.pascalCase=void 0;const TO=NO(LO),OO=NO(MO);cT.pascalCase=t=>(0,OO.default)((0,TO.default)(t)).replace(/ /g,"");var AO=Ml&&Ml.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(eS,"__esModule",{value:!0}),eS.defineChartComponent=void 0;const RO=nS,DO=AO(LN),kO=AO(rT),FO=lT,zO=uT,BO=cT;eS.defineChartComponent=(t,e)=>{const n={chartData:{type:Object,required:!0},options:{type:Object,required:!1},chartId:{default:t,type:String},width:{default:400,type:Number},height:{default:400,type:Number},cssClasses:{type:String,default:""},styles:{type:Object},plugins:{type:Array,default:()=>[]},onLabelsUpdate:{type:Function},onChartUpdate:{type:Function},onChartDestroy:{type:Function},onChartRender:{type:Function}},i=(0,BO.pascalCase)(t);return(0,zO.defineComponent)({name:i,props:n,emits:{"labels:update":()=>!0,"chart:update":t=>!0,"chart:destroy":()=>!0,"chart:render":t=>!0},setup(n,{emit:o}){const r=(0,zO.ref)(),s=`${t}-${(0,FO.nanoid)(6)}`;let a=(0,zO.shallowRef)(null);function l(){var t;r.value?(a.value=new RO.Chart(r.value,{data:n.chartData,type:e,options:(0,DO.default)(n.options),plugins:n.plugins}),a.value&&(o("chart:render",a.value),null===(t=n.onChartRender)||void 0===t||t.call(n,a.value))):console.error(`Error on component ${i}, canvas cannot be rendered. Check if the render appends server-side`)}function u(){var t;a.value&&(a.value.update(),o("chart:render",a.value),null===(t=n.onChartRender)||void 0===t||t.call(n,a.value))}function c(){var t,e;null===(t=a.value)||void 0===t||t.destroy(),o("chart:destroy"),null===(e=n.onChartDestroy)||void 0===e||e.call(n)}return(0,zO.watch)((()=>n.chartData),(function(t,e){if(e){let r=a.value,s=t.datasets.map((t=>t.label)),h=e.datasets.map((t=>t.label));const p=JSON.stringify(h);JSON.stringify(s)===p&&e.datasets.length===t.datasets.length&&r?(t.datasets.forEach(((t,n)=>{const i=Object.keys(e.datasets[n]),o=Object.keys(t);i.filter((t=>"_meta"!==t&&-1===o.indexOf(t))).forEach((t=>{(null==r?void 0:r.data.datasets[n])&&delete r.data.datasets[n][t]}));for(const e in t){const i=t[e];t.hasOwnProperty(e)&&i&&r&&(r.data.datasets[n][e]=i)}})),t.hasOwnProperty("labels")&&(r.data.labels=t.labels,o("labels:update"),null===(i=n.onLabelsUpdate)||void 0===i||i.call(n)),u()):(r&&c(),l())}else a.value&&c(),l();var i}),{deep:!0}),(0,zO.watch)((()=>n.options),((t,e)=>{a.value&&t&&!(0,kO.default)(a.value.options,e)&&(a.value.options=(0,DO.default)(t),e=(0,DO.default)(t),u())}),{deep:!0}),(0,zO.onMounted)(l),(0,zO.onBeforeUnmount)((()=>{var t;a.value&&(null===(t=a.value)||void 0===t||t.destroy())})),{canvasRef:r,renderChart:l,chartInstance:a,canvasId:s}},render(){return(0,zO.h)("div",{style:l(a({maxWidth:"100%"},this.styles),{position:"relative"}),class:this.cssClasses},[(0,zO.h)("canvas",{style:{maxWidth:"100%",maxHeight:"100%"},id:this.canvasId,width:this.width,height:this.height,ref:"canvasRef"})])}})};var jO={};Object.defineProperty(jO,"__esModule",{value:!0}),jO.useScatterChart=jO.useBubbleChart=jO.useRadarChart=jO.usePolarAreaChart=jO.usePieChart=jO.useLineChart=jO.useBarChart=jO.useDoughnutChart=void 0;const VO=uT,GO=t=>e=>{const n=(0,VO.computed)((()=>l(a({},e),{ref:`${t}ChartRef`,chartData:(0,VO.unref)(e.chartData),options:(0,VO.unref)(e.options)})));return{[`${t}ChartProps`]:n,[`${t}ChartRef`]:(0,VO.ref)(null)}};jO.useDoughnutChart=GO("doughnut"),jO.useBarChart=GO("bar"),jO.useLineChart=GO("line"),jO.usePieChart=GO("pie"),jO.usePolarAreaChart=GO("polarArea"),jO.useRadarChart=GO("radar"),jO.useBubbleChart=GO("bubble"),jO.useScatterChart=GO("scatter"),function(t){var e=Ml&&Ml.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),n=Ml&&Ml.__exportStar||function(t,n){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(n,i)||e(n,t,i)};Object.defineProperty(t,"__esModule",{value:!0}),t.ScatterChart=t.BubbleChart=t.RadarChart=t.PolarAreaChart=t.PieChart=t.LineChart=t.DoughnutChart=t.BarChart=t.defineChartComponent=void 0;const i=eS;var o=eS;Object.defineProperty(t,"defineChartComponent",{enumerable:!0,get:function(){return o.defineChartComponent}}),n(jO,t),t.BarChart=(0,i.defineChartComponent)("bar-chart","bar"),t.DoughnutChart=(0,i.defineChartComponent)("doughnut-chart","doughnut"),t.LineChart=(0,i.defineChartComponent)("line-chart","line"),t.PieChart=(0,i.defineChartComponent)("pie-chart","pie"),t.PolarAreaChart=(0,i.defineChartComponent)("polar-chart","polarArea"),t.RadarChart=(0,i.defineChartComponent)("radar-chart","radar"),t.BubbleChart=(0,i.defineChartComponent)("bubble-chart","bubble"),t.ScatterChart=(0,i.defineChartComponent)("scatter-chart","scatter"),t.default={BarChart:t.BarChart,DoughnutChart:t.DoughnutChart,LineChart:t.LineChart,PieChart:t.PieChart,PolarAreaChart:t.PolarAreaChart,RadarChart:t.RadarChart,BubbleChart:t.BubbleChart,ScatterChart:t.ScatterChart,defineChartComponent:i.defineChartComponent}}(tS);export{JC as $,$l as A,f as B,Iu as C,Kl as D,bc as E,Vi as F,ru as G,du as H,mc as I,Lu as J,Tc as K,Fs as L,ve as M,jm as N,Vm as O,Tl as P,Gm as Q,Xm as R,uo as S,vr as T,yu as U,Wm as V,Um as W,Hm as X,Ym as Y,qm as Z,cE as _,Je as a,Zm as a0,tS as a1,yc as a2,co as a3,Sl as a4,Ma as a5,Ys as a6,Oe as b,Qi as c,Am as d,Bn as e,Pl as f,Ll as g,Ji as h,ro as i,so as j,ke as k,zm as l,Bm as m,m as n,Zi as o,Ke as p,ho as q,Fi as r,mo as s,x as t,Kr as u,nu as v,Qe as w,Yl as x,au as y,Ql as z};
